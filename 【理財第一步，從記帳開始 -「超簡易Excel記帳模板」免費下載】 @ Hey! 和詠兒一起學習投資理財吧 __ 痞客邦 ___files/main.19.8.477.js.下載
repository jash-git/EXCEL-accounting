__IASScope.__IntegralASExec=__IASScope.__IntegralASExec||{},__IASScope.__IntegralASExec["19.8.477"]=__IASScope.__IntegralASExec["19.8.477"]||{},__IASScope.__IntegralASExec["19.8.477"].initialize=function(e,t,n){class r{constructor(){this.logs=[]}add({storeModelName:e,key:t,value:n,timeStamp:r}){this.logs.push({storeModelName:e,key:t,value:n,timeStamp:r})}getHistory(){return this.logs}logHistory(){}}class i{constructor({storeModelName:e}){this.storeModelName=e,this.storeModelHistory=new r}set(e,t,n={locked:!0}){try{Object.defineProperty(this,e,{value:t,writable:!n.locked,configurable:!1}),this.storeModelHistory.add({storeModelName:this.storeModelName,key:e,value:t,timeStamp:Date.now()})}catch(e){}}get(e){return this[e]}getHistory(){return this.storeModelHistory.getHistory()}logHistory(){this.storeModelHistory.logHistory()}}class o extends i{constructor(){super({storeModelName:"jsConfigRequest"}),this.contentType="",this.url="",this.verificationParameters={},this.contentType=""}buildRequestUrlFromParameters({contextNode:e,omidParameters:t}){this.setParameters({contextNode:e,omidParameters:t}),this.buildRequestUrl({contextNode:e})}setParameters({contextNode:t,omidParameters:n}){if(n)if("string"==typeof n)try{const e=JSON.parse(n);this.set("verificationParameters",e,{locked:!1})}catch(e){}else this.set("verificationParameters",n,{locked:!1});else{const n=null==t?void 0:t.dataAttributes,r=(null==n?void 0:n.iasParameters)||e.iasParameters;if("string"==typeof r)try{this.set("verificationParameters",JSON.parse(r),{locked:!1})}catch(e){}else void 0!==r&&this.set("verificationParameters",r,{locked:!1})}this.set("contentType",this.verificationParameters.contentType||"",{locked:!1})}buildRequestUrl({contextNode:t}={}){const n=(({contextNode:t,verificationParameters:n}={})=>{var r;const i=null==t?void 0:t.queryParameters,o=null==i?void 0:i.get("iasConfigHost");let s=null;const a=null==n?void 0:n.config;if(a)s=/iasProxyPartnerId=([\d]+)/g.exec(a);else try{const e=(null===(r=null==t?void 0:t.srcUrl)||void 0===r?void 0:r.href)||"",n=decodeURIComponent(e);s=/iasProxyPartnerId=([\d]+)/g.exec(n)}catch(e){}const c=null==s?void 0:s[1];return e.proxyPartnerId=c,(null==n?void 0:n.host)||o||{37103:"https://vfw.amazon-adsystem.com/ias/ivt/j",2:"https://g.bing.com/p/tpv-ias"}[c]||"https://jsconfig.adsafeprotected.com"})({contextNode:t,verificationParameters:this.verificationParameters}),r=(({contextNode:e,verificationParameters:t}={})=>{let n=null==t?void 0:t.config;if(!n)try{const t=null==e?void 0:e.srcUrl;if(t.href.includes("/jload")){const t=(null==e?void 0:e.queryParameters).get("anId");t&&(n=`/jload/${t}`)}else{const e=/iasConfig=([^&#]*)/g.exec(t.href)||/config=([^&#]*)/g.exec(t.href);e&&"string"==typeof e[1]&&(n=decodeURIComponent(e[1]))}}catch(e){}return n})({contextNode:t,verificationParameters:this.verificationParameters});if(r){const i=(({host:e,path:t,queryParams:n,adSessionId:r})=>{const i=t.includes("?");let o=`${e}/jsconfig${t}`;return n&&(o+=`${i?"&":"?"}${n}`),r&&(o+=`&adSessionId=${r}`),o})({host:n,path:r,adSessionId:e.adSessionId,queryParams:null==t?void 0:t.staticFwjsMacros});this.set("url",i,{locked:!1})}}}class s extends i{constructor({defaultBootstrapperConfig:e}){super({storeModelName:"measurementConfig"}),this.set("adRefreshThreshold",e.adRefreshThreshold),this.set("birthdate",e.birthdate),this.set("isResolved",e.isResolved,{locked:!1}),this.set("perfBirth",e.perfBirth),this.set("staticMode",e.staticMode),this.set("useFIF",e.useFIF)}}const a=({url:e})=>{let t;const n=["config","iasConfig"];return e&&e.includes("fw.js")&&(n.forEach((t=>{e&&(e=(({url:e,queryParamName:t})=>{const n=new URL(e).search,r=new URLSearchParams(n);r.delete(t);const i=new URL(e);return i.search=r.toString(),i.toString()})({url:e,queryParamName:t}))})),e.includes("?")&&(t=e.split("?")[1])),t};class c extends i{constructor({scriptTagElement:e}){const t=new URL(e.src);super({storeModelName:"scriptTag"}),this.set("element",e),this.set("srcUrl",t),this.set("path",t.pathname),this.set("protocol",t.protocol),this.set("dataAttributes",e.dataset),this.set("queryParameters",t.searchParams),this.set("staticFwjsMacros",a({url:t.href}))}}const u=new class{addModel(e){try{Object.defineProperty(this,e.storeModelName,{value:e,writable:!1,configurable:!1,enumerable:!0})}catch(e){}return this[e.storeModelName]}getHistory(){return Object.keys(this).reduce(((e,t)=>{const n=this[t].getHistory();return e.concat(n)}),[])}logHistory(){}};function d(){"use strict";var t,n;e.executedContinueMain||(e.executedContinueMain=!0,e.perf.markStart(A),C(e).verifyContextNode(),t=function(t,n,r,i,o,s,a,c,d,g,l){var E,p;try{new di({contextNode:e.contextNode,features:d,bootstrapper:e}).start()}catch(e){o.add(h.ERROR_CODES.AD_SERVER_POST_IMPRESSION_MACRO)}e.perf.markStart(_),e[U.B11]="1"===e[U.AD_HEIGHT]&&"1"===e.adWidth?"true":"false",e[U.CNOD]=e[U.CONTEXT_NODE]?"true":"false",I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:u.measurementConfig.mainBirthdate},U.MAIN_FUNCTION_STARTED_NOW,{type:h.IMPRESSION_EVENT});var m=e.hasOwnProperty("origMobOrTab")?e.origMobOrTab:e.mobOrTab;I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:m?"1":"0"},U.BOOTSTRAPPER_MOB_OR_TAB,{type:h.IMPRESSION_EVENT}),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:e.app?"1":"0"},U.BOOTSTRAPPER_APP,{type:h.IMPRESSION_EVENT}),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:e.mobAppWebview?"1":"0"},U.BOOTSTRAPPER_MOB_APP_WEBVIEW,{type:h.IMPRESSION_EVENT});var T="undefined"!=typeof navigator?navigator.userAgent:"",A=I.getAggregator().request(F.MOBILE_APP);!(A&&A.isMobileAppEnvironment&&A.isMobileAppEnvironment())&&T.indexOf("IMDb-flg")>-1&&(I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"1"},U.MOBILE_APP_ENVIRONMENT,{type:h.IMPRESSION_EVENT}),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"a_imdb"},U.MATCHED_MOBILE_APP_DETECTION_RULE,{type:h.IMPRESSION_EVENT}));f(r,i,d,o);try{s.isApplicable(a,d,g)&&s.start(),p=c.detectTopURL(),d.on("exch")&&(new Re).createInstance(o,i).parse(p),(E=zr()).isApplicable(d)&&E.start(d),g.usesGroupMCustomMetric()&&G(),l.start()}catch(e){o.add(h.ERROR_CODES.IMPRESSION_LEADUP)}return e.perf.markEnd(_),p}((n=function(){var t,n,r,i,o,s,a,c,u,d,g,f={};e.perf.markStart(D);var l=I.getAggregator();(function(){var t,n,r;r=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),t=r.app&&r.isDisplay&&!r.isWeb,(n=e.mobFwUrl&&e.mobFwUrl.indexOf("/blocking/")>-1)&&r.isLimitedSandbox&&"1"===e.adWidth&&"1"===e[U.AD_HEIGHT]&&(r.isLimitedSandbox=!1);t&&n&&(r.delayingViewabilityEvents=!0);"app"!==r.environment&&!0!==e.mobAppWebview||(e.origMobOrTab=e[U.MOB_OR_TAB],e[U.MOB_OR_TAB]=!0)})(),f.mFeatures=l.request(F.FEATURES),f.mFeatures||(f.mFeatures=l.provide(F.FEATURES,Ce()));e.integration&&f.mFeatures.setReportedBootstrapFeatures("intblk","integration");e.autotagSizeSet&&f.mFeatures.setReportedBootstrapFeatures("ats","autotagSizeSet");e.encodeInvalidUrlChars=!Te.isDomless()&&f.mFeatures.on("encodeInvalidUrlChars"),l.provide(F.MOBILE_APP,(function(){return t=t||new sr(f.mFeatures)})),l.provide(F.CONTEXT,Te),f.mBrowser=l.provide(F.BROWSER,(new ge).createInstance()),f.mErrors=l.request(F.ERRORS),f.mIds=l.provide(F.IDS,we()),f.iOutput=J(l),l.request(F.JSONP),f.mComm=l.request(F.COMMUNICATION),f.viewabilityMeasurement=new Kt(Xt(f.mIds),f.mFeatures,f.mBrowser).create(),function(e,t){if(e&&e.queuedOutputItems)for(var n=0;n<e.queuedOutputItems.length;n++)t.trigger(V.ADD_OUTPUT_ITEM,{output:e.queuedOutputItems[n].value},e.queuedOutputItems[n].code,{type:h.IMPRESSION_EVENT})}(l.request(F.OMID_AD_SESSION_CONTEXT),l),f.mFeatures.on("swapids")&&(e.oid=e.asid,e.asid=f.mIds.unq);return f.mAdTalk=(new at).createInstance(f.mFeatures),n=k(),r=je(l),i=l.provide(F.PAGE,(new We).createInstance()),f.mAncestorOrigins=ce(),f.mPageUrls=l.provide(F.PAGE_URLS,(new ke).createInstance(f.mAncestorOrigins,xe)),o=l.provide(F.SCREEN_EVENTS,qe()),s=Me(f.mBrowser),g=function(t,n){return!Te.isVideo()||Te.isOmid()||Te.isInMobiMraidVideo()?{}:Nr(e.videoId,t,n)}(f.mFeatures,o),f.mVideo=l.provide(F.VIDEO,g),br(Vr.build()),a=(new rr).createInstance(f.mErrors,s,f.mFeatures),c=(new $).createInstance(a,f.mErrors,i,Te),u=l.provide(F.JOB_FACTORY,Ve()),f.mDataTransfer=_e(a,f.mErrors,f.mFeatures,f.mIds,f.iOutput,f.mBrowser,o,n),d=de(f.mErrors,f.mFeatures,l,r),f.mMode=Ue(d,f.mFeatures,f.viewabilityMeasurement.isImmediate()),f.mViewability=l.provide(F.VIEWABILITY,yn(Y(),f.viewabilityMeasurement,f.mBrowser,f.mDataTransfer,f.mFeatures,l,f.iOutput,c,o,f.mVideo)),function(t,n,r,i){var o=function(t){var n=new mn(t,Te),r=new pn,i=new hn(t,Te),o=In(t,Te),s=new An(e,Te,t).resolve(),a=[n],c=[];o.applies()&&a.push(o);i.applies()&&a.push(i);r.applies(t,Te)&&a.push(r);p(s).each((function(e,t){a.push(new Tn(t,Te)),c.push(t.id)})),c.length>0&&(I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:c.join(".")},U.METRIC_ID_EVENT_CALL,{type:h.IMPRESSION_EVENT}),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:c},U.METRIC_ID_LIST,{type:h.DT_CODES.UNLOAD,asION:!0}));return a}(t);I.getAggregator().provide(F.VIEWABILITY_DEFINITIONS,o),p(o).map(function(e,t,n,r){return function(i,o){var s,a,c,u=Nn(o,t),d=En(n,e,o.rts).getCallbacks(),g=K(r.createPingJobs(o.type,o.timeInViewThresholds,d,o.metricId));return o.sendOtherwiseInViewSignal&&(c=Nn(o,t,o.sendOtherwiseInViewSignal),a=K(r.createPingJobs(o.type,o.timeInViewThresholds,d,o.metricId,o.sendOtherwiseInViewSignal))),o.rtsCallbacks=d,o.thresholdType===h.GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE?s=Rn(u,o,g,Te.isVideo()):(s=On(u,ie(o.minUnit),g),o.sendOtherwiseInViewSignal&&On(c,ie(o.minUnit),a,o.sendOtherwiseInViewSignal).start()),s.start(),s}}(t,n,r,i))}(f.mFeatures,f.mViewability,r,u),f.loopDelay=Dt(),f.renderDetector=b(),f.mDataTransfer.setViewabilityMod(f.mViewability),e.perf.markEnd(D),f}()).mDataTransfer,n.mViewability,n.mAdTalk,n.iOutput,n.mErrors,n.mAncestorOrigins,n.mBrowser,n.mPageUrls,n.mFeatures,Te,n.renderDetector),function(t,n,r,i,o,s,a,c,u){try{Hr(t,n,r,i,o,s,a).send(c),p.isFunction(u.triggerInitializationEvents)&&u.triggerInitializationEvents()}catch(t){__IntegralASDiagnosticCall("impsend",t,e)}}(n.mErrors,n.mFeatures,n.mIds,n.mMode,n.iOutput,n.mBrowser,n.mViewability,t,n.mVideo),function(t,n,r,i,o,s,a,c,u,d,f,l,E){try{e.perf.markStart(v),(p=Cr()).start(),p.addFieldTypes([h.DT_SLOT.IM,h.DT_SLOT.FF,h.DT_SLOT.ENVIRONMENT,h.DT_SLOT.FF_EXP]),function(e,t,n,r){var i=Ot(e,t,n);i.isApplicable(r)&&i.start()}(t,n,r,i),function(e,t,n,r,i,o){e.bootstrapOn("getTpl")&&e.on("usetpl")&&ue(t,n,r,i,o).init()}(i,o,s,a,n,c),function(t,n,r,i,o,s,a,c,u){var d;"true"!==e.minimizeCalls&&(d=(new Date).getTime(),xe.execAtEndOfThread((function(){g(t,n,r,i,d,o,s,a,c,u)})))}(c,u,d,a,i,o,s,n,l),function(e){e&&e.start&&e.start()}(f),((e,t)=>{if(!e.isDomless()){const n=$r();let r=["sca","xsca","rsrch"];e&&e.isAMZN()&&(r=[]),n.start(r,t)}})(E,i),se(),I.runTier(h.TIERS.VIEWABILITY),function(t){var n=Mr();n.isApplicable(t)&&(n.start(),Fr.recordBlockingTime(),e.perf.mark(S),Fr.setupOnLoadTracking(),Fr.setupBrowserDelayTracking())}(i),e.perf.markEnd(v)}catch(e){a.add(h.ERROR_CODES.POST_IMPRESSION)}var p}(n.mBrowser,n.mIds,n.mViewability,n.mFeatures,n.mComm,n.mDataTransfer,n.mErrors,n.iOutput,n.loopDelay,n.mAdTalk,n.viewabilityMeasurement,n.mAncestorOrigins,Te),e.perf.markEnd(A))}function g(t,n,r,i,o,s,a,c,u,d){try{if(e.perf.markStart(O),e.tpiLookupURL)be(a,c).init(e.tpiLookupURL);Te.isDomless()||d.isStarted()&&d.sendOriginList(),I.runAll(),xe.execAtEndOfThread((function(){!function(t,n,r,i,o,s){var a;try{e.perf.markStart(R),a={output:(new Date).getTime()-o},t.addItem(a,"sinceFw",{type:h.DT_CODES.ADTALK}),p.isDef(n.loopStarted())&&t.addItem({output:n.loopStarted()},"readyFired",{type:h.DT_CODES.ADTALK}),e.perf.markEnd(R),e.isSplitMode&&(u=e.protocol+"://"+e.sp_cdnScripts.main,e.perf.markResource(N,u)),e.impUrl&&e.perf.markResource(y,e.impUrl),c=e.perf.getData(),I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.IM,U.PERFORMANCE,p(c).toION()),r.isApplicable(Te)&&r.sendAdTalkCall()}catch(e){i.add(h.ERROR_CODES.ADTALK_DELAY)}var c,u}(t,n,r,i,o)})),e.perf.markEnd(O)}catch(e){i.add(h.ERROR_CODES.EVENT_LOOP_ONE)}}function f(e,t,n,r){var i;try{e.isApplicable(Te)&&(e.start(),t.addItem(e.getFrameMap(),"fm"),n.on("fm2")&&t.addItem(e.getFrameMapIncludingPeerCase(),"fm2"),n.on("idMap")&&(i=e.getIdMap())&&t.addItem(i,"idMap"))}catch(e){r.add(h.ERROR_CODES.ADTALK_GENERAL)}}function l(t){var n=t&&t.sca,r=t&&t.xsca,i=t&&t.w,o=t&&t.h;return function(t){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:Te.getTagTime()},U.STATIC_CONFIG_RESPONSE_TIME,{type:h.IMPRESSION_EVENT});var s="string"==typeof t?JSON.parse(t):t;if(Object.assign)Object.assign(e,s);else for(var a in s)e[a]=s[a];u.measurementConfig.set("isResolved",!0),e.sp_cdnScripts={sca:n,xsca:r},i&&o&&(e.adWidth=i,e.adHeight=o,e.autotagSizeSet=!0),d()}}const E=()=>{var e;(null===(e=u.measurementConfig)||void 0===e?void 0:e.isResolved)?d():(()=>{var e,t,n;const r=null===(e=u.jsConfigRequest)||void 0===e?void 0:e.url,i=null===(t=u.jsConfigRequest)||void 0===t?void 0:t.contentType,o=null===(n=u.jsConfigRequest)||void 0===n?void 0:n.verificationParameters;if(r){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:Te.getTagTime()},U.STATIC_CONFIG_REQUEST_TIME,{type:h.IMPRESSION_EVENT});const e="cbName";"application/json"===i?I.getAggregator().trigger(V.GET_JSON,r,l(o)):I.getAggregator().trigger(V.JSONP,r,l(o),!1,e)}})()};var p=function(e){"use strict";return new m(e)},m=function(e){"use strict";this.iterable=e};m.prototype.isObj=function(e){"use strict";var t="object"==typeof this.iterable,n=null===this.iterable,r=t&&!n,i=!this.isArray()&&r;return e?r:i},m.prototype.isArray=function(){"use strict";return this.iterable instanceof Array},m.prototype.isEmpty=function(e){"use strict";return 0===this.keys(e).length},m.prototype.each=function(e,t){"use strict";var n=this.iterable;if(n.length===+n.length)for(var r=0,i=n.length;r<i;++r)e(r,n[r]);else for(var o in n)(n.hasOwnProperty(o)||t)&&e(o,n[o])},m.prototype.map=function(e,t){"use strict";var n=[];return this.each((function(r,i){var o=e(r,i);(void 0!==o||t)&&(n[n.length]=o)})),n},m.prototype.stringify=function(e,t){"use strict";t=t||",";var n=[];return this.each((function(t,r){var i=e(t,r);p.isDef(i)&&n.push(i)})),n.join(t)},m.prototype.toION=function(e,t){"use strict";var n,r="[",i="]";return t=t||0,e=e||{},++t>4?"object":!this.isObj(!0)||this.iterable.hasOwnProperty("toString")?""+this.iterable:(this.isArray()?n=this.map((function(n,r){return p(r).toION(e,t)})):(r="{",i="}",n=this.map((function(n,r){var i="string"==typeof n&&-1!==n.indexOf("NULL"),o=p(r).toION(e,t);return i?o:(e[n]||n)+":"+o}))),r+n.join(",")+i)},m.prototype.compareTo=function(e){"use strict";var t=!1;return this.each((function(n,r){e[n]!==r&&(t||(t={}),t[n]=r)})),t},m.prototype.toParams=function(e){"use strict";return this.stringify((function(e,t){return"string"==typeof e&&-1!==e.indexOf("NULL")?t:e+":"+t}),e)},m.prototype._privateMixin=function(e,t,n){"use strict";var r;for(r in t)p.isDef(t[r])&&(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},m.prototype.mapToObj=function(e){"use strict";var t={},n=this;return this.each((function(r,i){var o=e(r,i);p(o).isObj()&&n._privateMixin(t,o)})),t},m.prototype.invert=function(){"use strict";return this.mapToObj((function(e,t){var n={};return n[t]=e,n}))},m.prototype.mixin=function(e,t){"use strict";return this._privateMixin(this.iterable,e,t)},m.prototype.find=function(e){"use strict";var t;return this.each((function(n,r){e(n,r)&&(t=r)})),t},m.prototype.findFirst=function(e){"use strict";var t,n;return this.each((function(r,i){!n&&e(r,i)&&(t=i,n=!0)})),t},m.prototype.keys=function(e){"use strict";var t=[];return this.each((function(e){t.push(e)}),e),t},m.prototype.asStrings=function(){"use strict";var e={};return this.each((function(t,n){e[t]=""+n})),e},m.prototype.selectProperties=function(e){"use strict";var t={},n=this;return p(e).each((function(e,r){p.isDef(n.iterable[r])&&(t[r]=n.iterable[r])})),t},m.prototype.filter=function(e,t){"use strict";return this.map((function(t,n){var r;return(p.isUndef(e)||p.resolve(e,t,n))&&(r=n),r}),t)},m.prototype.toArray=function(){"use strict";return this.map((function(e,t){return t}))},m.prototype.JSONStringify=function(){"use strict";var e,n,r=!1;return t.Prototype&&t.Prototype.Version&&-1===t.Prototype.Version.indexOf("1.7")&&(r=!0),r&&(n=Array.prototype.toJSON,delete Array.prototype.toJSON),e=JSON.stringify(this.iterable),r&&(Array.prototype.toJSON=n),e},m.prototype.contains=function(e){"use strict";var t=p(this.iterable).findFirst((function(t,n){return e===n}));return p.isDef(t)},p.toBase=function(e,t){"use strict";var n,r=e<0,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=[];e=r?-e:e;do{n=e%t,o.push(i[n]),e=(e-n)/t}while(e>0);return o=o.reverse().join(""),r?"-"+o:o},p.isDef=function(e){"use strict";return void 0!==e},p.isUndef=function(e){"use strict";return!p.isDef(e)},p.isBool=function(e){"use strict";return"boolean"==typeof e},p.noop=function(){},p.identity=function(e){"use strict";return e},p.isFunction=function(e){"use strict";return"function"==typeof e},p.isStr=function(e){"use strict";return"string"==typeof e},p.useIfDef=function(e){"use strict";return!!p.isDef(e)&&e},p.stringifyTriState=function(e){"use strict";return!0===e?1:!1===e?0:"na"},p.getNum=function(e){"use strict";var t=parseInt(e);return isFinite(t)||(t=-1),t},p.resolve=function(e,...t){return p.isFunction(e)?e.apply({},t):e},p.flatJSONParse=function(e){"use strict";for(var t,n,r,i=/"(\w+)":(\d+|(?:"([^"]*)"))/g,o={},s=i.exec(e);s;)t=s[1],n=s[3],r=s[2],o[t]=n||+r,s=i.exec(e);return o},p.debounce=function(e,n,r){"use strict";var i,o=r||t;return function(...t){var r=this,s=t;o.clearTimeout(i),i=o.setTimeout((function(){i=null,e.apply(r,s)}),n)}},p.last=function(e){"use strict";return e[e.length-1]},p.collapseArgsIntoHash=function(e,t){"use strict";var n={};return t?n[e]=t:n=e,n},p.fromBoolToNum=function(e){"use strict";return e?1:0},p.isNumeric=function(e){"use strict";return p.isDef(e)&&null!==e&&!isNaN(e)},p.fromNodeListToArray=function(e){"use strict";return Array.prototype.slice.call(e)},p.encodeInvalidUrlChars=function(e,t){"use strict";var n={$:"%24","[":"%5B","]":"%5D","{":"%7B","}":"%7D","|":"%7C"},r=e;return t&&"string"==typeof e&&(r=(r=e.replace(/%(?![0-9A-F][0-9A-F])/gi,"%25")).replace(/\$|\[|\]|\{|\}|\|/gi,(function(e){return n[e]}))),r};var I=function(){"use strict";var e,t={},n=[],r=[],i=function(){var e={},t=p(arguments).toArray();return t.unshift(e),r.push(t),e},o=function(r,i,o,s,a){var c,u,d,g=function(){if(!c){var t=[];c=!0,i=["features","browser","context"],0===n.length&&(n=p(i).map((function(t,n){return e.request(n)}))),a.emits&&(r.events=new Y),a.applies&&!a.applies.apply(a,n)||(u=!0,(t=p(o).map((function(t,n){return e.request(n)}),!0)).push(r),p(r).mixin(s.apply({},t)))}var i};return d=(a=a||{}).tier,p.isDef(d)&&(t[d]=t[d]||new q,t[d].push(g)),e.provide(i,(function(){var e;return g(),u&&(e=r),e})),r};return i.runAll=function(){var e=p(t).keys().sort((function(e,t){return e-t}));p(e).each((function(e,t){i.runTier(t)}))},i.runTier=function(e){t[e].run(),delete t[e]},i.startSystem=function(){e=e||new H,p(r).each((function(e,t){o.apply({},t)}))},i.getAggregator=function(){return e},i}();const h={MRC_LARGE_AD_SIZE:242500,IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",PIV_NA:-1,DT_CODES:{ADTALK:"a",DIAGNOSTIC:"b",PERFORMANCE:"e",THIRD_PARTY:"i",LARGE_BILLABLE:"l",VIDEO_EVENTS:"m",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",SCA:"s",POS_INVIEW:"t",UNLOAD:"u",VIEWABILITY_READY:"v",EXTERNAL:"x",CUSTOM:"c",XSCA:"xs",ADSERVER_MACROS:"as"},DT_SLOT:{IM:"im",FF:"sca",FF_EXP:"xsca",ENVIRONMENT:"env"},DETECTION_METHODS:{AD_PLACEHOLDER:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MRAID:"m",OMID:"o1",MUTATION:"c",SPECIFIED_AD:"sp",SPECIFIED_AD_COMPOUND:"spc",BUSTED_IFRAME_FLASHTALKING:"bf",BUSTED_IFRAME_YIELDMO:"by",BUSTED_IFRAME_SIZMEK:"bs",VENDOR_CELTRA:"vc"},ENGAGEMENT:{CLICKS:"clks",HOVER:"hov"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h",RENDER:"r",VIDEO:"v",WINDOW:"w"},PERF_TIMELINE_TRACKER_CONFIG:{VANS:{TYPE:"vans",COUNT:4},WRAPPERS:{JS:{TYPE:"jswrapper",COUNT:15},AS:{TYPE:"flwrapper",COUNT:9}},RENDER:{TYPE:"render",COUNT:2,CODE:"tdr"}},ERROR_CODES:{GET_AD_DIMENSIONS:"a",AD_SLOT_ID:"A",AD_SERVER_POST_IMPRESSION_MACRO:"A2",BAPI_CALLBACK:"b",BROWSER_NOT_HTML5_COMPATIBLE:"B",ADTALK_GENERAL:"c",COCOA_GONE:"C",CLICK_TRACK:"Q",GET_SCREEN_LOC_GET_DIMENSIONS:"d",ADTALK_DUBIOUS:"D",IMPRESSION_PERFORMANCE:"e",POST_IMPRESSION:"E",ADTALK_DELAY:"f",VIDEO_IN_IFRAME_DIMS_CALC:"F",GDPR:"g",INIT_ADS_MANAGER:"G",PHONE_HOME:"h",FEATURE_SCRIPT:"H",HIDDEN:"H1",HIDDEN2:"H2",UID_GENERATION:"i",IMPRESSION_URLS:"I",NOT_VPAID_EVENT_OBJECT:"j",JSINFO:"J",KILL_IT:"k",NO_RESPONSE_XML:"K",LOCATION_DETAILS:"l",IMPRESSION_LEADUP:"L",MESSAGE_LISTENER:"m",MOBILE_APP:"M",AT_INIT:"N",AUTOPLAY_DETECTION:"n",ANCESTOR_ORIGINS:"o",EVENT_LOOP_ONE:"O",GET_SCREEN_LOC_PIV_CALC:"p",PLUGIN_PARSING:"P",NO_ORIGINAL_VAST:"q",AD_REFRESH:"r",AD_ERROR:"R",GET_ELEM_STYLE:"s",AT_SEND:"S",ADS_MANAGER_START_AD:"t",NO_COMPANION_AD_XML:"T",NO_VIDEO_AD_INTERFACE:"u",UNRECOGNIZED_EVENT_TYPE:"U",ENVIRONMENT:"v",CHECK_SCREEN_LOC:"V",GET_WIN_DIMENSIONS:"w",AC_WATCHER:"W",EXCHANGE_PARSING:"x",SCA:"X",BUSTED_IFRAME_IN_IO:"y",FLASH_API_ACCESS:"z",XSCA:"Z"},BROWSERS:{WEBKIT:"w",OPERA:"o",GECKO:"g",CHROME:"c",MSEDGE:"e",IE:"i",DOMLESS:"d"},MEDIA_TYPE_CODE:"mtp",MEDIA_TYPE:{DISPLAY:"display",DISPLAY_CODE:"d",VIDEO:"video",VIDEO_CODE:"v"},MEASUREMENT_STRATEGY:{DISPLAY:"display",VIDEO:"video"},TIERS:{PRE_IMPRESSION_FRAUD:4,VIEWABILITY:7,ENVIRONMENT:8},IMPRESSION_EVENT:"impression",DATA_TRANSFER_EVENT:"dt",CALLBACK_IDENTIFIER:"data-ias-callback",AD_IDENTIFIER:"data-integralas-id",IAS_DETECTOR:"iasdetector",CONTAINER_GEOMETRY_MEASUREMENT_CHANGED:"containerGeometryMeasurementChanged",OMID_GEOMETRY_MEASUREMENT_CHANGED:"omidGeometryChanged",VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER:[0,.01,.2,.25,.3,.5,.7,.75,.8,.99,1],VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID:[0,.1,.2,.25,.3,.4,.5,.6,.7,.75,.8,.9,1],GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE:"grpmMobPassThru",REFERRER_POLICY:"no-referrer-when-downgrade",RENDER:{CREATIVE_NODE_TYPES:["CANVAS","EMBED","IMG","OBJECT","PICTURE","SVG","VIDEO"],CONTAINER_NODE_TYPES:["A","DIV","IFRAME","INS"],WIDTH_THRESHOLD:20,HEIGHT_THRESHOLD:20,STATUS:{OTHER:"0",DETECTED:"1"},DETAILS:{ENVIRONMENT:"env",OTHER:"na"},DIAGNOSTIC:{BROKEN_IMAGE:"bi",UNQUALIFIED_SIZE:"us",QUALIFIED_SIZE:"qs",STYLED_NODE:"sn",TEXT_NODE:"tn",DOCUMENT_READY:"dr",LOAD_FIRED:"lf",CONTENT_STYLED:"cs",MRAID_DEFAULT:"md",MRAID_READY:"mr",MRAID_LOADING:"ml",MRAID_UNKNOWN:"mu",OMID_RENDERED:"or",OMID_UNRENDERED:"ou"}},RTS_KEY_FOR_VQ:"qiv",UNIQUE_ID_TOKEN:"[IAS_ASID]"};var T="mf",A="cm",D="in",_="pr",v="po",S="bl",O="lo",R="lt",N="md",y="id",C=function(e){"use strict";return{verifyContextNode:function(){!(__IASScope.isDomless||e.contextNode&&null!==e.contextNode.parentNode)&&(e.contextNode=function(){var t,r=n.getElementsByTagName("script"),i=r.length,o=r[i-1],s=e.scriptUrl;try{for(;--i>=0;)if((t=r[i]).src&&0===t.src.indexOf(s)&&null===t.getAttribute("data-ias-script-tag")){o=t,t.setAttribute("data-ias-script-tag","found");break}}catch(e){}return o}())}}},M=function(){"use strict";var t,n=["STYLE","SCRIPT","HEAD","META"],r=h.RENDER.CREATIVE_NODE_TYPES.concat(h.RENDER.CONTAINER_NODE_TYPES),i=0,o=u.measurementConfig.useFIF&&Te.friendlyIframe||Te.isSpecifiedAd(),s=0,a=[],c=function(t){var n,r,o=t,s=t,a=Te.friendly?xe.getTop().document.body:e.contextNode.ownerDocument.body;for(;i<3;){if(a&&o===a){s=o,i=3;break}Se.isWindow(o)&&(r=void 0,r="["+h.AD_IDENTIFIER+"-"+e.asid+"]",n=Se.crossQuerySelector(r),o=p.isDef(n)?n:o),s=o=p.isDef(o)&&o.parentNode||o,i++}return s},d=function(e){var t=function(e){var t,i,o=[],s=e&&e.getElementsByTagName&&e.getElementsByTagName("*"),a=s&&s.length;if(s)for(var c=0;c<a;c++)i=(t=s[c])&&t.nodeName&&t.nodeName.toUpperCase(),!t.children||0!==t.children.length||p(r).contains(i)||p(n).contains(i)||p(o).contains(i)||o.push(i);return o}(e);return r.concat(t)},g=function(t){var n,r=o?c(t):t;return Se.isWindow(r)?n=function(t){var n;try{n=t.document}catch(t){n=e.contextNode.ownerDocument}return n}(r):"IFRAME"===Se.getNodeName(r)?(a.push(t),n=t.contentWindow.document):n=r,n},f=function(n){var r,i=Se.isNodeXDomainIframe(n)||Se.isNodeCreative(n),o=!n;if(t=o?e.contextNode.parentNode:n,i||o)(r=a.length)>0&&(s<r?s=r:(s=0,a=[])),I.getAggregator().trigger(V.EVALUATE_CREATIVE_FINDER_RESULT,n);else{var c=g(n),u=d(c);new w(u,a).searchDescendants(c)}};return I.getAggregator().on(V.CREATIVE_FINDER_BATCH_COMPLETED,f),{find:f,getClosestContainerName:function(){return Se.getNodeName(t)}}},w=function(t,n){"use strict";var r=t,i=function(e){var t=0,r=null,i=-1;function o(e){if(o=e,s=Se.getNodeName(o),a=Se.isNodeCreative(o)||"IFRAME"===s,s&&a&&!Se.isEmptyFriendlyFrame(e)){var t=Se.getNodeArea(e);t>i&&!p(n).contains(e)&&(r=e,i=t)}var o,s,a}e.length&&I.getAggregator().request("useYieldSearch")?function n(){do{o(e[t]),t+=1}while(t%500!=0&&t<e.length);t<e.length?xe.execAtEndOfThread(n,0):I.getAggregator().trigger(V.CREATIVE_FINDER_BATCH_COMPLETED,r)}():function(){for(;t<e.length;t++)o(e[t]);I.getAggregator().trigger(V.CREATIVE_FINDER_BATCH_COMPLETED,r)}()};return{searchDescendants:function(t){var n=t||e.contextNode.parentNode,o=Se.collectCandidateElements(n,r);i(o)}}},b=function(){"use strict";var e,t=!1,n=!1,r=!1,i={status:h.RENDER.STATUS.OTHER,details:h.RENDER.DETAILS.OTHER},o={status:h.RENDER.STATUS.DETECTED,details:h.RENDER.DETAILS.ENVIRONMENT},s="rend",a="renddet",c=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),u=function(){var e=!1;return Te.isOmid()&&c&&c.useOMID13Logic&&(e=!0),e},d=function(){t=!0,r=!0},g=function(n){var r=e.build(),o=n.status||i.status,c=r||i.details;o===h.RENDER.STATUS.DETECTED&&I.getAggregator().trigger(V.PERF_CHECKPOINT,{type:h.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:xe.now(),code:h.PERF_TIMELINE_TRACKER_CONFIG.RENDER.CODE}),t&&o===h.RENDER.STATUS.DETECTED?(I.getAggregator().trigger(V.ADD_THROTTLED_OUTPUT_ITEM,s,o),I.getAggregator().trigger(V.ADD_THROTTLED_OUTPUT_ITEM,a,c)):(I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:o},s),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:c},a))},f=function(){var t=c&&!!c.isVideo,r=!u()||c&&!!c.videoStartArrived,i=!u()||c&&!!c.geometryArrived,s=!c.omidEarlyExit||c.omidImpressionArrived,a=!(c.omidEarlyExit&&u())||c.omidLoadedArrived;return!(n||!i||!s||!a||t&&!r)&&(I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:Te.getTagTime()},"oren"),I.getAggregator().trigger(V.ELIGIBLE_RENDER),e.save(h.RENDER.DETAILS.ENVIRONMENT),e.save(h.RENDER.DIAGNOSTIC.OMID_RENDERED),I.getAggregator().trigger("adRendered"),g(o),n=!0,!0)};return{start:function(){var t=!1;I.getAggregator().trigger(V.PERF_CHECKPOINT,{type:h.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:xe.now(),code:U.INITIAL}),I.getAggregator().on(V.AD_RENDERED,(function(){t=!0})),I.getAggregator().provide(F.AD_RENDER_STATUS,(function(){return t})),I.getAggregator().provide(F.USE_YIELD_SEARCH,(function(){return r})),e=new x,new W,I.getAggregator().on(V.IMPRESSION_SENT,d),u()||c.omidEarlyExit?f()||(e.save(h.RENDER.DETAILS.ENVIRONMENT),e.save(h.RENDER.DIAGNOSTIC.OMID_UNRENDERED),g(i),I.getAggregator().on("omidrendgeoupdate",(function(){f()})),I.getAggregator().on(V.OMID_REND_VIDEO_START,(function(){f()})),c.omidEarlyExit&&(I.getAggregator().on("omidimpressionarrived",(function(){f()})),I.getAggregator().on("omidloadedarrived",(function(){f()})))):Te.isOmid()||Te.isVideo()?(I.getAggregator().trigger(V.ELIGIBLE_RENDER),e.save(o.details),I.getAggregator().trigger("adRendered"),g(o)):(g(i),P(g,i,e))}}};const P=function(e,t,n){I.getAggregator().on(V.PRIMARY_AD_FOUND,(function(r){let i;const o=M();let s=!0;const a="data-ias-rend-bi",c=function(e){e&&(e.status="1"),I.getAggregator().trigger("adRendered")},u=function(e){let t=!0;const r=p.isDef(e.naturalWidth)?e.naturalHeight*e.naturalWidth:0,i=getComputedStyle(e),o=0===e.src.length&&Ke.contains(i.content,"url"),s=e.getAttribute&&e.getAttribute(a);return r>0&&!o&&(t=!1),"false"===s&&(n.save("cs"),t=!1),o&&!s&&function(e,t){n.save("cs");const r=/url(?:\(['"]?)(.*?)(?:['"]?\))/.exec(t.content),i=r&&r[1],o=Se.createImage(),s=e;o.onload=function(){o.naturalHeight*o.naturalWidth>0&&s.setAttribute&&s.setAttribute(a,!1)},o.src=i,s.setAttribute(a,!0)}(e,i),t},d=function(){i?xe.clearInterval(i):s=!1};I.getAggregator().on(V.EVALUATE_CREATIVE_FINDER_RESULT,(function(r){let i;Se.isNodeXDomainIframe(r)?(d(),t=function(t){const r={},i="readystatechange",o="load",s=xe.getDoc(),a="complete"===s.readyState,u=function(a){const d=a&&a.type;(d===i&&"complete"===a.target.readyState||d===o)&&(c(r),n.saveNode(t),"readystatechange"===d?n.save("dr"):"load"===d&&n.save("lf"),e(r),Ae.removeEvent(t,o,u),Ae.removeEvent(s,i,u))};return a?(c(r),n.saveNode(t),n.save("dr")):(Ae.addEvent(t,o,u,void 0),Ae.addEvent(s,i,u,void 0)),r}(r)):r?(function(e){let t=!1;const r=Se.getRect(e);return e&&"IMG"===Se.getNodeName(e)&&u(e)&&(t=!0,n.save("bi")),!t&&r.width>=20&&r.height>=20}(r)&&(c(t),d()),n.saveNode(r)):(i=o.getClosestContainerName()||n.getAdNodeName(r)||t.details,n.save(i)),e(t)}));const g=function(){const e=r&&r.getAdNode();try{o.find(e)}catch(e){I.getAggregator().trigger(V.RENDER_DIAG,e)}},f=I.getAggregator().request(F.MOBILE_APP);f&&f.isMobileAppEnvironment&&f.isMobileAppEnvironment()&&Te.isMraid()?function(e,n){const r=xe.getWindow().mraid,i=r&&r.getState&&r.getState(),o="ready",s=t,a=function(){Ae.removeEvent(r,o,a),n.save("env"),n.save("mr"),I.getAggregator().trigger("adRendered"),e({status:"1"})};n.save("env"),"default"===i?(I.getAggregator().trigger("adRendered"),n.save("md"),s.status="1"):"loading"===i?(Ae.addEvent(r,o,a,void 0),n.save("ml")):(Ae.addEvent(r,o,a,void 0),n.save("mu")),e(s)}(e,n):(g(),s&&(i=xe.setInterval(g,500))),I.getAggregator().trigger(V.ELIGIBLE_RENDER)}))};var V,L,F,U,x=function(){"use strict";var e=[],t=[],n=function(e){var t;if(Se.isWindow(e))t="WINDOW";else if(Se.isNodeXDomainIframe(e))t="XIFRAME";else try{t=Se.getNodeName(e)}catch(e){r("nen")}return t},r=function(t){e.push(t)};return{build:function(){var n=[];return p(t).each((function(e,t){n.push(t)})),p(e).each((function(e,t){n.push(t)})),t=[],e=[],n.join(".")},getAdNodeName:n,save:r,saveNode:function(e){try{var i=e&&n(e),o=e&&Se.getRect(e),s=e&&Se.hasBackgroundImage(e),a=e&&e.children&&0===e.children.length,c=e&&e.innerText&&e.innerText.length>0,u=a&&c,d=o&&o.width>=h.RENDER.WIDTH_THRESHOLD&&o.height>=h.RENDER.HEIGHT_THRESHOLD?h.RENDER.DIAGNOSTIC.QUALIFIED_SIZE:h.RENDER.DIAGNOSTIC.UNQUALIFIED_SIZE;t.push(i),t.push(d),s&&t.push(h.RENDER.DIAGNOSTIC.STYLED_NODE),u&&t.push(h.RENDER.DIAGNOSTIC.TEXT_NODE)}catch(e){r("sne")}}}},W=function(t){"use strict";var n,r=!1,i=!1,o="1",s="0",a=function(){r=!0,u()},c=function(e){n=e,u()},u=function(){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:!n&&r?o:s},U.MEASURABLE_FOR_RENDER),n&&n.message&&!i&&(__IntegralASDiagnosticCall("renderloop",n,e),I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.ENVIRONMENT,"rle",1),i=!0)};I.getAggregator().on(V.ELIGIBLE_RENDER,a),I.getAggregator().on(V.RENDER_DIAG,c),u()},B=function(){"use strict";return{applies:function(e,t){var n=I.getAggregator().request(F.MOBILE_APP);return(e.browserIs(h.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(h.BROWSERS.WEBKIT)||e.browserIs(h.BROWSERS.MSEDGE))&&!n.isMobileAppEnvironment()&&e.hasIntersectionObserver()}}},G=function(){"use strict";var e,t,n=!1,r=I.getAggregator().request(F.PAGE),i=function(){!n&&t&&e&&!r.isHidden()&&(n=!0,I.getAggregator().trigger(V.SEND_DT,h.DT_CODES.LARGE_BILLABLE))};I.getAggregator().on(V.PRIMARY_AD_FOUND,(function(t){e=t.getDims().area()>=h.MRC_LARGE_AD_SIZE,i()})),I.getAggregator().on(V.IMPRESSION_SENT,(function(){t=!0,i()})),r.onHiddenChange(i)},k=function(){"use strict";var e=[],t={},n={percentInView:"piv",sl:"vs",reason:"r",width:"w",height:"h",omidObstructions:"oobs"},r={omidObstructions:["sl","percentInView","reason"]};I.getAggregator().on(V.NEW_SCREEN_EVENT,(function(r){var o=p(r).selectProperties(p(n).keys()),s=p(o).asStrings(),a=p(s).compareTo(t);(a=i(a))&&JSON.stringify(a)!==JSON.stringify({})&&(a.t=Te.getTagTime(),e.push(a)),p(t).mixin(s)}));var i=function(e){return p(r).each((function(t,n){var r=!1;p(n).each((function(t,n){e[n]&&(r=!0)})),!1===r&&delete e[t]})),e};return{toString:function(){return p(e).toION(n)}}},H=function(){"use strict";var e=new Q,t=new Y;return p(e).mixin(t)};!function(e){e.AD_COMPONENT_ADDED="adComponentAdded",e.AD_COMPONENT_CLICKED="adComponentClicked",e.AD_COMPONENT_TOUCHED="adComponentTouched",e.AD_COMPONENT_MOUSED_OVER="adComponentMousedOver",e.AD_COMPONENT_MOUSED_OUT="adComponentMousedOut",e.AD_COMPONENT_REMOVED="adComponentRemoved",e.AD_IMPRESSION="adImpression",e.AD_RENDERED="adRendered",e.AD_SESSION_COMPLETE="adSessionComplete",e.AD_USER_INTERACTION="adUserInteraction",e.AD_VIDEO_COMPLETE="adVideoComplete",e.AD_VIDEO_START="adVideoStart",e.ADD_OUTPUT_ITEM="addOutputItem",e.ADD_THROTTLED_OUTPUT_ITEM="addThrottledOutputItem",e.ADD_THROTTLED_PROP="addThrottledProp",e.BLUR="blur",e.CREATIVE_FINDER_BATCH_COMPLETED="creativeFinderBatchCompleted",e.DEFERRED_AD_SESSION_READY="deferredAdSessionReady",e.DELAYED_VIEWABILITY_READY="delayedViewabilityReady",e.DELAYED_VIEWABILITY_READY_CALL_ONLY="delayedViewabilityReadyCallOnly",e.ELIGIBLE_RENDER="eligiblerender",e.END_AD_SESSION="endAdSession",e.ERROR="error",e.EVALUATE_CREATIVE_FINDER_RESULT="evaluateCreativeFinderResult",e.EXEC="exec",e.GET_JSON="getJSON",e.IMPRESSION_SENT="impressionsent",e.INTERNALLY_GENERATED_GEOMETRY_EVENT="internallyGeneratedGeometryEvent",e.IO_PIV_CHANGE="IOPivChange",e.JSONP="jsonp",e.MARK_TIME="markTime",e.MEASURABLE="measurable",e.MEASURE_TIME="measureTime",e.NEW_SCREEN_EVENT="newScreenEvent",e.NEW_STATE="newState",e.NODES_ADDED="nodesAdded",e.NOTIFY="notify",e.OMID_AD_DURATION="omidAdDuration",e.OMID_IMPRESSION_ARRIVED="omidimpressionarrived",e.OMID_LOADED_ARRIVED="omidloadedarrived",e.OMID_REND_GEO_UPDATE="omidrendgeoupdate",e.OMID_REND_VIDEO_START="omidrendvideostart",e.PERF_CHECKPOINT="perfCheckpoint",e.PRIMARY_AD_FOUND="primaryadfound",e.RENDER_DIAG="renderdiag",e.SEND="send",e.SEND_DIAG="sendDiag",e.SEND_DT="sendDt",e.SEND_MIN_DT="sendMinDt",e.START_VIEWABILITY_LOOP="startViewabilityLoop",e.STOP_AD_TALK="stopAdTalk",e.UNLOAD="unload",e.VIDEO_BLOCK_RESULT="videoBlockResult",e.VIDEO_QUARTILE_EVENT="videoQuartileEvent"}(V||(V={})),function(e){e.BEFORE_UNLOAD="beforeunload"}(L||(L={})),function(e){e.AD_NODE="adNode",e.AD_PROXY="adProxy",e.AD_RENDER_STATUS="adRenderStatus",e.AD_SLOT_IDS="adSlotIds",e.AD_TALK_EVENT_AGGREGATOR="adTalkEventAggregator",e.AD_TALK_MESSAGE="adTalkMessage",e.AD_TALK_MESSAGE_COLLECTION="adTalkMessageCollection",e.BROWSER="browser",e.COMMUNICATION="mComm",e.CONTEXT="context",e.ERRORS="mErrors",e.FEATURES="features",e.FRAME_COLLECTION="frameCollection",e.ID_MAP_MODULE="idMapModule",e.IDS="ids",e.IFRAME_CALCULATOR_HELPER="iframeCalculatorHelper",e.INTER_FRAME_QUERY_SELECTOR="interFrameQuerySelector",e.JOB_FACTORY="jobFactory",e.JSONP="mJsonp",e.MOBILE_APP="mobileApp",e.OMID_AD_SESSION_CONTEXT="omidAdSessionContext",e.OMID_AS_VERIFICATION_PARAMS="omidAdSessionVerificationParameters",e.OMID_VERIFICATION_CLIENT="omidVerificationClient",e.PAGE="mPage",e.PAGE_URLS="pageUrls",e.SCREEN_EVENTS="mScreenEvents",e.USE_YIELD_SEARCH="useYieldSearch",e.VIDEO="video",e.VIDEO_VERSION="videoVersion",e.VIEWABILITY="viewability",e.VIEWABILITY_DEFINITIONS="viewabilityDefinitions"}(F||(F={})),function(e){e.AD_HEIGHT="adHeight",e.AD_WIDTH="adWidth",e.APP_SDKS_DETECTED="sdk",e.B11="b11",e.BAD_URL_NO_PERIOD="bunp",e.BAPI_CLIENT="bapiClient",e.BOOTSTRAPPER_APP="app",e.BOOTSTRAPPER_MOB_APP_WEBVIEW="maw",e.BOOTSTRAPPER_MOB_OR_TAB="mot",e.BROWSER_IS="browserIs",e.CNOD="cnod",e.CONTEXT_NODE="contextNode",e.CUSTOM_METRIC_IN_VIEW_REASON="cmr",e.GEOMETRY_EVENTS_RECEIVED="og",e.INITIAL="initial",e.LENGTH="length",e.MAIN_FUNCTION_STARTED_NOW="mtim",e.MAPP1_EXCLUSION_LIST_MATCH="xlu",e.MATCHED_MOBILE_APP_DETECTION_RULE="drul",e.MEASURABLE_FOR_RENDER="rmeas",e.METRIC_ID="metricId",e.METRIC_ID_EVENT_CALL="scm",e.METRIC_ID_LIST="metricIdList",e.MISMATCH_OF_INTEGRATED_BLOCKING_TAG_TYPES="smm",e.MOB_APP_WEBVIEW="mobAppWebview",e.MOB_OR_TAB="mobOrTab",e.MOB_APP="app",e.MOBILE_APP_ENVIRONMENT="mapp",e.MOBILE_FW_URL="mobFwUrl",e.MRAID_INJECTION_STATUS="mi",e.OMID_APP_MEASUREMENT="oam",e.OMID_RENDERED_INDICATION="oren",e.OMID_SESSION_ERROR="oser",e.OMID_SESSION_FINISH="osef",e.ORIGINAL_MOB_OR_TAB="origMobOrTab",e.PERFORMANCE="prf",e.PLUGIN_DECODED="pd",e.PLUGIN_LIST="pl",e.SAFEFRAME="sf",e.SAFEFRAME_HOSTURL="sfhu",e.SAFEFRAME_INVALID_HOSTURL="sfiv",e.SLID="slid",e.STATIC_CONFIG_REQUEST_TIME="scq",e.STATIC_CONFIG_RESPONSE_TIME="scs",e.STATIC_IMPRESSION_RFW_CALL_REQUEST_TIME="siq",e.STATIC_IMPRESSION_RFW_CALL_RESPONSE_TIME="sis",e.THIRD_PARTY_DATA_LOOKUP="tpiLookup",e.VIDEO_BREAK_POSITION="vbp",e.VIDEO_CHANNEL="vc",e.VIDEO_PLAYER_STATE="vps"}(U||(U={}));const Y=function(){"use strict";const e={},t={},n=function(e,n){t[e]=t[e]||[],t[e].push(n)},r=function(t,n){const r=e[t];r&&r.run.apply({},n)},i=function(e,n,r){let i=t[e];if(i&&0!==i)return r&&(i=i.slice(0,1)),p(i).each((function(e,t){n.apply({},t)})),!0},o=function(t,n,r){e[t]=e[t]||new q,e[t].push(n,r)};return{on:function(e,t){let n={};t?n[e]=t:n=e,p(n).each(o),p(n).each(i)},once:function(e,t){i(e,t,!0)||o(e,t,1)},trigger:function(e){const t=p(arguments).toArray();t.shift(),r(e,t)},persistentTrigger:function(e){const t=p(arguments).toArray();t.shift(),n(e,t),r(e,t)}}};var j=function(){"use strict";var e=function(t,n,r){var i,o,s=n.length,a=Se.isWindow(t)?t.frames:Se.getChildWindowsOf(t);if(r&&r(t,n),a&&a.length){for(i=0;i<a.length;i++)(o=a[i])&&Se.isWindow(o)&&(n[s]=i,e(o,n,r));n.pop()}},t=function(t,n){try{e(n||top,[0],t)}catch(e){}};return{traverse:t,getFrames:function(e,n){var r=[];return t((function(e){Se.isWindow(e)&&function(e,t){var n,r=!0;for(n=0;n<e.length;n++)if(e[n]===t){r=!1;break}return r}(r,e)&&r.push(e)}),n),p(r).filter(e)}}};const q=function(){"use strict";const e=[];return{push:function(t,n){let r=0;n=n||Number.MAX_VALUE;e[e.length]=function(){r<n&&(r++,t.apply({},arguments))}},run:function(){const t=arguments;p(e).each((function(e,n){n.apply({},t)}))}}};var K=function(e){"use strict";var t={};return{doEligibleJobs:function(n){p(e).each((function(e,r){var i=r&&r.getTime();p.isDef(i)&&n>=i&&!t[i]&&(r.getTask().call(),t[i]=!0)}))}}},X=function(){"use strict";var e,n=new z;return{listen:function(r,i,o){e=function(e){!function(e,t,r,i){var o,s,a,c;if(JSON&&JSON.parse)try{o=JSON.parse(e.data),s=e.source,c=p.noop,t(o)&&(i&&(a=i(s,o))&&(c=function(){n.send((function(){return a}),s)}),r(e,o,c))}catch(e){o&&I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.MESSAGE_LISTENER)}}(e,r,i,o)},Ae.addEvent(t,"message",e)},stop:function(){e&&Ae.removeEvent(t,"message",e),e=null}}},z=function(){"use strict";return{send:function(e,t){if(JSON&&JSON.stringify){var n=function(e){return p(e).isObj()?[e]:(new j).getFrames(e)}(t);p(n).each((function(t,n){var r,i=p.resolve(e,n)||{};i.sentTime=xe.now(),r=function(e){return p(e).mapToObj((function(e,t){var n;return p.isFunction(t)||((n={})[e]=t),n}))}(i),n.postMessage(p(r).JSONStringify(),"*")}))}}}},J=function(e){"use strict";var t=0,n={},r=function(e,n,r){if(p.isUndef(e.output))throw new Error("item with id "+n+' must have "output" method');this.item=e,this.id=n||++t,this.props=r||{},this.output=function(){var t=p.resolve(e.output);return this.props.asION&&(t=p(t).toION()),t}},i=function(e){var t,r,i=[];for(t in n)n.hasOwnProperty(t)&&(r=e(t,n[t]))&&i.push(r);return i},o=function(e,t,i){i="string"!=typeof(i=i||t)?i:{};var o=p(e.output).isObj()&&!i.asION,s=function(e,t,i){var o=new r(e,t,i);n[o.id]=o};o?p(e.output).each((function(e,t){s({output:t},e,i)})):s(e,t,i)};return e.on(V.ADD_OUTPUT_ITEM,(function(e,t,n){o(e,t,n)})),{addItem:o,filterOutput:function(e,t){return i((function(n,r){var i,o=r.props;e(o)&&(i=r.output(),o.encode&&(n=encodeURIComponent(n),i=encodeURIComponent(i)),p.isFunction(t)?t(n,i):t[n]=i)}))},iterate:i,cleanup:function(){i((function(e,t){t.props.flagForRemoval&&delete n[e]}))},getItem:function(e){return n[e]}}};const Q=function(){"use strict";const e={},t=(t,n)=>{e[t]=n};return{request:function(t){let n;const r=e[t],i=p(arguments).toArray();return i.shift(),p.isUndef(r)||(n=p.isFunction(r)?r.apply({},i):r),n},provide:(e,n)=>(n?t(e,n):p(e).each(t),n)}};var $=function(){"use strict";return{createInstance:function(e,t,n,r){return Te.isDomless()?new ee:new Z(e,t,n,r)}}},Z=function(e,t,n,r){"use strict";var i,o=function(e,t){return{viewState:h.NA,posViewState:h.NA,embedded:Te.embedded,winDimensions:e,adDimensions:t}};return{collect:function(){var t=e.find(),s=t.getOutOfViewReasons(),a=n.isHidden(),c=r.isDeviceTypeGroupMobile()&&i?i:ve(Se.calcWinDims()),u=t.getDims();return i=c,t.hasAd()&&c.hasValidDims()&&u.hasValidDims()?(!0===a&&s.push(h.OUT_OF_VIEW_REASONS.FOCUS),{winDimensions:c,adDimensions:u,containerDimensions:t.getContainerDims(),method:t.getDetectionMethod(),viewState:s.length?h.OUT_OF_VIEW:t.getViewState(),viewStateIgnoringRender:t.getViewStateIgnoringRender(),percentInView:t.getPercentInView(),percentInViewIgnoringRender:t.getPercentInViewIgnoringRender(),reason:s.join("."),obstructed:p.stringifyTriState(t.isObstructed()),isHidden:p.stringifyTriState(t.isHidden()),tabHidden:p.stringifyTriState(a),posViewState:t.getViewState(),adCompCount:t.getComponentCount(),sliceStatus:t.getSliceStatus()}):o(c,u)}}},ee=function(){"use strict";return{collect:function(){return{}}}},te=function(e){"use strict";e=e||p.identity;var t=[],n=xe.now(),r=function(){var e=xe.now();t.length&&(t[t.length-1].duration+=e-n,n=e)};return{clear:function(){r(),t=[]},fastForward:r,get:function(){return t},hasAlwaysBeen:function(e){return 1===t.length&&t[0].state===e},addState:function(n){var i=t[t.length-1],o=e(n);r(),0!==t.length&&o===i.state||t.push({state:o,duration:0})}}};const ne=function(e,t){"use strict";const n=e||1;let r,i=0,o=0,s=0;return{start:()=>{i%n==0&&(r=xe.now())},stop:()=>{const e=r||t;i%n==0&&(s+=xe.now()-e,o++),i++},getTime:()=>s,getCount:()=>o}};var re=function(){"use strict";var e,t=0,n=0,r=new Y(!0),i=function(){e&&(t++,r.trigger(t),n>t?xe.execAtEndOfThread(i):o())},o=function(){e=!1,t=0};return{onTick:function(e,t){var i=p.collapseArgsIntoHash(e,t);p(i).each((function(e,t){e=parseInt(e),n=e>n?e:n})),r.on(i)},start:function(){e||(e=!0,xe.execAtEndOfThread(i))},kill:o,isActive:function(){return e}}},ie=function(e){"use strict";var t,n=0,r=Te.getTagTime(),i=0,o=!1;return{getTotalTime:function(){return i},stop:function(){n=0,r=Te.getTagTime(),o=!1},mark:function(){t=o?Te.getTagTime()-r:0,(n+=t)>=e&&(i+=n-t<e?n:t),r=Te.getTagTime(),o=!0}}};const oe=function(t,n){"use strict";let r=t||e.adsafeSrc||e.requrl;r&&0===r.indexOf("http")||(r=0===r.indexOf("//")?e.protocol+":"+r:e.protocol+"://"+r);const i=/((http|https):\/\/(([^\/\.]*)\.([^\/]*)))(?:\/(.[^?]*)\??(.+)?)*/.exec(r)||[],o=i[1]?i[1]:"",s=i[2]?i[2]:"",a=i[3]?i[3]:"";let c=i[4]?i[4]:"",u=i[5]?i[5]:"",d=t&&i[6]?i[6]:"",g=i[7]&&n?i[7]:"";const f={},l=function(e){return"string"==typeof e&&(c=e),c},E=function(e){return"string"==typeof e&&(u=e),u},m=function(t,n){const r=t+"="+p(n).toION();return p.encodeInvalidUrlChars(r,e.encodeInvalidUrlChars)},I=function(){const e=p(f).isEmpty()?"":p(f).stringify(m,"&");return"?"+g+(g&&e?"&"+e:e)};g=g?g.replace(/&$/,""):"";return{appendToParamValue:function(e,t){let r,i,o,s;const a=f[e];a?f[e]=a+t:n&&g.length&&(r=g.split(e),s=r.length>1,s&&(i=r[1].split("&")[0],o=[r[0],i].join(e),g=g.replace(o,o+t)))},fullDom:o,hostname:a,sub:l,master:E,setParam:function(e,t){f[e]=f[e]||{},"string"==typeof t||"number"==typeof t?f[e]=t:p(f[e]).mixin(t)},path:function(e){d=e},toString:function(){const e=l()?l()+".":"",t=d?"/"+d:"",n=g||!p(f).isEmpty()?I():"";return s+"://"+e+E()+t+n}}};var se=function(){"use strict";var e=function(e){var t=[];return p(e).each((function(e,n){t.concat(n).join("").length<=400&&t.push(n)})),t},t=function(e){var t=Se.getAncestorNodes(e);return p(t).map(n)},n=function(e,t){var n;return t&&t.id&&(n=t.id.replace(/[^\w-_.>\/]/g,"")),n};return function(){var n,r;try{return Te.friendly&&!Te.isMobileApp()&&((n=I.getAggregator().request("adSlotIds"))?r=n:(n=function(){var n,r;return(n=Se.getOurNodeInTop())&&(r=t(n)),r&&e(r)}(),n&&(I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:n},U.SLID,{type:h.DT_CODES.ADTALK,asION:!0}),I.getAggregator().provide("adSlotIds",n),r=n))),r}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.AD_SLOT_ID)}}()},ae={name:"AdRefreshDetection",dependencies:[],creator:function(){"use strict";var t=[15,30,45,60,90],n={start:function(){var t=this,n=e.asid,r=this.getChanId(),i=e&&e.contextNode&&e.contextNode.nextSibling&&e.contextNode.nextSibling.id;n&&r&&(this.recordAdSlotImpression(n,r,i,(function(e,n){e?I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.AD_REFRESH):t.sendRefreshSession(n)})),t.registerInternalViewabilityListener(r,i))},adRefreshIntervalIsValid:function(e){return-1!==t.indexOf(e)},getChanId:function(){for(var t,n=e.reqquery.split("&"),r=/(\S+)=(\S+)/g,i=0;i<n.length;i+=1){r.lastIndex=0;var o=r.exec(n[i]);o&&3===o.length&&"chanId"===o[1]&&(t=o[2])}return t},sendRefreshSession:function(e){var t=(0===e.refreshCount?"self":e.refreshSessionId)+"."+e.refreshCount;I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.ENVIRONMENT,"ar",t)},recordAdSlotImpression:function(e,t,n,r){var i=xe.getTop(),o={requestTop:"recordAdSlotImpression",asid:e,adUnitId:t,cacheId:n};window.addEventListener("message",(function(e){if(/refreshSession/g.test(e.data))try{var t=e&&e.data&&JSON.parse(e.data);r(null,t)}catch(e){r(e)}}),!1),i.postMessage(JSON.stringify(o),"*")},registerInternalViewabilityListener:function(e,t){var n=this,r=u.measurementConfig.adRefreshThreshold&&parseInt(u.measurementConfig.adRefreshThreshold)||null,i=xe.getTop();r&&this.adRefreshIntervalIsValid(r)&&I.getAggregator().on(V.SEND_DT,(function(o,s){o===h.DT_CODES.PING&&s===r&&(xe.execAtEndOfThread((function(){i.postMessage(JSON.stringify({requestTop:"refreshAd",adUnitId:e,cacheId:t}),"*")})),n.sendAutoRefreshProp(r))}))},sendAutoRefreshProp:function(e){I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.ENVIRONMENT,"ir",e),I.getAggregator().trigger(V.AD_SESSION_COMPLETE)}};return Te.isRefreshable((function(e,t){var r;if(!e&&t)try{(r=JSON.parse(t)).isRefreshable&&r.adServerName&&n.start()}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.AD_REFRESH)}})),n},settings:{tier:h.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return n.isPossiblyRefreshable()}}},ce=function(){"use strict";var e,t,n=function(e,t){return-1!==t.indexOf("https")&&(t+="*"),t.replace(/^https?:\/\//,"")},r=function(){if(I.getAggregator().request(F.AD_NODE))return parseFloat(I.getAggregator().request(F.VIDEO_VERSION))};return{isApplicable:function(e,t,n){return!function(e){return e.isVideo()&&!(e.isMraid()||e.isOmid())&&r()<3.7}(n)&&e.hasAncestorOrigins&&e.hasAncestorOrigins()&&t.on("ancestor")&&n.xDomainIframe},isStarted:function(){return!!t},start:function(){try{e=xe.getWindow().location.ancestorOrigins,t=!0}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.ANCESTOR_ORIGINS)}},getMyFrameDepth:function(){return e&&e.length||0},getTopDomain:function(){return p.last(e)},sendOriginList:function(){var t;t="ao:"+(e?p(e).map(n).reverse():[]).join(","),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:t},U.THIRD_PARTY_DATA_LOOKUP,{type:h.DT_CODES.THIRD_PARTY,standalone:!0,encode:!0}),I.getAggregator().trigger(V.SEND_DT,h.DT_CODES.THIRD_PARTY)}}},ue=function(t,n,r,i,o){"use strict";var s=function(e,t,n){o.addItem({output:e+"."+t+"."+n},"ctpl")},a=function(e){try{n.diagnostic("c");var o=e.length,a=0,c=0;s(o,0,0),p(e).each((function(e,n){t.send(function(e){return e.replace("%%CBS%%",i.getCacheBustId())}(n),(function(){s(o,a,++c)}),!0),s(o,++a,c)}))}catch(e){r.add(h.ERROR_CODES.AT_SEND)}};return{init:function(){try{var n=(new oe).fullDom;"/"!==n.slice(-1)&&(n+="/"),n+="tpl?asId="+e.asid,t.jsonp(n,a)}catch(e){r.add(h.ERROR_CODES.AT_INIT)}}}},de=function(t,n,r,i){"use strict";return{enabled:"true"===e.useBapiCallback,callback:function(n){r.trigger(V.SEND_DIAG);try{"true"===e.accountForSadImps&&i.measure(n),e._onAPIResult&&e._onAPIResult(n)}catch(e){t.add(h.ERROR_CODES.BAPI_CALLBACK),r.trigger(V.SEND_DIAG,"bapiClient")}}}},ge=function(){"use strict";return{createInstance:function(e,t,n,r){return Te.isDomless()?new le:new fe}}},fe=function(){"use strict";var e=h.BROWSERS,t=function(){var t="u",n=xe.getWindow();try{p.isDef(n.opr)&&n.opr.addons||p.isDef(n.opera)&&p.isDef(n.opera.buildNumber)?t=e.OPERA:p.isDef(n.mozInnerScreenY)?t=e.GECKO:p.isDef(n.chrome)&&p.isDef(n.chrome.csi)?t=e.CHROME:p.isDef(n.msWriteProfilerMark)&&p.isDef(n.crypto)?t=e.MSEDGE:p.isDef(n.WebKitPoint)?t=e.WEBKIT:(p.isDef(n.attachEvent)||p.isDef(n.msCrypto))&&(t=e.IE)}catch(e){}return t},n=function(){var t=xe.getWindow(),n=p.isDef(t.navigator)&&t.navigator.userAgent?t.navigator.userAgent.toLowerCase():"";return n.indexOf(" opr/")>-1?e.OPERA:n.indexOf("firefox")>-1?e.GECKO:n.indexOf("edg")>-1?e.MSEDGE:n.indexOf("chrome")>-1?e.CHROME:n.indexOf("webkit")>-1?e.WEBKIT:n.indexOf("msie")>-1?e.IE:encodeURIComponent(n)||"_"},r=function(){var e=!1,t=xe.getWindow();return p.isDef(t.navigator)&&p.isDef(t.navigator.userAgent)&&(e=t.navigator.userAgent),e};return{browserIs:function(e){return t()===e},hasIntersectionObserver:function(){return"function"==typeof IntersectionObserver},hasMutationObserver:function(){return"function"==typeof MutationObserver},hasResizeObserver:function(){return"function"==typeof ResizeObserver},hasAncestorOrigins:function(){var e=xe.getWindow().location;return!(!e||!e.ancestorOrigins)},hasPostMessage:function(){var e=xe.getWindow();return!(!e||!p.isFunction(e.postMessage))},getBrowserType:t,getBrowserTypeByUA:n,getUserAgent:r,params:function(){return{br:t(),bru:n(),an:(e=h.NA,r=xe.getWindow(),p.isDef(r.navigator)&&p.isDef(r.navigator.appName)&&(e=r.navigator.appName.toLowerCase()[0]),e)};var e,r},isAndroidWebViewBrowser:function(){var e=r();return Ke.contains(e,"Android")&&p(["Line","SamsungBrowser","FB_IAB","Silk"]).findFirst((function(t,n){return Ke.contains(e,n)}))},getIOSVersion:function(){var e,t,n,i=r();return i&&(e=i.match(/OS\s\d+/))&&e.length>0&&(n=(t=e.toString().match(/\d+/))&&t.length>0&&parseInt(t.toString())),n}}},le=function(){"use strict";var e=function(){return!1};return{getBrowserType:()=>"u",getBrowserTypeByUA:()=>"d",getIOSVersion:()=>{},params:()=>({br:"u",bru:"d",an:h.NA}),browserIs:e,getUserAgent:e,hasPostMessage:e,hasAncestorOrigins:e,hasIntersectionObserver:e,hasMutationObserver:e,isAndroidWebViewBrowser:e}},Ee=function(){"use strict";return{createInstance:function(e,t){return Te.isDomless()?new Ie(t):new me(e,t)}}},pe=function(){"use strict";var t;return{isApplicable:function(n){var r=!(!(t=I.getAggregator().request("omidAdSessionContext")).app||!t.isDisplay||t.isWeb),i=n&&n.indexOf("/blocking/")>-1&&!Te.integratedBlockingApplies(n),o=1!=e.forceNoIframe;return r&&i&&o},deployBlockingScriptIntoIframe:function(n){t=I.getAggregator().request("omidAdSessionContext");var r,i="iasbi"+e.asid,o=function(t,n){var r,i,o,s=e[U.CONTEXT_NODE].parentNode,a="about:blank",c=e.adWidth&&e.adWidth>0?e.adWidth:0,u=e[U.AD_HEIGHT]&&e[U.AD_HEIGHT]>0?e[U.AD_HEIGHT]:0,d=xe.getDoc().getElementsByTagName("ins"),g=0,f=0;d&&d.length>0&&(o=d[0],g=parseInt(o.style.width),f=parseInt(o.style.height));var l=g||c||window.innerWidth,E=f||u||window.innerHeight;return"complete"===xe.getDoc().readyState&&(e.forceAppend="true"),"true"===e.forceAppend?((r=xe.getDoc().createElement("IFRAME")).id=t,r.src=a,s.appendChild(r)):xe.getDoc().write('<iframe id="'+t+'" src="'+a+'"></iframe>'),(i=xe.getDoc().getElementById(t))&&(i.style.width=l+"px",i.style.height=E+"px",i.scrolling="no",i.frameborder=0,i.style.position="absolute",i.style.padding=i.style.margin=i.style.border="0px"),i}(i);o&&(r=o.contentWindow.document)&&(r.open().write(function(e,t){var n,r="",i="",o=xe.getDoc().getElementsByTagName("ins");if(o&&o.length>0){n=o[0],r="<ins";for(var s=0;s<n.attributes.length;s++)r+=" "+n.attributes[s].nodeName+'="'+n.attributes[s].nodeValue+'"';r+=">",i="</ins>"}return'<!doctype html><html><head></head><body style="margin:0px;border:0px;padding:0px;font-size:0px"><script>var IASid = "'+e+'", largestSize = 0;var IASmonitorDom = function () {  var DOM_MONITOR_PERIOD = 100;  var i, us, thisSize, thisWidth, thisHeight;  var elems = document.body.getElementsByTagName("*");  for (i = 0; i < elems.length; i++) {    if (elems[i].tagName && elems[i].tagName.toLowerCase() === "ins")      continue;    thisWidth = elems[i].offsetWidth;    thisHeight = elems[i].offsetHeight;    thisSize = thisWidth * thisHeight;    if (thisSize > largestSize) {      largestSize = thisSize;      us = parent.document.getElementById(IASid);      if (us) {        us.setAttribute("CreativeLoaded","true");        if (elems[i].style.left !== "") {          us.style.left = elems[i].style.left;          elems[i].style.left = "0px";        }        if (elems[i].style.top !== "") {          us.style.top = elems[i].style.top;          elems[i].style.top = "0px";        }      }    }  }  setTimeout(IASmonitorDom, DOM_MONITOR_PERIOD);};setTimeout(IASmonitorDom,50);<\/script>'+r+'<script src="'+t+'" referrerpolicy="'+h.REFERRER_POLICY+'"><\/script>'+i+"</body></html>"}(i,n)),r.close())}}},me=function(r,i){"use strict";var o=function(t,r,i,o){var s,a;const c=he({url:r});r=c||r,"script"!==t?((a=n.createElement("DIV")).innerHTML=i,s=a.childNodes[0]):((s=n.createElement("SCRIPT")).src=r,o&&(s.onload=o)),e[U.CONTEXT_NODE].parentNode.appendChild(s)},s=function(r,i,s){var a,c,u,d="",g=function(e){const t=he({url:e});return' src="'+(e=t||e)+'"'}(i),f=' referrerpolicy="'+h.REFERRER_POLICY+'"';Te.doesPageAllowAppendedScripts()&&s&&(c="__IntegralASEventLoadHandler_"+e.asid.replace(/-/g,""),t[c]=s,d=function(e){return' onload="'+e+" && "+e+'()"'}(c)),u={script:['<script type="text/javascript"',d,g,f,"><\/script>"],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0"',d,g,f,"></iframe>"],img:["<img",d,g,f,"/>"]}[r].join(""),Te.isOmid()?(a=new pe).isApplicable(i)?a.deployBlockingScriptIntoIframe(i):o(r,i,u,s):("loading"!==xe.getDoc().readyState&&(e.forceAppend="true"),"true"===e.forceAppend?o(r,i,u,s):n.write(u))},a=function(e,t,n){var r,i=!n&&Ae.getXHR2();const o=he({url:e});e=o||e,i?(i.open("POST",e),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t&&t()},i.send()):(r=Se.createImage(),t&&(r.onload=t),r.src=e.toString())},c=function(e,t){var n=Ae.getXHR2();const r=he({url:e});e=r||e,n&&(n.open("GET",e),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status&&t)try{var e=JSON.parse(n.responseText);t(e)}catch(e){return}},n.send())},d=function(t,r,i,o){var s="text/javascript",a=xe.getDoc(),c=a&&"loading"===a.readyState,d=u&&u.measurementConfig&&u.measurementConfig.staticMode,g=n.createElement("script");const f=he({url:t});if(i=i||e[U.CONTEXT_NODE].parentNode,t=f||t,g.type=s,g.src=t,g.referrerPolicy=h.REFERRER_POLICY,r&&(g.onload=r),o&&(g.setAttribute("defer",""),g.setAttribute("async","")),d&&c){const e=`<script type="${s}" src="${t}"><\/script>`;a.write(e)}else p.isDef(i)&&i.appendChild(g)},g=function(t){if(p.isFunction(t))t({iasImpId:e.asid});else if(t&&"string"==typeof t){var n=new oe(t,!0).toString();a(n,void 0,!0)}},f=function(e,t,n,r){d(i.wrap(e,t,n,r))};return I.getAggregator().on({addNode:s,send:a,exec:d,notify:g,getJSON:c,jsonp:f}),{addNode:s,send:a,exec:d,notify:g,getJSON:c,jsonp:f}},Ie=function(t){"use strict";var n=function(e,t){t=t||e,e=arguments.length>1?e:"script";const n=he({url:t});t=n||t,t=encodeURI(t);var r=I.getAggregator().request("omidVerificationClient");r["script"===e?"injectJavaScriptResource":"sendUrl"](t,(function(){}))},r=function(e,t){const n=he({url:e});e=n||e,e=encodeURI(e),I.getAggregator().request("omidVerificationClient").sendUrl(e.toString(),t||function(){})},i=function(e,t){var n=I.getAggregator().request("omidVerificationClient");const r=he({url:e});e=r||e,e=encodeURI(e),n.injectJavaScriptResource(e,t||function(){})},o=function(t){if(p.isFunction(t))t({iasImpId:e.asid});else if(t&&"string"==typeof t){var n=new oe(t,!0).toString();r(n)}},s=function(e,n,r,o){i(t.wrap(e,n,r,o))};return I.getAggregator().on({addNode:n,send:r,exec:i,notify:o,jsonp:s}),{addNode:n,send:r,exec:i,notify:o,jsonp:s}};const he=({url:t})=>{const n=e.iasProxyPartnerDomain;let r,i,o;if("string"==typeof t)i=t;else try{i=t.toString()}catch(e){}if(i&&(o=i.includes("jsconfig.adsafeprotected.com/jsconfig"),Te.isMSFT()&&!o&&n&&"string"==typeof n)){r=`https://${n}${encodeURIComponent(i)}`}return r};var Te=function(t){"use strict";var n="undefined"==typeof window,r=function(){return n},i=void 0!==t&&"undefined"!=typeof top&&t!==top,o=function(){var e=!1;if(r())e=!0;else try{e=!!top.document}catch(e){}return e}(),s=function(){return r()||p.isDef(xe.getWindow().mraid)},a=function(){return!r()&&p.isDef(xe.getWindow().mraid)},c=function(){var e=!1;if(!r()){var t=xe.getWindow().inmobi,n=t&&t.IASDocumentVideoBuffer,i=t&&n&&p.isFunction(n.addVideoEventListener);e=a()&&!!i}return e},d=function(){return-1!==e.mode.indexOf("jsvid")||(t=I.getAggregator(),n=t.request(F.OMID_VERIFICATION_CLIENT),r=!1,i=t.request(F.OMID_AD_SESSION_CONTEXT),n&&i&&(r=i.mediaType===h.MEDIA_TYPE.VIDEO),r)||c();var t,n,r,i},g=function(){return!1===e.fwMonitoring||"false"===e.fwMonitoring},f=function(){return e[U.MOB_OR_TAB]},l=function(t){if(!1===p(e.customViewability).isArray())return!1;return p(e.customViewability).filter((function(e,n){return Ke.contains(n.id,t)})).length>0},E=function(){return e.use100v},m=function(){return l("grpm")||E()},T=function(){return p.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("bing")};return{embedded:i,friendly:o,isFriendlyToParent:function(e){var t,n;if(r())t=!0;else{try{n=oe(e.document.referrer).hostname===e.location.hostname}catch(e){}t=n}return t},friendlyIframe:i&&o,xDomainIframe:i&&!o,getTagTime:function(){return xe.now()-u.measurementConfig.birthdate},getPageTime:function(){var e=h.NA;return!r()&&p.isDef(t.chrome)&&p.isDef(t.chrome.csi)&&p.isFunction(t.chrome.csi)&&(e=xe.round(t.chrome.csi().pageT)),e},isVideo:d,isMobileApp:s,isSpecifiedAd:function(){var t=!1;if(!r()){var n=p.isFunction(e.contextNode.getAttribute)&&e.contextNode.getAttribute("data-ias-container")||e._cl_adpath;t=n&&p.isStr(n)}return t},isCompoundAd:function(){var t=!1;if(!r()){var n=e._cl_adpath,i=/\[(.*)\]/.exec(n);t=null!==i&&0!==i[1].length&&i[1].split(",").length>1}return t},isOmid:function(){var t=I.getAggregator().request(F.OMID_VERIFICATION_CLIENT);return t&&t.isSupported()&&!e.videoId},isOmidNative:function(){return(new sn).accepts()},isOmidSandboxedEnvironment:function(){return(new sn).accepts()},isOmidForWeb:function(){return(new Vt).accepts()},isDomless:r,isBustedIframe:function(){var e=!1;return r()||(e=void 0!==kn()),e},isMraid:a,isSafeFrame:function(){var e=!1;return r()||(e=p(xe.getWindow().$sf).isObj(!1)&&p(xe.getWindow().$sf.ext).isObj(!1)),e},isInMobiMraidVideo:c,isDeviceTypeGroupMobile:f,usesIASFullyInViewCustomMetric:function(){return l("fiv")||E()||!m()},usesGroupMCustomMetric:m,isCeltra:function(){var e=!1;return r()||(e=Yn().isApplicable()),e},usesGroupMCustomMetricMobilePassThru:function(){return m()&&f()},usesZeroPivCustomMetric:function(){if(!1===p(e.customViewability).isArray())return!1;return p(e.customViewability).filter((function(e,t){return p(t.thresholds).findFirst((function(e,t){return 0===t.piv}))})).length>0},isRefreshable:function(e){try{var t=xe.getTop();window.addEventListener("message",(function(t){/isRefreshable/g.test(t.data)&&e(null,t&&t.data)}),!1),t.postMessage(JSON.stringify({requestTop:"isRefreshable"}),"*")}catch(t){e(t)}},isPossiblyRefreshable:function(){return!r()&&!s()&&!d()&&i&&"jload"===e.mode},integratedBlockingApplies:function(t){var n,r,i,o,s=!1;e.contextNode&&p.isFunction(e.contextNode.getAttribute)&&(n=e.contextNode.getAttribute("data-ias-check-tag"),r=e.contextNode.getAttribute("data-ias-check-done"),o=(i=e.contextNode.getAttribute(h.CALLBACK_IDENTIFIER.toString()))&&p.isFunction(xe.getWindow()[i]));var a=p.isDef(JSON)&&p.isFunction(JSON.parse),c=e.integration&&(t.indexOf("skeleton.js")>0||t.indexOf("/internal/")>0),u=!0===e.fwMonitoring||"true"===e.fwMonitoring;return a&&c&&("true"===n&&"true"!==r&&o?(s=!0,u&&I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"imgb"},U.MISMATCH_OF_INTEGRATED_BLOCKING_TAG_TYPES,{type:"impression"})):(s=!1,u||I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"ibgm"},U.MISMATCH_OF_INTEGRATED_BLOCKING_TAG_TYPES,{type:"impression"}))),s},isBlocking:g,isBlockingSizmekTag:function(){return g()&&Ke.contains(e.scriptUrl,"bs.serving-sys.com")},isAMZN:function(){return p.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("amazon")},isMSFT:T,isPageOnShadowDomWhitelist:function(){var t=!1;return T()&&(t=!0),p.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("integral.local")&&(t=!0),t},doesPageAllowAppendedScripts:function(){var e=!0;return T()&&(e=!1),e}}}(t),Ae={addEvent:function(e,t,n,r){"use strict";p.isDef(e.addEventListener)&&("mouseenter"===t?e.addEventListener("mouseover",Ae.mouseEnter(n),r):"mouseleave"===t?e.addEventListener("mouseout",Ae.mouseEnter(n),r):e.addEventListener(t,n,r))},removeEvent:function(e,t,n){"use strict";p.isDef(e.removeEventListener)&&("mouseenter"===t?(t="mouseover",n=Ae.mouseEnter):"mouseleave"===t&&(t="mouseout",n=Ae.mouseEnter),e.removeEventListener(t,n))},mouseEnter:function(e){"use strict";var t=this;return function(n){var r=n.relatedTarget;this===r||t.isAChildOf(this,r)||e.call(this,n)}},isAChildOf:function(e,t){"use strict";if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},getStyle:function(e,t,r){"use strict";var i,o="";if(r=r||"",n.defaultView&&n.defaultView.getComputedStyle){try{i=n.defaultView.getComputedStyle(e,r)}catch(e){}o=i?i.getPropertyValue(t):o}else e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),o=e.currentStyle[t]);return o},getXHR2:function(e,n){"use strict";var r,i;return p.isDef(t.XMLHttpRequest)?"withCredentials"in(i=new XMLHttpRequest)&&(r=i):p.isDef(XDomainRequest)&&(r=new XDomainRequest),r},whenReady:function(e,t){"use strict";if(Te.isDomless())xe.setTimeout((function(){e()}),50);else{var r,i,o=t||(Te.xDomainIframe?n:xe.getTop().document),s=this;r=e,i=function(){r(!0)},p.isFunction(n.addEventListener)?"complete"==o.readyState||"loaded"==o.readyState||"interactive"==o.readyState?xe.execAtEndOfThread(i):s.addEvent(o,"DOMContentLoaded",i,!1):function(e){var t=xe.setInterval((function(){o.body&&(xe.clearInterval(t),e())}),50)}(r)}},isSandboxed:function(e){"use strict";var t,n=xe.getWindow(),r=!1;if("sandbox"in xe.getDoc().createElement("iframe")){try{t=n.frameElement}catch(e){}r=t?t.hasAttribute("sandbox"):function(){var t=!1,n=xe.getDoc();if(e.browserIs(h.BROWSERS.CHROME))try{n.domain="hol@#3+~"}catch(e){/Assignment is forbidden for sandboxed iframes/.test(e.message)&&(t=!0)}return t}()}return r},styleElement:function(e,t){"use strict";if(e&&p(e.style).isObj()&&p(t).isObj()){var n="";p(t).each((function(e,t){n+=e+": "+t+" !important;"})),e.style.cssText=n}},nodeIsAbsolutelyPositioned:function(e){"use strict";return"absolute"===Ae.getStyle(e,"position")||e.style&&"absolute"===e.style.position}},De=function(e){"use strict";var t,n,r,i,o,s=De.callTypeCounter,a=[h.DT_CODES.ADTALK],c={UNLOAD:-1,ADTALK:-2,VIEWABILITY_READY:-3,VIDEO_EVENTS:-4,DIAGNOSTIC:-5,THIRD_PARTY:-6,QUARTILE_FULLY_INVIEW:-7,LARGE_BILLABLE:-8,SCA:-10,ADSERVER_MACROS:-11};return i=(t={},n=h.DT_CODES,p(["UNLOAD","ADTALK","VIEWABILITY_READY","VIDEO_EVENTS","DIAGNOSTIC","THIRD_PARTY","QUARTILE_FULLY_INVIEW","LARGE_BILLABLE","SCA","ADSERVER_MACROS"]).each((function(e,r){t[n[r]]=c[r]})),t)[e],o=s&&s[e],p.isDef(o)&&0!==o&&p(a).contains(e)&&(i=i+"."+o),r=s[e],s[e]=p.isDef(r)?r+1:1,{callType:e,enumerator:i}};De.callTypeCounter={};var _e=function(t,n,r,i,o,s,a,c){"use strict";var u=0,d=0,g=!1,f=function(t,n,s,c,f,l){s=s||!r.on("postDts");var E=t===h.DT_CODES.DIAGNOSTIC||t===h.DT_CODES.ADTALK||t===h.DT_CODES.SCA||t===h.DT_CODES.XSCA||t===h.DT_CODES.EXTERNAL||t===h.DT_CODES.LARGE_BILLABLE||t===h.DT_CODES.ADSERVER_MACROS;if(i.impressionIsIdentifiable()&&(E||"n"!==a.getCurrentLoc()))try{var A=e.dtBaseURL,D=new oe(A,!0),_=xe.now();I.getAggregator().trigger("preSendDt",t),A||(D.path(h.DATA_TRANSFER_EVENT),r.on("usedtdomain")&&D.sub(h.DATA_TRANSFER_EVENT)),m(D,t,n),f&&f.field&&D.setParam(f.field,f.value),c||T(D,t),I.getAggregator().trigger("send",D,(function(){d+=1,u=xe.now()-_,p.isFunction(l)&&l()}),s),t===h.DT_CODES.UNLOAD&&(g=!0),o.cleanup()}catch(e){__IntegralASDiagnosticCall("dt-"+t,e),I.getAggregator().trigger("error",h.ERROR_CODES.PHONE_HOME)}},l=function(){if(!g){var e=h.DT_CODES.UNLOAD;f(e,-1,!0)}},E=function(t,n){var i={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e"},o=e.mode,s=i[t]||i[o];n=n||o+"Diag",r.on(n)&&s&&f(h.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:s})},m=function(t,n,r){var s=new De(n),a=p.isDef(r)?r:s.enumerator;t.setParam("asId",e.asid);var c={c:i.getCacheBustId(),pingTime:a,time:Te.getTagTime(),type:n};o.filterOutput((function(e){var t=e.minDt&&(!e.type||e.type===n);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),c),t.setParam("tv",c)},T=function(t,i){var g,f,l={};o.filterOutput((function(e){return e.standalone&&!e.minDt&&e.type===i}),(function(e,n){t.setParam(e,n.replace(/%3A/g,":"))})),a.fastForward(),function(e){return e===h.DT_CODES.CUSTOM||e===h.DT_CODES.UNLOAD||e===h.DT_CODES.VIDEO_EVENTS||e===h.DT_CODES.FULLY_INVIEW||e===h.DT_CODES.PING||e===h.DT_CODES.VIEWABILITY_READY||e===h.DT_CODES.ADTALK}(i)&&(l.clog=c,Te.isVideo()&&(f=Te.isOmid()?"omidVideoEventsString":"videoEventsString",(g=I.getAggregator().request(f))&&!g.isEmpty()&&(l.ve=g))),i===h.DT_CODES.UNLOAD&&(l.ndt=d),-1!==e.mode.indexOf("jsvid")&&(l.vv=I.getAggregator().request("videoVersion")),l.NULL1=r.output(),l.NULL2=a.stringify(10),l.em=Te.embedded,l.fr=Te.friendly,l.e=n.toString(),l.tt=e.mode,l.dtt=u,o.filterOutput((function(e){var t=!(e.standalone||e.minDt||e.type&&e.type!==i);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),l),t.setParam("tv",l),t.setParam("br",s.getBrowserType())};return I.getAggregator().on({sendDt:function(e,t,n){var r;f(e,p.resolve(t),r,r,r,n)},sendMinDt:function(e,t){f(e,t,void 0,!0)},sendDiag:E,updateDtCount:function(){d++},unload:l}),{send:f,unload:l,diagnostic:E,setViewabilityMod:function(e){e}}},ve=function(e){"use strict";var n,r={},i=!1,o=function(e){return 1===e.nodeType},s=function(){var t=o(e)?Se.nodeIsHidden(e):0===e.width||0===e.height;return!i&&t},a=function(){var e={};return p(r).each((function(t,n){e[t]=xe.round(n)})),e},c=function(e){return p.isNumeric(e)||p.isUndef(e)},u=function(){return xe.round(r.width)*xe.round(r.height)};return e!==t.parent&&(o(e)?p.isDef(e.getBoundingClientRect)&&(n=Se.getRect(e),p(r).mixin({x:p.useIfDef(n.x)||n.scrX,y:p.useIfDef(n.y)||n.scrY,scrX:n.scrX,scrY:n.scrY,width:n.width,height:n.height})):r=e),{hasValidDims:function(){return c(r.scrX)&&c(r.scrY)&&p.isNumeric(r.width)&&p.isNumeric(r.height)},toString:function(){var e=a();return[e.scrX,e.scrY,e.width,e.height].join(".")},getRounded:a,getRoundedGeometry:function(){var e={};return p(r).each((function(t,n){e[t]="x"===t||"y"===t||"width"===t||"height"===t?xe.round(n):n})),e},set:function(e,t){r[e]=t},isHidden:s,treatAsPlaceholder:function(){i=!0},area:u,isMrcLarge:function(){return u()>=h.MRC_LARGE_AD_SIZE},isOneByOne:function(){return s()&&u()<=1}}},Se={findElementsWithSize:function(e){"use strict";var t=[],n=function(e){Se.getNodeArea(e)<1?p(e.children).each((function(e,t){n(t)})):t.push(e)};return n(e),t},nodeIsHidden:function(e){"use strict";var t=this.getRect(e),n=0!==parseInt(Ae.getStyle(e,"width"))&&0===t.width,r=0===t.width||0===t.height,i="hidden"===Ae.getStyle(e,"visibility");return n||r||i},calcWinDims:function(){"use strict";var e,t,n;try{t=Se.browserWindowPosition(),n=Se.windowSize(),e={scrX:xe.round(t.scrX),scrY:xe.round(t.scrY),width:xe.round(n.width),height:xe.round(n.height)}}catch(t){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.GET_WIN_DIMENSIONS),e={}}return e},windowSize:function(){"use strict";var e,n,r,i={};if(Te.isDomless())return{width:0,height:0};if(Te.friendly)if(n=(e=top.document).documentElement,r=e.body,p.isDef(top.innerWidth))i.width=top.innerWidth,i.height=top.innerHeight;else if(p.isDef(n.clientWidth))i.width=n.clientWidth,i.height=n.clientHeight;else{if(!p.isDef(r.clientWidth))throw i.width=i.height=0,"";i.width=r.clientWidth,i.height=r.clientHeight}else p.isDef(t.outerWidth)&&(i.width=t.outerWidth,i.height=t.outerHeight);return i},browserWindowPosition:function(){"use strict";var e=0,n=0;e=t.screenX,n=t.screenY;return I.getAggregator().request(F.BROWSER).browserIs(h.BROWSERS.GECKO)&&-8==e&&-8==n&&(e+=8,n+=8),{scrX:e,scrY:n}},getNodeArea:function(e){"use strict";var t=-1;if(e){var n=Se.getRect(e);t=n.width*n.height}return t},getRect:function(e){"use strict";var t={},n=Se.browserWindowPosition(),r=e.getBoundingClientRect();return p.isUndef(r.x)&&(t.x=r.left,t.y=r.top),p.isUndef(r.width)&&(t.width=r.right-r.left,t.height=r.bottom-r.top),p(t).mixin(r,!0),t.scrX=n.scrX+t.x,t.scrY=n.scrY+t.y,t},getPlaceholderSpan:function(){"use strict";var e=n.createElement("span");return p(e.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"}),e.innerHTML=".",e},createImage:function(){"use strict";var e=Te.friendly&&xe.getTop().Image;return p.isFunction(e)?new e:new Image},createHiddenIframe:function(e){"use strict";var t=xe.getDoc().createElement("iframe"),n=e?{display:"none"}:{width:"0px",height:"0px",border:"0",position:"absolute",top:"-10000px",left:"-10000px"};return Ae.styleElement(t,n),t},tagNameIs:function(e,t){"use strict";return e.tagName.toUpperCase()===t.toUpperCase()},getClippedDimensions:function(e,t){"use strict";var r,i,o,s,a,c=1e4,u=1e4,d=Ae.nodeIsAbsolutelyPositioned(e);if(a=!Se.tagNameIs(e,"OBJECT"),null!==e.parentNode&&!d&&a&&!Se.tagNameIs(t,"BODY")){s=e;do{s=s.parentNode,i=!Se.tagNameIs(s,"OBJECT"),o="inline"!==Ae.getStyle(s,"display"),i&&o&&(c=(r=Se.getRect(s)).width<c?r.width:c,u=r.height<u?r.height:u)}while(s.parentNode!==n&&s!==t)}return{width:xe.round(c),height:xe.round(u)}},hasBackgroundImage:function(e){var t=Ae.getStyle(e,"background-image");return""!==t&&"none"!==t},isEmptyFriendlyFrame:function(e){try{var t,n=!1;if(e&&e.document){var r=e&&"IFRAME"===e.nodeName&&e.contentDocument;r&&((t=r.body)&&t.childElementCount<1)&&(n=!0)}return n}catch(e){return!1}},findChildWithLargestContent:function(e,t){var n=I.getAggregator().request(F.MOBILE_APP).isMobileAppEnvironment(),r=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),i=r&&r.hasOwnProperty("ignoreDivAsCandidate"),o=this.hasBackgroundImage,s=null,a=function(t){var n,r,s,a=null,c=-1;if(t.length)for(n=0,r=t.length;n<r;n++){var u=t[n],d=Se.getNodeArea(u),g=!((s=u).parentNode===e&&"DIV"===s.nodeName&&!o(s)&&("0"===Ae.getStyle(s,"opacity")||"hidden"===Ae.getStyle(s,"visibility")||function(){var e,t,n=s.childNodes;for(e=0;e<n.length;e++)1===n[e].nodeType&&(t=!0);return!t}()));g&&i&&"DIV"===u.nodeName&&(g=!1);var f=Se.isEmptyFriendlyFrame(u);d>c&&g&&!f&&(a=u,c=d)}return a&&(a.hasValidSizeForMobileApp=c>1),a}(Se.collectCandidateElements(e,t||"iframe,img,a,object,embed,div".split(",")));return a&&((s=function(t){for(var r,o,s=t;t.parentNode!==e&&"inline"!==Ae.getStyle(t.parentNode,"display");)(!n||(r=t.parentNode,o=void 0,o=!0,("visible"===Ae.getStyle(r,"overflow")||"visible"===Ae.getStyle(r,"overflowX")&&"visible"===Ae.getStyle(r,"overflowY"))&&(o=!1),o&&Se.getNodeArea(t.parentNode)>0))&&(n&&i&&"DIV"===t.parentNode.nodeName||(s=t.parentNode)),t=t.parentNode;return s}(a)).hasValidSizeForMobileApp=a.hasValidSizeForMobileApp),s},screenSize:function(){"use strict";if(Te.isDomless())return{width:0,height:0};var e={width:-1,height:-1};try{p.isDef(t.screen)&&(e={width:t.screen.width,height:t.screen.height})}catch(e){}return e},calcMonDims:function(){"use strict";var e=p(Se.screenSize()).mixin({scrX:0,scrY:0});return p.isDef(screen.availLeft)&&(e={scrX:t.screen.availLeft,scrY:t.screen.availTop,width:t.screen.availWidth,height:t.screen.availHeight}),e},getOurIFrameInTop:function(){"use strict";for(var e,t=xe.getTop(),n=xe.getWindow();n!=t;)n=(e=n).parent;return e},getOurNodeInTop:function(){"use strict";var t,n;return Te.friendly&&(t=Te.embedded?(n=Se.getOurIFrameInTop())&&n.frameElement:e.contextNode),t},getAncestorNodes:function(e){"use strict";var t=[],n=e.ownerDocument&&e.ownerDocument.documentElement,r=e;if(n)for(;r.parentNode!==n;)t.push(r),r=r.parentNode;return t},getTagsNamed:function(e,t){"use strict";var n,r=t||xe.getDoc();try{n=r.getElementsByTagName(e)}catch(e){n=null}return n},containsScriptTagWithSrc:function(e){"use strict";return!!p(Se.getTagsNamed("script")).findFirst((function(t,n){var r=n.src;return p.isFunction(e)?e(r):r===e}))},contains:function(e,t){"use strict";var n=!1;try{n=p.isDef(e)&&p.isFunction(e.contains)&&e.contains(t)}catch(e){}return n},querySelector:function(e,t){"use strict";var n;try{n=e.querySelector(t)}catch(e){n=null}return n},nodeIsInWindow:function(e,t){"use strict";return e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)===t},setAttributeOf:function(e,t,n){"use strict";e&&p.isFunction(e.setAttribute)&&e.setAttribute(t,n)},removeAttributeOf:function(e,t){"use strict";e&&p.isFunction(e.removeAttribute)&&e.removeAttribute(t)},crossQuerySelector:function(t,n){"use strict";var r,i,o=[e.contextNode.parentNode,xe.getDoc()];if(Te.friendly&&o.push(xe.getTop().document),n&&Te.embedded)try{o.push(xe.getWindow().frameElement.ownerDocument)}catch(e){}return p(o).each((function(e,n){try{i=Se.querySelector(n,t)}catch(e){}!r&&i&&(r=i)})),r},getNodeName:function(e){"use strict";return e&&e.nodeName},isWindow:function(e){"use strict";var t=!1;try{t=e&&"object"==typeof e&&"setInterval"in e}catch(e){t=!0}return!!t},getChildWindowsOf:function(e){"use strict";var t=[],n=Se.getTagsNamed("iframe",e);return n&&(t=p(n).map((function(e,t){return t.contentWindow}))),t},getFrameId:function(){"use strict";var e=xe.getWindow().frameElement;return e&&e.id},isViewportVisible:function(e,t){"use strict";var n=e.innerWidth,r=e.innerHeight,i=n*r>t.width*t.height,o=n>t.width&&r>t.height;return i&&o},getTagName:function(e){"use strict";return e.tagName.toLowerCase()},getAttribute:function(e,t){"use strict";return e.getAttribute(t)},attributeMatches:function(e,t,n){"use strict";var r=e&&Se.getAttribute(e,t);return n.test(r)},isImageTag:function(e){"use strict";return e&&e.src&&Se.tagNameIs(e,"img")},getDimensionFromStyle:function(e){"use strict";var t,n=Ae.getStyle(e,"width"),r=Ae.getStyle(e,"height");return n&&r&&(t={width:p.getNum(n),height:p.getNum(r)}),t},getDimensionFromAttributes:function(e){"use strict";var t,n=Se.getAttribute(e,"width"),r=Se.getAttribute(e,"height");return n&&r&&(t={width:p.getNum(n),height:p.getNum(r)}),t},traverseAndFindFirstMatchingNode:function e(t,n){"use strict";var r,i,o;if(n(t))i=t;else if(o=t.children)for(r=0;r<o.length&&!(i=e(o[r],n));r++);return i},getFirstChildElement:function(e){"use strict";return e&&e.children&&e.children[0]},isClippable:function(e,t){"use strict";var n=!0,r="fixed"===Ae.getStyle(e,"position"),i=!("hidden"===Ae.getStyle(t,"overflow"))&&!r;return Te.isSpecifiedAd()&&(r||i)&&(n=!1),n},isNodeCreative:function(e){"use strict";var t=Se.getNodeName(e),n=e&&e.children&&0===e.children.length,r=e&&e.innerText&&e.innerText.length>0,i=n&&r,o=t&&-1!==h.RENDER.CREATIVE_NODE_TYPES.indexOf(t.toUpperCase());return!!t&&!!(o||Se.hasBackgroundImage(e)||i)},getElementsDocument:function(e){"use strict";return e.ownerDocument||e},getElementsWindow:function(e){"use strict";var t=Se.getElementsDocument(e);return t.defaultView||t.parentWindow||e},elementIsEmbedded:function(e){"use strict";return Se.getElementsWindow(e)!==xe.getTop()},getParent:function(e){"use strict";return e.parentNode||e.parent},isNodeXDomainIframe:function(e){"use strict";var t=!1;if(e&&"IFRAME"===Se.getNodeName(e))try{t=!e.contentWindow.document}catch(e){t=!0}return t},isElement:function(e){"use strict";return 1===e.nodeType},collectCandidateElements:function(e,t){var n,r,i,o,s=[],a=t,c=Te.isPageOnShadowDomWhitelist();for(n=0,r=a.length;n<r;n++){var u=a[n].toLowerCase(),d=e.getElementsByTagName&&e.getElementsByTagName(u);if(c){var g=e.querySelectorAll&&e.querySelectorAll(u);g&&g.values&&(d=[...new Set([...d,...g.values()])])}if(d&&d.length)for(i=0,o=d.length;i<o;i++)s.push(d[i])}return s}},Oe=function(){"use strict";var e={},t=function(t){p.isDef(e[t])?e[t]++:e[t]=1};return I.getAggregator().on("error",(function(e){var n=p(e).isObj()?e.errorCode:e;t(n)})),{list:e,add:t,toString:function(){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n);return t},hasErrors:function(){for(var t in e)return!0;return!1}}},Re=function(){"use strict";return{createInstance:function(e,t){return Te.isDomless()?new ye:new Ne(e,t)}}},Ne=function(t,n){"use strict";var r=function(t){var n=[];if(!(t&&t instanceof Array))throw new Error("Unexpected data type in ExchangeParser.getUrlList");return(n=p(t).map((function(e,t){return t.val}))).push(e.adsafeSrc,e.requrl,e.reqquery),n};return{parse:function(i){try{var o,s=r(i),a=s&&s.length&&s.join("|"),c=e.exchList;a&&(o=p(c).map((function(e,t){return a.indexOf(Ke.rot(t))>=0?e:void 0}))).length&&n.addItem({output:o.join(".")},"ex",{type:h.IMPRESSION_EVENT})}catch(e){t.add(h.ERROR_CODES.EXCHANGE_PARSING)}}}},ye=function(){"use strict";return{parse:function(e){}}};const Ce=function(){"use strict";const t={},n=function(n){let r,i,o,s;return p.isUndef(t[n])&&(r=e.jsFeatures,t[n]=!1,-1!==r.indexOf(n)&&(i=new RegExp(n+"(?=$|,)|"+n+":(?!,|$)(.?\\d*(?=,|$))").exec(r),i&&(o=i[1],s=!o,t[n]=s||o>100*xe.random()))),t[n]},r={es:"everySecond",sc:"usesca",ha:"usehaps",fgad:"forceKeepGoogleAdNode"},i={fif:"useFIF",gmnp:"groupm_native_publisher",for:"forceAppend",b11:U.B11,cnod:U.CNOD},o=function(t){const n=e[t];return p(["integration"]).contains(t)?!!n:!0===n||"true"===n||p.isFunction(n)};p(r).each((function(e,t){n(t)}));return{on:n,bootstrapOn:o,bootstrapperHas:function(t){const n=p.isStr(t)?[t]:t;return p(n).map((function(t,n){const r=n;if(r&&p.isDef(e[r]))return 1})).length===n.length},getEnabledScriptUrl:function(t){const r=n("use"+t),i=e.sp_cdnScripts&&e.sp_cdnScripts[t];return r&&i},setReportedBootstrapFeatures:function(e,t){i[e]=t},reportedBootstrapFeatures:i,output:function(){return p(function(){const e=p(r).mapToObj((function(e,n){const r={};return r[e]=p.fromBoolToNum(t[n]),r})),n=p(i).mapToObj((function(e,t){const n={};return n[e]=p.fromBoolToNum(o(t)),n}));return n.gm=p.fromBoolToNum(Te.usesGroupMCustomMetric()),p(e).mixin(n)}()).toParams()}}};var Me=function(){"use strict";h.BROWSERS;var e=function(e,t){var n=e.getRounded(),r=t.getRounded(),i=Math.max(n.scrX,r.scrX),o=Math.max(n.scrY,r.scrY),s=Math.min(n.scrX+n.width,r.scrX+r.width)-i,a=Math.min(n.scrY+n.height,r.scrY+r.height)-o;return ve({scrX:i,scrY:o,width:s>0?s:0,height:a>0?a:0})};return{calcInitialViewState:function(e,t){var n,r=h.NA;return n=t?{IN_VIEW:65,OUT_OF_VIEW:25,PARTIAL_VIEW:30}:{IN_VIEW:75,OUT_OF_VIEW:25,PARTIAL_VIEW:50},p.isDef(e)&&e!==h.NA&&e>-1&&(r=e>=n.IN_VIEW?h.IN_VIEW:e<=n.OUT_OF_VIEW?h.OUT_OF_VIEW:e>=n.PARTIAL_VIEW?h.PARTIAL_VIEW_PLUS:h.PARTIAL_VIEW_MINUS),r},calcPercentInView:function(t,n,r,i){var o=0,s=t;return t.hasValidDims()&&!t.isHidden()&&(p([n,r,i]).each((function(t,n){n.hasValidDims()&&(s=e(s,n))})),o=xe.round(s.area()/t.area()*100)),o}}},we=function(){"use strict";var n,r,i,o=!1;r=function(){var e="";try{for(var n,r=t.Uint32Array&&t.crypto&&t.crypto.getRandomValues;e.length<32;)r?(n=new Uint32Array(1),t.crypto.getRandomValues(n),e+=n[0].toString(16)):e+=(16*xe.random()|0).toString(16);e=e.slice(0,32)}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.UID_GENERATION)}return e}(),(i=[]).push(r.slice(0,8)),i.push(r.slice(8,12)),i.push(r.slice(12,16)),i.push(r.slice(16,20)),i.push(r.slice(20)),n=i.join("-");var s=function(){return e.anId};return{getAsid:function(){return e.asid},getAnId:s,getCacheBustId:function(){var e=new Date,t=Date.parse("Jan 1 "+e.getFullYear()),n=e.getTime()-t;return p.toBase(n,62)},getFwId:function(){return s()||e.advEntityId+"-"+e.pubEntityId},impressionIsIdentifiable:function(e){return e&&(o=!0),o},unq:n}},be=function(e,t){"use strict";return{init:function(n){e.jsonp(n,(function(e){t.send(h.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:e})}),!1,"callback")}}},Pe=function(e,t,n,r,i){"use strict";return{getTime:function(){return 1e3*e.getTimeInViewInSeconds()},getTask:function(){return i?function(){var n=I.getAggregator().request("adRenderStatus"),i=r||t,o=e.getTimeInViewInSeconds();n||I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.ENVIRONMENT,"nr_"+i,o)}:function(){var i=e.getTimeInViewInSeconds(),o=e.getTimeInViewForRts();p.isDef(r)&&(I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:r},U.METRIC_ID,{type:t}),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"t"},U.CUSTOM_METRIC_IN_VIEW_REASON,{type:t})),I.getAggregator().trigger(V.SEND_DT,t,i),n[o]&&n[o]()}}}},Ve=function(){"use strict";return{createPingJobs:function(e,t,n,r,i){return p(t.getTimeThresholds()).map((function(t,o){return new Pe(o,e,n,r,i)}))}}},Le=function(){var e,t=[],n=function(e){var t="type",n="t",r="timestamp";return{type:e["tp"]||e[t]||"",time:e[n]||e[r]&&e[r]-u.measurementConfig.birthdate||""}},r=function(){e||(e=I.getAggregator().request("viewabilityDefinitions")),e&&0==t.length&&p(e).each((function(e,n){n.qivThreshold&&t.push(n)}))},i=function(e,t){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:e.metricId},U.METRIC_ID,{type:h.DT_CODES.CUSTOM}),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"q"},U.CUSTOM_METRIC_IN_VIEW_REASON,{type:h.DT_CODES.CUSTOM}),I.getAggregator().trigger(V.SEND_DT,h.DT_CODES.CUSTOM,t),e.rtsCallbacks&&p.isFunction(e.rtsCallbacks[h.RTS_KEY_FOR_VQ])&&e.rtsCallbacks[h.RTS_KEY_FOR_VQ]()};return{init:function(){r(),I.getAggregator().on(V.VIDEO_QUARTILE_EVENT,(function(e){var o,s,a,c,u;r(),o=new n(e),a=(s=["_","firstQuartile","midpoint","thirdQuartile","complete"]).indexOf(p(s).findFirst((function(e,t){return-1!==o.type.toLowerCase().indexOf(t.toLowerCase())}))),c=I.getAggregator().request(F.SCREEN_EVENTS).getCurrentEvent(),u=Math.floor(o.time/1e3),p(t).each((function(e,t){var n=t.qivThreshold.indexOf(a);-1!==n&&t.isInView(c)&&t.qivThreshold.length>0&&(t.qivThreshold.splice(n,1),0==t.qivThreshold.length&&i(t,u))}))}))}}},Fe=function(){"use strict";var n=function(){var t=e.asid;return"__IntegralAS_"+(t&&t.replace(/\-/g,"")||"")+"_"+xe.round(1e4*Math.random())};return{wrap:function(e,r,i,o){var s,a,c,u=n();return function(e,t){return new RegExp(t).test(e)}(e=""+e,o=o||"ias_callback")&&(s=function(e,t){return new RegExp("("+t+"=)(.[^&]*)").exec(e)[0]}(e,o),a=s.split("=")[1],c=Ke.stringToFn(a),e=function(e,t){return-1!==e.indexOf(t+"&")&&(t+="&"),e.replace(t,"")}(e,s)),t[u]=function(e){r(e),i&&c&&c(e),t[u]=void 0},e=function(e,t,n){var r=e.indexOf("?"),i=t+"="+n;return-1===r?e+"?"+i:(r++,e.slice(0,r)+i+"&"+e.slice(r))}(e,o,u),e},wrapToGlobal:function(e){var r=n();return t[r]=function(n){e(n),t[r]=void 0},r}}},Ue=function(t,n,r){"use strict";var i=function(t,n){var r,i=t;return n&&(r=","+p(n).stringify((function(e,t){return e+":"+t}),","),(i=oe(t,!0)).appendToParamValue("adsafe_jsinfo",p.encodeInvalidUrlChars(r,e.encodeInvalidUrlChars)),i=i.toString()),i},o={jss:{isFW:!0,nodeType:Te.doesPageAllowAppendedScripts()?"script":"img"},rjss:{isFW:!0,onloadCallback:Yr,impressionMethod:function(e){if(Te.isAMZN()&&Te.isBlocking()&&u.measurementConfig.staticMode)I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:!0},"ablk"),I.getAggregator().trigger("jsonp",e+"&format=jsonp",(e=>{let{nodeType:t,creativeUrl:n}=e;t="unknown"===t?"script":t,I.getAggregator().trigger("addNode",t,n)}),!1,"cbName");else{const t=Te.doesPageAllowAppendedScripts()?"script":"img";I.getAggregator().trigger("addNode",t,e,Yr)}}},jsi:{isFW:!0,nodeType:"iframe"},rjsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(e){t.enabled?I.getAggregator().trigger("jsonp",e,t.callback,!0):I.getAggregator().trigger("send",e,(function(){Yr(),I.getAggregator().trigger("sendDiag")}),!n.on("postMon"))}},bapi:{impressionMethod:function(e){var n=t.enabled?t.callback:p.noop,r=!!t.enabled;I.getAggregator().trigger("jsonp",e,n,r)}},jsapi:{isFW:!0,impressionMethod:function(e){var n=t.enabled?t.callback:p.noop,r=!!t.enabled;I.getAggregator().trigger("jsonp",e,n,r)}},jsvid:{manualDefer:!0,impressionMethod:function(r){I.getAggregator().on("adImpression",(function(o,s){var a;try{a=i(r,s),t.enabled?I.getAggregator().trigger("jsonp",a,t.callback,!0):I.getAggregator().trigger("send",a,p.noop,!n.on("postMon"))}catch(t){__IntegralASDiagnosticCall("jsvidimp",t,e)}}))}},fwjsvid:{isFW:!0,manualDefer:!0,impressionMethod:function(t){var n="false"===e.fwMonitoring;n&&I.getAggregator().trigger("jsonp",function(e){var t;return(t=e.split("/"))[3]="db2",t[4]="video",t.join("/")}(t),(function(e){I.getAggregator().trigger("videoBlockResult",e)})),I.getAggregator().on("adImpression",(function(r,o){var s,a;try{n&&((a=r)&&p.isBool(a.integral_didBlock)&&a.integral_timeToDecision>=0)&&(t=function(e){var n="$1$2,abc:"+(e.integral_didBlock?1:0)+",abct:"+e.integral_timeToDecision;return t.replace(/(adsafe_jsinfo=)([^&]*)/,n)}(r)),s=i(t,o),I.getAggregator().trigger("send",s,p.noop,!0)}catch(t){__IntegralASDiagnosticCall("fwjsvidimp",t,e)}}))}},jspix:{nodeType:"img"}};return new function(){var t=o[e.mode],n=!!t.isFW,i=function(t){var n;return n=I.getAggregator().request("mobileApp").isMobileAppEnvironment()&&e.mobFwUrl?e.mobFwUrl:t?e.adsafeSrc:e.requrl,t||(n+="?"+e.reqquery),n}(n),s=i.indexOf("BEGIN__ADSAFE"),a=-1!==s,c=a?i.slice(s):"";return{isFW:n,baseUrl:a?i.slice(0,s):function(e){var t=-1===e.indexOf("?")?"?":"&";return e+t}(i),macroUrl:c,sendImpression:function(e){var n=function(){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:Te.getTagTime()},U.STATIC_IMPRESSION_RFW_CALL_REQUEST_TIME),t.nodeType?I.getAggregator().trigger("addNode",t.nodeType,e,t.onloadCallback):t.impressionMethod(e)};r||t.manualDefer?n():t.manualDefer||I.getAggregator().on("adImpression",(function(){n()}))}}}},xe={execAtEndOfThread:function(e){"use strict";xe.setTimeout(e,0)},now:function(){"use strict";return(new Date).getTime()},random:function(){"use strict";return Math.random()},round:function(e){"use strict";return Math.round(e)},ceil:function(e){"use strict";return Math.ceil(e)},floor:function(e){"use strict";return Math.floor(e)},min:function(){"use strict";return Math.min.apply(null,arguments)},max:function(){"use strict";return Math.max.apply(null,arguments)},getWindow:function(){"use strict";return t},getTimeoutScope:function(){"use strict";return Te.isDomless()&&Te.isOmid()?I.getAggregator().request(F.OMID_VERIFICATION_CLIENT):t},setInterval:function(e,t){"use strict";return xe.getTimeoutScope().setInterval(e,t)},setTimeout:function(e,t){"use strict";return xe.getTimeoutScope().setTimeout(e,t)},clearInterval:function(e){"use strict";xe.getTimeoutScope().clearInterval(e)},clearTimeout:function(e){"use strict";xe.getTimeoutScope().clearTimeout(e)},getMaxNumber:function(){"use strict";return Number.MAX_VALUE},getTop:function(){"use strict";return Te.isDomless(),top},getDoc:function(){"use strict";return Te.isDomless(),n},getIntersectionObserver:function(e,t){"use strict";return Te.isDomless(),new IntersectionObserver(e,t)},getMutationObserver:function(e){"use strict";return Te.isDomless(),new MutationObserver(e)},getResizeObserver:function(e){"use strict";return Te.isDomless(),new ResizeObserver(e)},pow:function(e,t){"use strict";return Math.pow(e,t)}},We=function(){"use strict";return{createInstance:function(){return Te.isDomless()?new Ge:new Be}}},Be=function(){"use strict";var e,t,n,r,i=!1,o=!1,s=(I.getAggregator().request(F.FEATURES),new q),a=function(){return p.isDef(e.prop)?xe.getDoc()[e.prop]:null};return t="hidden",n="visibilitychange",r=xe.getDoc(),p.isUndef(r.hidden)?p(["moz","ms","webkit"]).each((function(e,o){var s=o+"Hidden";p.isDef(r[s])&&(t=s,n=o+n,i=!0)})):i=!0,e=i?{prop:t,event:n}:{},{isHidden:a,onHiddenChange:function(t){var n,r;s.push(t),o||(o=!0,n=xe.getWindow(),r=function(){s.run(a())},Ae.addEvent(n,"focus",r,!0),Ae.addEvent(n,"blur",r,!0),e.event&&Ae.addEvent(xe.getDoc(),e.event,r,!0))},supportsVisAPI:function(){return i}}},Ge=function(){"use strict";return{isHidden:function(){return!1},onHiddenChange:function(e){},supportsVisAPI:function(){return!0}}},ke=function(){"use strict";return{createInstance:function(e,t){return Te.isDomless()?new Ye:new He(e,t)}}},He=function(n,r){"use strict";var i,o=function(e){var t=[["ab","about%3A"],["da","data%3A"],["js","javascript%3A"],["fi","file%3A"],["uu","uuid-in-package"],["cx","chrome-extension%3A"],["lo","http%3A%2F%2Flocalhost"],["lo","https%3A%2F%2Flocalhost"]];if("string"==typeof e&&"null"!==e&&""!==e&&"undefined"!==e){for(var n=0;n<t.length;n++)if(e.startsWith(t[n][1]))return"";if(-1===e.indexOf("."))return I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:e.substring(0,40)},U.BAD_URL_NO_PERIOD,{type:h.IMPRESSION_EVENT}),""}return e},s=function(){var s={};try{s.a=encodeURIComponent(top.location.href)}catch(e){}try{s.b=encodeURIComponent(parent.location.href)}catch(e){}if(Te.embedded){try{s.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{s.e=encodeURIComponent(t.document.referrer)}catch(e){}}try{"jsi"!==e.mode&&(s.d=encodeURIComponent(t.location.href))}catch(e){}try{s.f=encodeURIComponent(e.jsref)}catch(e){}try{var a=r.getWindow();s.q=encodeURIComponent(a.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href||"")}catch(e){}try{n.isStarted()&&n.getMyFrameDepth()>1&&(s.g=encodeURIComponent(n.getTopDomain())),n.isStarted()&&Te.xDomainIframe&&1===n.getMyFrameDepth()&&(s.y=encodeURIComponent(n.getTopDomain()))}catch(e){}var c="not-set";try{if(Te.isSafeFrame()){var u=r.getWindow(),d=u&&u.$sf&&u.$sf.ext&&u.$sf.ext.hostURL,g="function"==typeof d&&d();if("string"==typeof g){c=encodeURIComponent(g);var f=!1;"function"==typeof URL?(new URL(g),f=!0):g.startsWith("http")&&(f=!0),f?(s.x=c,I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:c},U.SAFEFRAME_HOSTURL,{type:h.IMPRESSION_EVENT})):I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:c},U.SAFEFRAME_INVALID_HOSTURL,{type:h.IMPRESSION_EVENT})}}}catch(e){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:c},U.SAFEFRAME_INVALID_HOSTURL,{type:h.IMPRESSION_EVENT})}s=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=o(e[t]);(""===n||"null"===n||"undefined"===n||null===n||p.isUndef(n))&&delete e[t]}return e}(s),s=function(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=e[n],p.isUndef(r[t])?r[t]=n:r[t]+=n);var i={};for(n in r)r.hasOwnProperty(n)&&(i[t=r[n]]=n);return i}(s);var l=[];for(var E in s)s.hasOwnProperty(E)&&l.push({key:E,val:s[E]});return l.sort((function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0})),i=l,l};return{detectTopURL:s,getDetectedURLs:function(){return i||s()}}},Ye=function(){"use strict";return{detectTopURL:function(){return[]},getDetectedURLs:function(){return[]}}},je=function(t){"use strict";var n=!1;return{measure:function(r){(n=0===r.rsa)&&t.trigger("notify",e._onSuspicious)},skipAsFraudulent:function(){return n}}},qe=function(){"use strict";var e,t,n,r=[],i={},o={sl:"n"},s=0,a={i:0,o:0,n:0,pp:0,pm:0},c=function(e){var t=I.getAggregator().request(F.FEATURES);if(t&&t.on("recoverOmidLostTime")){var n=a.ri;a.ri=n?n+e:e}},u=function(e,t){var n=new te(t);return i[e]=n,n},d=function(e,t){return(t=t||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[e]},g=function(){p(o).each((function(e,t){var i=r.length?n-s:n;a[t]+=i})),s=n},f=function(e){r.length&&g(),p(e).each((function(e,t){var n,r;n=t,(r=o[e])!==n&&"n"===r&&(a[n]+=a.n),o[e]=t})),r.length||g()},l=function(e){h.NA;var r,o=e.adDimensions?e.adDimensions.getRounded():{width:0,height:0},s=function(e){var t,n={},r=e.winDimensions,i=e.adDimensions;return p.isDef(r)&&r.hasValidDims()&&(n.wc=r),p.isDef(i)&&i.hasValidDims()&&(n.ac=i,n.am=e.method,n.cc=e.containerDimensions),p({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"}).each((function(t,r){var i=e[r];p.isDef(i)&&(n[t]=i)})),""===(t=p(n).toParams())?"":","+t}(e),a=e.omidObstructions,c={sl:d(e.viewState)};return n=Te.getTagTime(),f(c),c.t=n,r=p({toString:function(){return p(i).each((function(e,t){t.fastForward()})),"{"+p(c).toParams()+this.details+this.breakdowns+"}"},details:s,breakdowns:{piv:[],as:[],toString:function(){var e="",t=function(e,t){return t.duration+"~"+t.state};return e+="piv:["+p(this.piv).stringify(t)+"]",",bkn:{"+(e+=",as:["+p(this.as).stringify(t)+"]")+"}"}}}).mixin(c),p(r).mixin(e),r.width=o.width,r.height=o.height,p.isUndef(r.percentInView)&&(r.percentInView=h.PIV_NA),p.isUndef(r.reason)&&(r.reason=""),p.isDef(a)&&""!==a&&(r.omidObstructions=a),t=r,r};return function(){u("piv",(function(e){var t,n=e.percentInView,r=[1,25,30,50,75];return 100===n||0===n?t=n:(p(r).each((function(e,i){p.isUndef(t)&&n<i&&(t=r[e-1])})),p.isUndef(t)&&(t=r[r.length-1])),t})),u("as",(function(e){var t=h.NA,n=e.adDimensions?e.adDimensions.getRounded():{width:t,height:t};return n.width+"."+n.height}));var e=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT);e&&e.recoveredTime>-1&&c(e.recoveredTime)}(),{fastForward:function(){n=Te.getTagTime(),g()},registerLocation:function(t){var n,s=!1;return o.sl==d(t.viewState)&&r.length?(n=new l(t),r[r.length-1].details=n.details):(n=new l(t),r.push(n),e=t.viewState,s=!0),I.getAggregator().trigger(V.NEW_SCREEN_EVENT,n),p(i).each((function(e,t){-1!=="piv|as".indexOf(e)?(s&&t.clear(),t.addState(n),r[r.length-1].breakdowns[e]=t.get()):t.addState(n)})),n},stringify:function(e){var t="";return r.length&&(t=p({slTimes:"{"+p(a).toParams()+"}",slEvents:"["+r.slice(-e).join(",")+"]",slEventCount:r.length}).toParams()),t},createViewabilityTracker:u,getCurrentLoc:function(){return d(e)},getCurrentEvent:function(){return t},setRecoveredTimeInSlTimes:c}},Ke={hashCode:function(e){"use strict";var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},rot:function(e){"use strict";return e.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))},stringToFn:function(e){"use strict";var n,r,i=t,o=e.split(".");for(n=0;n<o.length;n++)if(r=i,i=i[o[n]],p.isUndef(i)||n===o.length-1&&!p.isFunction(i))return!1;return function(){i.apply(r,arguments)}},stringToProp:function(e){"use strict";var t,n=xe.getWindow(),r=e.split(".");for(t=0;t<r.length&&(n,n=n[r[t]],!p.isUndef(n));t++);return n},contains:function(e,t){"use strict";return!!p.isStr(e)&&-1!==e.indexOf(t)},trim:function(e){"use strict";return p.isFunction(e.trim)?e.trim():e.replace(" ","")}};const Xe=function(){"use strict";const e=function(){const e=function(e){return e&&e.width&&e.width>30&&e.height&&e.height>30},t=function(t){const n=Se.getDimensionFromAttributes(t);return e(n)};return{hasValidDimensions:function(n){return t(n)||function(t){const n=Se.getDimensionFromStyle(t);return e(n)}(n)},hasValidDimentionAttributes:t}}(),t=/GoogleActiveViewElement/,n=/DfaVisibilityIdentifier_/,r=/doubleclick.net\/pcs\/click?/,i=/_blank/,o=function(e){const t=e&&Se.tagNameIs(e,"a"),n=Se.attributeMatches(e,"href",r),o=Se.attributeMatches(e,"target",i);return t&&n&&o},s=function(e){const r=Se.tagNameIs(e,"div"),i=Se.attributeMatches(e,"class",t),o=Se.attributeMatches(e,"id",n);return r&&i&&o};return{getDFPGoogleDiv:function(e){return Se.traverseAndFindFirstMatchingNode(e,s)},getClickableImage:function(t){let n,r;const i=Se.traverseAndFindFirstMatchingNode(t,o);return i&&(r=Se.getFirstChildElement(i),Se.isImageTag(r)&&e.hasValidDimentionAttributes(r)&&(n=r)),n},getNodeMatchingMinimumSize:function(t){return Se.traverseAndFindFirstMatchingNode(t,e.hasValidDimensions)}}},ze=function(){"use strict";const e=Xe(),t=function(e,t){t.tag=Se.getTagName(e),t.size=Se.getDimensionFromAttributes(e)||Se.getDimensionFromStyle(e)};return{getDFPValue:function(n){let r;const i=e.getDFPGoogleDiv(n);return r=i?function(n){let r,i;const o={type:0};return n&&(o.type=1,r=e.getClickableImage(n),r?(o.type=2,t(r,o)):(i=e.getNodeMatchingMinimumSize(n),i&&(o.type=3,t(i,o)))),o}(i):function(n){const r={type:0},i=e.getNodeMatchingMinimumSize(n);return i&&(r.type=4,t(i,r)),r}(n),r}}},Je={name:"hB",dependencies:[],creator:function(){"use strict";try{const e=xe.getWindow(),t=xe.getTop(),n=!(!t||!t.document)&&Object.getOwnPropertyNames(t),r=()=>{var t,n;const r=null==e?void 0:e.navigator,i=null===(t=null==r?void 0:r.userAgentData)||void 0===t?void 0:t.brands;return(null===(n=null==i?void 0:i.map((e=>null==e?void 0:e.brand)))||void 0===n?void 0:n.includes("HeadlessChrome"))||!1},i={cdcP:p.stringifyTriState(n&&-1!==n.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Promise")),cdcA:p.stringifyTriState(n&&-1!==n.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Array")),cdcS:p.stringifyTriState(n&&-1!==n.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Symbol")),cyp:p.stringifyTriState(n&&-1!==n.indexOf("Cypress")),wd:p.stringifyTriState(p.isDef(e.navigator.webdriver)&&!0===e.navigator.webdriver),uaHC:p.stringifyTriState(e.navigator.userAgent.length>0&&-1!==e.navigator.userAgent.indexOf("HeadlessChrome")),chHC:p.stringifyTriState(r())},o=1,s=e=>p(e).contains(o),a=function(e){I.getAggregator().trigger("addThrottledProp","sca","hbs",p(e).toION())};s(i)&&a(i)}catch(e){}},settings:{tier:4,applies:function(){"use strict";return!0}}},Qe={name:"viewport",dependencies:[],creator:function(){"use strict";const e={width:4,height:4},t=function(t){return!Se.isViewportVisible(t,e)},n=function(e,r){return e!==r&&t(e)?e:e!==r&&Te.isFriendlyToParent(e)?n(e.parent,r):void 0},r=function(){const e=xe.getWindow();return n(e,xe.getWindow().top)},i=function(){return void 0!==r()};return{MIN_VISIBLE_DIM:e,isHidden:i,isCurrentIframeTheHiddenFrame:function(){let e;const n=xe.getWindow();return t(n)?e=!0:i()&&(e=!1),e},getWindowWithHiddenViewport:r}}},$e=function(e){"use strict";let t,n;const r=function(r){t=e.setInterval(r,100),n=e.setTimeout((function(){i()}),42e4)},i=function(){t&&(e.clearInterval(t),t=null),n&&(e.clearTimeout(n),n=null)};return{onResize:function(t){let n=e.innerWidth,o=e.innerHeight,s=!1;r((function(){const r=function(){const t=e.innerWidth,r=e.innerHeight;return t!==n||r!==o}();r&&(s=!0),s&&!r&&(t(),i(),s=!1),n=e.innerWidth,o=e.innerHeight}))}}},Ze={name:"AS_Finder",dependencies:["viewport"],creator:function(e,t){"use strict";let n;const r=function(){try{!function(r){let i;const o={};r!==n&&(i=p.stringifyTriState(r),o.res1=i,o.ps=i,o.ts=xe.now(),o.psfr=p.stringifyTriState(e.isCurrentIframeTheHiddenFrame()),t.events.trigger("newState",o)),n=r}(e.isHidden())}catch(e){I.getAggregator().trigger("error",h.ERROR_CODES.HIDDEN2)}};return{start:function(){e.isHidden()&&(r(),function(){const t=e.getWindowWithHiddenViewport();t&&$e(t).onResize(r)}())}}},settings:{emits:!0,applies:function(e,t,n){"use strict";return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}},et={name:"hA",dependencies:["AS_Finder"],creator:function(t){"use strict";let n=0;const r=function(e,t){I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.FF,e,p(t).toION())},i=function(e){n<2&&r("ha1",e),n++};!function(){let n,o;if(Te.embedded)try{o=e.contextNode.parentNode,n=ze().getDFPValue(o),r("dfp",function(e){const t={};return t.df=e.type,e.size&&(t.sz=e.size.width+"."+e.size.height),e.tag&&(t.dom=e.tag),t}(n)),n.size&&t&&(t.events.on("newState",i),t.start())}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.HIDDEN)}}()},settings:{tier:h.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e){"use strict";return e.on("usehaps")}}},tt={name:"thresholdDetector",dependencies:[],creator:function(){"use strict";return{create:(e,t,n)=>{let r;let i=t();const o=()=>{const o=t();o!==i&&!0&&(n(e,o),xe.clearInterval(r)),i=o};i&&(n(e,i),r=xe.setInterval(o,50))}}}},nt={name:"invisibleAds",dependencies:["thresholdDetector"],creator:function(t){"use strict";const n={width:4,height:4},r=()=>{const e=Ae.getStyle(xe.getWindow().frameElement,"opacity");return parseFloat(e)<.2},i=()=>"hidden"===Ae.getStyle(xe.getWindow().frameElement,"visibility"),o=(e,t)=>{const n={res1:p.stringifyTriState(t)};I.getAggregator().trigger(V.ADD_THROTTLED_PROP,"sca",e,p(n).toION())};try{const s=e.contextNode.parentNode,a=ze().getDFPValue(s);Se.isViewportVisible(xe.getWindow(),n)&&2===a.type&&(r()&&t.create("ha2",r,o),i()&&t.create("ha3",i,o))}catch(e){}},settings:{tier:4,applies:function(e,t,n){"use strict";return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}};var rt=function(e,n,r,i){"use strict";var o,s,a=0,c=0,u=e&&e.body,d=!1,g=function(){if((o=Math.round(Se.getNodeArea(e.body)))>=i){for(var t,n,s=o+20*o/100,u=e.querySelectorAll("iframe"),d=p.fromNodeListToArray(u);d.length&&(c<s||a<r);)t=d.shift(),(n=Math.round(Se.getNodeArea(t)))>=i&&(a++,c+=n);c>=s&&a>=r&&f()}},f=function(){var e={va:o,bia:c,bin:a};I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.FF,n,p(e).toION()),d=!0};u&&(xe.execAtEndOfThread(g),!d&&p.isDef(t.MutationObserver)&&(s=new MutationObserver((function(e){d?s.disconnect():xe.execAtEndOfThread((function(){p(e).each((function(e,t){if(t.addedNodes.length){var n=t.addedNodes[0];n&&Se.isElement(n)&&Se.tagNameIs(n,"IFRAME")&&p.debounce(g,10)}}))}))}))).observe(e.body,{attributes:!1,childList:!0,characterData:!1}))},it={name:"BS_InApp",dependencies:[],creator:function(){"use strict";var e=xe.getWindow().document,t=e&&e.body;I.getAggregator().request(F.MOBILE_APP).isMobileAppEnvironment()&&t&&st.isValidMobileAdSize(e.body)&&rt(e,"bs1",3,100)},settings:{tier:h.TIERS.VIEWABILITY,applies:function(e,t,n){"use strict";var r=n.isOmid()||n.isMraid(),i=!n.isDomless()&&n.friendly&&!n.embedded;return e.on("bas")&&r&&i&&e.bootstrapOn("app")}}},ot={name:"BS_Browser",dependencies:[],creator:function(){"use strict";var e=xe.getWindow().document,t=e.body?Math.round(Se.getNodeArea(e.body)):null;!I.getAggregator().request(F.MOBILE_APP).isMobileAppEnvironment()&&t&&rt(e,"bs2",10,t)},settings:{tier:h.TIERS.VIEWABILITY,applies:function(e,t,n){"use strict";var r=!e.bootstrapOn("app")&&!n.isDomless();return e.on("bbs")&&n.embedded&&r}}};const st={isValidMobileAdSize:e=>{const t=Se.getRect(e);return p([{width:320,height:50},{width:300,height:250},{width:336,height:280},{width:300,height:250},{width:728,height:90},{width:468,height:60},{width:336,height:280}]).find(((e,n)=>n.width===t.width&&n.height===t.height))}};var at=function(){"use strict";return{createInstance:function(e){return Te.isDomless()?new ut:new ct(e)}}},ct=function(e){"use strict";var n,r,i,o=new H,s=new j,a=new lt(o),c=new gt,u=new Tt,d=new It(o,e),g=function(){return p.isUndef(i)&&(i=new pt(o)),i};return{isApplicable:function(e){return p.isDef(t.JSON)&&p.isDef(t.postMessage)&&(!e.isOmidNative()||e.isOmidForWeb())},start:function(){o.provide({frameCollection:function(){return a},adProxy:function(){return u},adTalkMessage:function(e){return new dt(e,o)},adTalkMessageCollection:function(){return c},idMapModule:g,interFrameQuerySelector:function(e){return new mt(e)}}),s.traverse(a.addFrame),d.startListening(),d.sendToKnownFrames(),I.getAggregator().once(V.STOP_AD_TALK,(function(){d.stopListening()})),I.getAggregator().provide(F.AD_TALK_EVENT_AGGREGATOR,o)},sendAdTalkCall:d.sendAdTalkCall,getFrameMap:function(){return p.isUndef(n)&&(n=new Et(o)),n},getFrameMapIncludingPeerCase:function(){return p.isUndef(r)&&(r=new Et(o,!0)),r},getIdMap:g}};const ut=function(){"use strict";return{isApplicable:()=>!1,start:()=>{}}};var dt=function(t,n){"use strict";var r,i=n.request(F.AD_PROXY).myIdCard,o=n.request(F.FRAME_COLLECTION).getMe().getStringifiedPosition();r=I.getAggregator().request(F.FEATURES).on("swapids")?e.oid:e.asid;var s,a;return{messageContent:t||{},srcAsid:e.asid,srcTagId:i.tagId,srcIsEmbedded:Te.embedded,srcIsFriendly:Te.friendly,srcBirthdate:u.measurementConfig.birthdate,iasCommonId:r.split("-")[2],nodeSelector:Te.friendly?"["+h.AD_IDENTIFIER+"-"+e.asid+"]":'iframe[src*="'+((a=(s=xe.getWindow()).location&&s.location.href)&&a.replace(/^https?\:\/\//i,""))+'"]',positionStr:o,version:"0.1"}},gt=function(){"use strict";var e={};return{add:function(t){var n=t&&t.srcAsid;n&&(e[n]=t)},map:function(t){return p(e).map(t)},has:function(t){var n=t&&t.srcAsid;return e[n]}}},ft=function(e,n,r,i){"use strict";var o,s=e==t;(o={position:n.slice(0),id:n.join("-"),isMe:s,isLeaf:!e.frames.length,adProxies:s?r:[],selfDescription:void 0,unifiedId:u.measurementConfig.birthdate,srcIsEmbedded:i?i.srcIsEmbedded:void 0,inbox:i?[i]:[]}).getDomObj=function(){return e},o.getStringifiedPosition=function(){return p(o.position).map((function(e,t){return p.toBase(Number(t)+1,36)})).join("")},o.isValidForMapping=function(){return o.isLeaf||o.isMe||p.isDef(o.selfDescription)};var a=function(e,t){return!p(e).find((function(e,n){return n.adSafeId&&n.adSafeId===t.adSafeId}))};return o.addInformationFromSrc=function(e,t){var n,r,i,s;n=t,r=o.adProxies,i=n.adProxies,s=[],r.length&&i.length?p(i).each((function(e,t){a(r,t)&&s.push(t)})):s=i,o.adProxies=r.concat(s),function(e){p(o.inbox).find((function(t,n){return n.srcAsid&&n.srcAsid===e.srcAsid}))||o.inbox.push(e)}(e),o.srcIsEmbedded=e.srcIsEmbedded,o.selfDescription=t},o},lt=function(e){"use strict";var t=[],n={},r={noMe:!0};return{addFrame:function(i,o,s){var a=e.request(F.AD_PROXY).getAll(),c=new ft(i,o,a,s);return t.push(c),n[c.id]=c,c.isMe&&(r=c),c},getFrame:function(e){return n[e]},list:t,dictionary:n,getMe:function(){return r}}},Et=function(t,n){"use strict";var r=function(e,t){var r=t.adProxies,s="";if(t.isValidForMapping())return s+=n?o(r,t.getStringifiedPosition()):i(r,t)},i=function(e,t){var n="";return n+=t.getStringifiedPosition(),n+=t.isMe?"*":"",n+=e.length?"."+e[0].tagId:""},o=function(e,t){var n="";return e.length?n+=p(e).stringify((function(e,n){return s(n,t)}),"|"):n+=t,n},s=function(t,n){return n+(e.asid===t.adSafeId?"*":"")+"."+t.tagId};return{output:function(){var e=t.request(F.FRAME_COLLECTION),n=p(e.list).stringify(r,"|");return p.toBase(e.getMe().unifiedId,62)+"+"+n}}},pt=function(t){"use strict";var n=t.request(F.FRAME_COLLECTION).getMe().getStringifiedPosition(),r=e.contextNode.parentNode,i=t.request(F.INTER_FRAME_QUERY_SELECTOR,r),o=function(e){var t=!1,o=!Te.embedded,s="BODY"!==Se.getNodeName(r)&&"HEAD"!==Se.getNodeName(r),a=e.srcIsEmbedded&&!function(e){var t="0.1"!==e.version,n=e.nodeSelector&&-1===e.nodeSelector.indexOf(h.AD_IDENTIFIER);return t?n:!e.srcIsFriendly}(e);return t=o&&s&&!a?!!function(e){return i.queryFor(e.nodeSelector)}(e):!!function(e){var t=e.positionStr,r=e.srcIsEmbedded&&Te.embedded,i=0===n.indexOf(t)||0===t.indexOf(n);return r&&i}(e),t};return{output:function(){var r,i,s=n+"*";return(i=t.request(F.AD_TALK_MESSAGE_COLLECTION).map((function(t,n){var r;return t!==e.asid&&o(n)&&(r=function(e){return e.positionStr+"."+e.srcAsid+"."+e.transferDuration+"_"+e.srcTagId}(n)),r}))).push(s),r=i.join("|"),r.length>120&&(r=function(e){return e&&e.substr(0,120)+".of"+e.length}(r),I.getAggregator().trigger(V.STOP_AD_TALK)),r},isCandidateForMyIdMap:o}},mt=function(e){"use strict";var t=new j,n=function(e,t){return Se.querySelector(function(e){var t=e,n="IFRAME"===Se.getNodeName(e),r=Se.isWindow(e);return n?t=e.contentWindow.document:r&&(t=e.document),t}(e),t)};return{queryFor:function(r){var i=null;return r&&(i=function(r,i){var o,s,a;try{(s=n(r,i))||(o=t.getFrames(!0,e),p(o).findFirst((function(e,t){return a=n(t,i)})))}catch(e){}return s||a||null}(e,r)),i}}},It=function(t){"use strict";var n,r,i=!1,o=I.getAggregator().request(F.FEATURES);r=o.on("swapids")?e.oid:e.asid;var s=function(n){var i=r.split("-")[2],o=!t.request(F.AD_TALK_MESSAGE_COLLECTION).has(n)&&n.srcAsid!==e.asid;return n.hasOwnProperty("messageContent")&&i===n.iasCommonId&&o},a=function(){var e=t.request(F.FRAME_COLLECTION).getMe(),n={self:e,unifiedId:e.unifiedId};return t.request(F.AD_TALK_MESSAGE,n)},c=function(){var e=h.DT_CODES.ADTALK;t.request(F.FRAME_COLLECTION);i||(i=!0),I.getAggregator().trigger(V.SEND_DT,e)},u=function(e,n,r){var o,s,a,u,d,g,f;try{o=t.request(F.FRAME_COLLECTION),s=t.request(F.AD_TALK_MESSAGE_COLLECTION),a=n.messageContent.self,s.add(n),g=o.getMe(),f=a,g.unifiedId>f.unifiedId&&(g.unifiedId=f.unifiedId),n.transferDuration=function(e){return xe.now()-e.sentTime}(n),u=o.getFrame(a.id),d=u,p.isUndef(d)||p.isUndef(d.selfDescription)?((u=u||o.addFrame(e.source,a.id.split("-"),n)).addInformationFromSrc(n,a),r()):u.addInformationFromSrc(n,a),i&&t.request(F.ID_MAP_MODULE).isCandidateForMyIdMap(n)&&c()}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.ADTALK_DUBIOUS)}};return{sendAdTalkCall:c,sendToKnownFrames:function(){(new z).send(a)},startListening:function(){(n=new X).listen(s,u,a)},stopListening:function(){n&&n.stop()},validateMessage:s,processMessage:u,createMessage:a}},ht=function(){"use strict";var e=I.getAggregator().request(F.IDS),t=e.getAsid();return{tagId:e.getFwId(),adSafeId:t}},Tt=function(){"use strict";var e,t=[],n=function(e){var n=new ht(e);return t.push(n),n};return e=n(),{createNew:n,getAll:function(){return t},myIdCard:e}},At=function(e,t){"use strict";var n,r,i=h.NA,o=i,s=!1,a=!1,c=!1,u=!t,d=I.getAggregator().request(F.BROWSER),g=function(e,t){(function(e){var t=I.getAggregator().request(F.MOBILE_APP);return(e.browserIs(h.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(h.BROWSERS.WEBKIT)||e.browserIs(h.BROWSERS.MSEDGE))&&!t.isMobileAppEnvironment()&&e.hasResizeObserver()})(d)&&xe.getResizeObserver((function(n,r){var i=n.pop();i.contentRect.height*i.contentRect.width>0&&(t.unobserve(e),t.observe(e),r.disconnect())})).observe(e)},f=function(){var t=xe.getIntersectionObserver((function(e,t){var r=e.pop(),s=r.intersectionRect.width*r.intersectionRect.height/(r.boundingClientRect.width*r.boundingClientRect.height)*100;isNaN(s)&&(g(r.target,t),s=0),i=Math.min(s,100),n=r.boundingClientRect,i!==o&&xe.execAtEndOfThread((function(){I.getAggregator().trigger(V.IO_PIV_CHANGE,i)})),o=i}),{threshold:h.VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER});u&&xe.execAtEndOfThread((function(){i===h.NA&&(i=0)})),t.observe(l(e)),u&&xe.execAtEndOfThread((function(){Te.isBustedIframe()||I.getAggregator().trigger(V.DELAYED_VIEWABILITY_READY)})),s=!0},l=function(t){if(!p.isUndef(t)){if(c){var n=e.document,i=n.createElement("div");p(i.style).mixin({position:"absolute",width:"100%",opacity:"0",height:"100%",zIndex:-999,top:"0px",left:"0px"}),i[h.IAS_DETECTOR]=!0,n.body.appendChild(i),t=i}return r=t,t}};return{start:function(){var t=function(){var t;try{e.document&&(c=!0,t={bodyElement:e.document.body,document:e.document})}catch(e){a=!0}return t}();t&&null!==t.bodyElement?f():t&&t.document?Ae.whenReady(f,t.document):a?I.getAggregator().request("errors").add(h.ERROR_CODES.BUSTED_IFRAME_IN_IO):f()},isReady:function(){return i!==h.NA},isStarted:function(){return s},getAdNodeDimensions:function(){var e;return n&&(e=ve({scrX:void 0,scrY:void 0,width:n.width,height:n.height})),e},getObservedNode:function(){return r},getPiv:function(){return i}}},Dt=function(){"use strict";var e=!1;return Ae.whenReady((function(){I.getAggregator().trigger(V.START_VIEWABILITY_LOOP),e=!0})),{loopStarted:function(){return e}}},_t={name:"loopDelay",dependencies:[],creator:Dt,settings:{applies:function(e,t,n){"use strict";return e.bootstrapOn("allowViewability")},tier:h.TIERS.VIEWABILITY}},vt=function(){"use strict";return{start:function(e){I.getAggregator().on(V.MEASURABLE,(function(){e()}))},isApplicable:function(e,t){return!t.browserIs(h.BROWSERS.WEBKIT)||!e.isImmediatelyMeasurable()}}},St=function(){"use strict";return{start:function(e){e()},isApplicable:function(e){return e.isImmediatelyMeasurable()}}},Ot=function(t,n,r){"use strict";var i=!1,o=function(){try{n.impressionIsIdentifiable()&&!i?(i=!0,I.getAggregator().trigger(V.NOTIFY,e._onMeasurable)):n.impressionIsIdentifiable()||__IntegralASDiagnosticCall("rtsmeas_imp_not_iden",{},e)}catch(t){__IntegralASDiagnosticCall("rtsmeas_send_noti_error",t,e)}};return{start:function(){try{var n,i=[Nt(),Rt(),St(),vt()];(n=p(i).findFirst((function(e,n){return n.isApplicable(r,t)})))?n.start(o):__IntegralASDiagnosticCall("rtsmeas_no_chosen_strategy",{},e)}catch(t){__IntegralASDiagnosticCall("rtsmeas_start_error",t,e)}},isApplicable:function(t){return t.bootstrapOn("useViewabilityNotification")&&p.isDef(e._onMeasurable)}}},Rt=function(){"use strict";return{start:function(e){var t,n;(t=I.getAggregator(),n=[V.AD_IMPRESSION,V.MEASURABLE],{onAll:function(e){var r={};p(n).each((function(i,o){t.on(o,(function(){r[o]=1,p(r).keys().length===n.length&&(r={},e())}))}))}}).onAll((function(){e()}))},isApplicable:function(e,t){var n=t.getIOSVersion()>=9;return(!t.browserIs(h.BROWSERS.WEBKIT)||n)&&Te.isVideo()}}},Nt=function(){"use strict";return{start:function(e){I.getAggregator().once(V.AD_IMPRESSION,(function(){e()}))},isApplicable:function(e){return e.isImmediatelyMeasurable()&&Te.isVideo()}}},yt=function(e,t,n){"use strict";var r=["rjss","jss","jload"];return{accepts:function(){var e=p.isDef(p(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(h.MEDIA_TYPE.DISPLAY)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){}}},Ct=function(t){"use strict";var n=xe.getWindow(),r=n&&n.omid3p,i=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),o=!!(t&&t.isSupported&&t.isSupported()),s=!!(r&&p.isFunction(r.registerSessionObserver)&&p.isFunction(r.addEventListener));return{accepts:function(){return(o||s)&&!e.videoId},isMediaType:function(e){return e===i.mediaType},supportsAdContainerGeometry:function(){return!0}}},Mt=function(e,t,n){"use strict";var r,i=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),o=i.isHtml&&i.isWeb,s=xe.getWindow(),a=s&&s.omid3p,c=!!(a&&p.isFunction(a.registerSessionObserver)&&p.isFunction(a.addEventListener))?a:e;r=o?["rjss","jss","jload","jsvid","fwjsvid"]:["rjss","jss","jload"];return{accepts:function(){var e=p.isDef(p(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(h.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){c.addEventListener("start",(function(e){I.getAggregator().trigger(V.AD_IMPRESSION)}))}}},wt=function(e){"use strict";return{resolve:function(){return p(e).findFirst((function(e,t){return t.environment.accepts()}))}}},bt=function(n){"use strict";var r=!1,i=!1,o=!1,s=!1,a=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT);a.queuedOutputItems=[],a.cachedEvents=[],a.cachedGeometryEventsReceived=!1,a.cachedVideoEventsReceived=!1,a.recoveredTime=-1;var c=new Ar,d=I.getAggregator().request(F.OMID_AS_VERIFICATION_PARAMS),g=I.getAggregator().request(F.FEATURES),f=xe.getWindow(),l=f&&f.omid3p,m=!!(l&&p.isFunction(l.registerSessionObserver)&&p.isFunction(l.addEventListener))?l:n,T=!1;a.omidEarlyExit=!1,a.mediaType="display";var A=!1,D=function(e,t){a.queuedOutputItems.push({code:e,value:t})},_=function(e,t,n){I.getAggregator().trigger(e,t,n)},v=function(e){I.getAggregator().trigger(e)},S=function(){r&&i&&(!s||o)&&(t.omidSupported=!0,a.hasOwnProperty("impressionType")&&D("oiet",a.impressionType),a.hasOwnProperty("creativeType")&&D("oct",a.creativeType),a.underEvaluation&&D("oef",!0),a.exitedOASRS=!0,T=!0,u&&u.jsConfigRequest&&u.jsConfigRequest.buildRequestUrlFromParameters&&u.jsConfigRequest.buildRequestUrlFromParameters({contextNode:u.scriptTag,omidParameters:d&&d.IAS&&Object.keys(d.IAS).length>0?d.IAS:d}),E())},O=function(t){function n(){return Te.isOmidForWeb()||t.data.hasOwnProperty("supportsLoadedEvent")&&("true"===t.data.supportsLoadedEvent||!0===t.data.supportsLoadedEvent)&&"string"==typeof t.data.creativeType&&""!==t.data.creativeType}var c="0";if("sessionStart"===t.type){a.adSessionType=t.data.context.adSessionType||"undefined",a.environment=t.data.context.environment,a.accessMode=t.data.context.accessMode||"limited",a.omidNativeInfo=t.data.context.omidNativeInfo,a.omidJsInfo=t.data.context.omidJsInfo,a.deviceInfo=t.data.context.deviceInfo,a.app=t.data.context.app,a.supports=t.data.context.supports,a.app&&"string"==typeof a.app.appId&&a.app.appId.toLowerCase().indexOf("pandora")>-1&&(a.ignoreDivAsCandidate=!0),t.data.hasOwnProperty("contentUrl")&&(a.contentUrl=t.data.contentUrl),t.data.context.hasOwnProperty("underEvaluation")&&(a.underEvaluation=t.data.context.underEvaluation),a.isJavaScript="javascript"===a.adSessionType,a.isNative="native"===a.adSessionType||"javascript"===a.adSessionType,a.isLimitedSandbox="app"===a.environment?Te.embedded:"full"!==t.data.context.accessMode,a.isHtml="html"===t.data.context.adSessionType,a.isWeb="web"===t.data.context.environment,a.partnerName=a.omidNativeInfo&&a.omidNativeInfo.partnerName&&a.omidNativeInfo.partnerName.toLowerCase(),d=t.data.verificationParameters,a.isOmidForWebEnvironment=a.isHtml&&a.isWeb,a.element=t.data.context.videoElement||t.data.context.slotElement||null,n()?(s=!0,a.useOMID13Logic=!0,D("ohand","13"),m.addEventListener("video",N),m.addEventListener("media",N)):D("ohand","12"),a.isOmidForWebEnvironment||(a.integratedBlocking=u.measurementConfig.isResolved&&Te.integratedBlockingApplies(e.mobFwUrl),a.integratedBlocking&&g&&g.on("exitOASRSEarly")&&(a.omidEarlyExit=!0,c="1",a.omidEarlyExit&&e.mobFwUrl.indexOf("xmtp=v")>-1&&(a.mediaType="video")),!t.data.mediaType||"display"!==t.data.mediaType&&"video"!==t.data.mediaType||(a.mediaType=t.data.mediaType)),a.omidEarlyExit&&(i=!0,D("omtp",a.mediaType),n()&&(o=!0),"video"===a.mediaType&&(a.isVideo=!0),a.isNativeVideo=a.isNative&&a.isVideo,a.isDisplay="display"===a.mediaType),"audio"===t.data.creativeType&&(a.accessMode="limited",a.isLimitedSandbox=!0);for(var f,l,E,p=[{root:"omidNativeInfo",code:"onpn",field:"partnerName"},{root:"omidNativeInfo",code:"onpv",field:"partnerVersion"},{root:"omidJsInfo",code:"ojpn",field:"partnerName"},{root:"omidJsInfo",code:"ojpv",field:"partnerVersion"},{root:"omidJsInfo",code:"osev",field:"serviceVersion"},{root:"omidJsInfo",code:"oscv",field:"sessionClientVersion"},{root:"app",code:"applv",field:"libraryVersion"},{root:"app",code:"appid",field:"appId"},{root:"deviceInfo",code:"dty",field:"deviceType"},{root:"deviceInfo",code:"osn",field:"os"},{root:"deviceInfo",code:"osv",field:"osVersion"}],I=0;I<p.length;I++)f=p[I].root,l=p[I].field,E=p[I].code,"object"==typeof a[f]&&void 0!==a[f][l]&&D(E,a[f][l]);D("oast",a.adSessionType),D("oacm",a.accessMode),D("oenv",a.environment),a.hasOwnProperty("contentUrl")&&D("ocon",encodeURIComponent(a.contentUrl||"")),D("oerl",c),D("oses",Te.getTagTime()),r=!0,S()}if("sessionError"===t.type){var h="string"==typeof t.data.errorType?t.data.errorType:"NoErrType",A="string"==typeof t.data.message?t.data.message:"NoMessage",v=h+"_"+encodeURIComponent(A);T?_(V.ADD_OUTPUT_ITEM,{output:v},U.OMID_SESSION_ERROR):D(U.OMID_SESSION_ERROR,v)}},R=function(e){e.type===h.IMPRESSION_EVENT&&(a.omidImpressionArrived=!0,v(V.OMID_IMPRESSION_ARRIVED),a.mediaType="web"===a.environment?e.data.mediaType||"video":e.data.mediaType,D("omtp",a.mediaType),"audio"===e.data.creativeType&&(a.accessMode="limited",a.isLimitedSandbox=!0),D("oimp",Te.getTagTime()),"video"===e.data.mediaType&&(a.isVideo=!0),function(e){return e.data.adView&&(e.data.viewport||a.isWeb)}(e)&&(a.impressionViewabilityMeasurement={type:"geometryChange",data:{viewport:e.data.viewport,adView:e.data.adView},timestamp:e.timestamp},void 0===a.geometryArrived&&c.checkForViewAttachmentBasedOnAdSessionType(a,e.data.adView)&&(a.geometryArrived=!0,v(V.OMID_REND_GEO_UPDATE))),e.data.hasOwnProperty("impressionType")&&!o&&(a.impressionType=e.data.impressionType),a.isNativeVideo=a.isNative&&"video"===e.data.mediaType,a.isDisplay="display"===e.data.mediaType,i=!0,S())},N=function(e){if(e&&"start"===e.type)return a.videoStartArrived=!0,void v(V.OMID_REND_VIDEO_START);"loaded"!==e.type||a.omidLoadedArrived||(D("oloa",Te.getTagTime()),o=!0,a.omidLoadedArrived=!0,v(V.OMID_LOADED_ARRIVED),e.data.hasOwnProperty("creativeType")&&(a.creativeType=e.data.creativeType),"audio"===a.creativeType&&(a.accessMode="limited",a.isLimitedSandbox=!0),e.data.hasOwnProperty("impressionType")&&(a.impressionType=e.data.impressionType),!0===a.omidEarlyExit&&(A||(_(V.ADD_THROTTLED_OUTPUT_ITEM,"oiet",a.impressionType),_(V.ADD_THROTTLED_OUTPUT_ITEM,"oct",a.creativeType),A=!0)),S())},y=function(e){e&&e.data&&e.data.interactionType&&"click"===e.data.interactionType&&Ht.omid.trackClick()};return{start:function(){m.registerSessionObserver(O,"IAS"),m.addEventListener(h.IMPRESSION_EVENT,R),m.addEventListener(V.AD_USER_INTERACTION,y)}}},Pt=function(){"use strict";return{accepts:function(){return!0}}},Vt=function(){"use strict";var e=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),t=I.getAggregator().request(F.OMID_VERIFICATION_CLIENT),n=new Ct(t),r=e.isHtml&&e.isWeb;return{accepts:function(){return n.accepts()&&r}}},Lt=function(){"use strict";return{start:function(){E()}}};const Ft=({jsInfoCode:e,output:t,errorCode:n})=>{try{I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:t},e),I.getAggregator().trigger(V.SEND_DT,h.DT_CODES.PERFORMANCE)}catch(e){I.getAggregator().trigger(V.ERROR,n)}};class Ut{constructor(){this.mousedOver=!1,this.clicked=!1}mouseOver(){this.mousedOver=!0}mouseOut(){this.mousedOver=!1}click(){this.clicked=!0}isMousedOver(){return this.mousedOver}wasClicked(){return this.clicked}}class xt{constructor({tagStartTime:e,adState:t}){this.initClickTracking=({clickSource:e})=>{this.clickData[e]||(this.clickData[e]=[])},this.getClicks=({clickSource:e})=>this.clickData[e],this.setupTrackAndBroadcastClick=({clientX:e,clientY:t,clickSource:n})=>{const r=[e,t,Te.getTagTime()];this.getClicks({clickSource:n}).push(r),Ft({output:p(this.clickData).toION(),errorCode:"Q",jsInfoCode:"clks"})},this.trackClick=({event:e,clickSource:t})=>{const{clientX:n,clientY:r}=e;this.adState.click(),this.setupTrackAndBroadcastClick({clientX:n,clientY:r,clickSource:t})},this.trackBlur=({clickSource:e})=>{this.setupTrackAndBroadcastClick({clientX:-1,clientY:-1,clickSource:e})},this.trackTouch=({touchEvent:e,clickSource:t})=>{const{clientX:n,clientY:r}={clientX:Math.round(e.clientX),clientY:Math.round(e.clientY)};this.setupTrackAndBroadcastClick({clientX:n,clientY:r,clickSource:t})},this.trackOmidClick=()=>{this.initClickTracking({clickSource:"om"}),this.trackClick({event:{clientX:0,clientY:0},clickSource:"om"})},this.isProxyClick=()=>!this.adState.wasClicked()&&this.adState.isMousedOver()&&n.activeElement instanceof HTMLIFrameElement,this.trackBlurClick=()=>{if(this.isProxyClick()){const e="blr";this.adState.mouseOut(),this.initClickTracking({clickSource:e}),this.trackBlur({clickSource:e})}},this.trackAdComponentClick=e=>{this.initClickTracking({clickSource:"ac"}),this.trackClick({event:e,clickSource:"ac"})},this.trackMobileTouch=e=>{if(e.changedTouches&&e.changedTouches[0]){const t=e.changedTouches[0];this.initClickTracking({clickSource:"mt"}),this.trackTouch({touchEvent:t,clickSource:"mt"})}},this.clickData={},this.tagStartTime=e,this.adState=t}}class Wt{constructor({adState:e,tagStartTime:t}){this.trackAdComponentMouseOver=()=>{this.adState.mouseOver(),this.hoverData.timeToFirstHover||(this.hoverData.timeToFirstHover=Te.getTagTime()),this.hoverData.hoverCount+=1,this.hoverTimer.startTimer(),Ft({output:p(this.hoverData.getData()).toION(),errorCode:"he",jsInfoCode:"hov"})},this.trackAdComponentMouseOut=()=>{this.adState.mouseOut();const e=this.hoverTimer.endTimer();(e||0===e)&&(this.hoverData.totalHoverTime+=e,Ft({output:p(this.hoverData.getData()).toION(),errorCode:"he",jsInfoCode:"hov"}))},this.adState=e,this.tagStartTime=t,this.hoverData=new Bt,this.hoverTimer=new Gt}}class Bt{constructor(){this.getData=()=>[this.timeToFirstHover,this.hoverCount,this.totalHoverTime],this.hoverCount=0,this.totalHoverTime=0,this.timeToFirstHover=0}}class Gt{constructor(){this.startTime=0}startTimer(){this.startTime=(new Date).getTime()}endTimer(){let e;return this.startTime&&(e=(new Date).getTime()-this.startTime),this.startTime=0,e}}const{birthdate:kt}=e,Ht=new class{constructor({tagStartTime:e}){this.finalizeAllCollectedData=()=>{this.hover.trackAdComponentMouseOut()},this.adState=new Ut,this.tagStartTime=e,this.click=new xt({tagStartTime:e,adState:this.adState}),this.hover=new Wt({tagStartTime:e,adState:this.adState})}get adComponent(){return{trackClick:this.click.trackAdComponentClick,trackBlur:this.click.trackBlurClick,trackMouseOver:this.hover.trackAdComponentMouseOver,trackMouseOut:this.hover.trackAdComponentMouseOut}}get mobile(){return{trackTouch:this.click.trackMobileTouch}}get omid(){return{trackClick:this.click.trackOmidClick}}}({tagStartTime:kt});var Yt=function(e,n){"use strict";var r="videoPlaybackEvent",i=[],o=(new Date).getTime(),s=0,a=1,c=0,d=!1,g=new Le,f=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),l=xe.getWindow(),E=l&&l.omid3p,m=!!(E&&p.isFunction(E.registerSessionObserver)&&p.isFunction(E.addEventListener))?E:e,T=!1,A=!1,D={isEmpty:function(){return 0===i.length},toString:function(){for(var e="{vEventCount:"+i.length+",vEvents:[",t=0;t<i.length;t++){var n=i[t];e+=(t>0?",{":"{")+"t:"+n.t+",rt:"+n.rt+",tp:"+n.tp+",sl:"+n.sl+",ad_duration:"+n.ad_duration+",volume:"+n.volume+",devol:"+n.devol+"}"}return e+="]}"}},_=function(){d=!0},v=function(e){var g,l,E,m="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish",D="complete|pause|bufferStart|skipped";if(-1!==("|"+m+"|"+D+"|playerStateChange|loaded|volumeChange|").indexOf("|"+e.type+"|"))try{var _,v="",S=e.hasOwnProperty("timestamp")?e.timestamp:(new Date).getTime(),O=S-(u.measurementConfig.birthdate||S+1),R="n",N=!1;switch(e.type){case"start":v=V.AD_VIDEO_START,f.videoStartArrived=!0,I.getAggregator().trigger(V.OMID_REND_VIDEO_START),o=S,(c=e.data.duration||"0")>1e3&&(c/=1e3),s=null!=e.data.mediaPlayerVolume?e.data.mediaPlayerVolume:e.data.videoPlayerVolume,a=null!=e.data.deviceVolume?e.data.deviceVolume:1;break;case"volumeChange":v="volumeChanged",s=null!=e.data.mediaPlayerVolume?e.data.mediaPlayerVolume:e.data.videoPlayerVolume,a=null!=e.data.deviceVolume?e.data.deviceVolume:1;break;case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":v="adVideo"+e.type.substring(0,1).toUpperCase()+e.type.substring(1),N=!0,I.getAggregator().trigger(V.VIDEO_QUARTILE_EVENT,e);break;case"pause":case"bufferStart":v="pauseAd";break;case"resume":case"bufferFinish":v="resumeAd";break;case"skipped":v="adSkipped"}if(s=s>0&&s<.1?.1:parseInt(10*s)/10,a=a>0&&a<.1?.1:parseInt(10*a)/10,""!==v){var y=I.getAggregator().request(F.SCREEN_EVENTS);y&&(R=y.getCurrentLoc()||R),i.push({t:S-o,rt:O,tp:v,sl:R,ad_duration:c,volume:s,devol:a})}if("loaded"===e.type&&p.isDef(e.data)){var C=["preroll","midroll","postroll","standalone"].indexOf(e.data.position),M=-1!==C?C+1:void 0,w=[];!0===e.data.autoPlay?w.push("autoplayed"):w.push("clicktoplay"),!0===e.data.skippable&&w.push("skippable"),"fullscreen"===e.data.state&&w.push("fullscreen");var b=w.join(".");!0===d?(p.isDef(M)&&I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.ENVIRONMENT,U.VIDEO_BREAK_POSITION,M),I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.ENVIRONMENT,U.VIDEO_PLAYER_STATE,b)):(p.isDef(M)&&I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:M},U.VIDEO_BREAK_POSITION,{type:h.IMPRESSION_EVENT}),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:b},U.VIDEO_PLAYER_STATE,{type:h.IMPRESSION_EVENT}))}if("start"===e.type&&(I.getAggregator().trigger(V.OMID_AD_DURATION,{ad_duration:c}),f.adDuration=c),"playerStateChange"===e.type?_="fullscreen"===e.data.state?"AdEnteredFullscreen":"AdExitedFullscreen":-1!==m.indexOf(e.type)?(_="AdPlaying",A=!0):-1!==D.indexOf(e.type)&&(_="AdPaused",A=!1),"audio"===f.creativeType&&""!==v){var P=(g=h.RENDER.WIDTH_THRESHOLD,l=h.RENDER.HEIGHT_THRESHOLD,(E={type:"geometryChange",timestamp:S,internallyGenerated:!0,treatAsCached:T,data:{viewport:{width:g,height:l},adView:{measuringElement:!1,percentageInView:100,geometry:{x:0,y:0,width:g,height:l,obstructions:[],reasons:[]},reasons:[]}}}).data.adView.onScreenGeometry=E.data.adView.containerGeometry=E.data.adView.onScreenContainerGeometry=E.data.adView.geometry,E);A&&0!==a&&0!==s||(P.data.adView.geometry.width=P.data.adView.geometry.height=0,P.data.adView.percentageInView=0),I.getAggregator().trigger(V.INTERNALLY_GENERATED_GEOMETRY_EVENT,P)}T&&"loaded"!==e.type&&(f.cachedVideoEventsReceived=!0,"start"===e.type&&(f.cachedStartEventIndex=f.cachedEvents.length),f.cachedEvents.push(e)),p.isDef(_)&&n.trigger(r,{eventType:_,eventData:null}),N&&I.getAggregator().trigger(V.SEND_DT,h.DT_CODES.VIDEO_EVENTS)}catch(e){__IntegralASDiagnosticCall("omidvideo",e,t.bootstrapper)}};return{start:function(){I.getAggregator().on(V.IMPRESSION_SENT,_),I.getAggregator().provide({omidVideoEventsString:D}),T=!0,"audio"===f.creativeType?m.addEventListener("media",v):m.addEventListener("video",v),T=!1,f.cachedVideoEventsChecked=!0,f.cachedVideoEventsReceived&&f.processCachedEvents(),g.init()},addVideoPlaybackEventListener:function(e){n.on(r,e)}}},jt=function(e,t){"use strict";var n="measurementChanged",r=!1,i=function(e){return e>=50},o=function(e){var o=e.percentageInView;r=!0,e.viewState=function(e){return i(e)?h.IN_VIEW:h.OUT_OF_VIEW}(o),e.outOfViewReason=i(o)?"":h.OUT_OF_VIEW_REASONS.GEOM,t.trigger(n,e)};return{start:function(){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:h.MEDIA_TYPE.DISPLAY_CODE},h.MEDIA_TYPE_CODE,{type:h.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(o),e.start()},getStrategyName:function(){return h.MEASUREMENT_STRATEGY.DISPLAY},addMeasurementChangedListener:function(e){t.on(n,e)},isMeasurable:function(){return r}}},qt=function(e,t,n){"use strict";var r=p.isDef(e)?e.environment:void 0,i=p.isDef(e)?e.measurementStrategy:void 0,o=function(){return p.isDef(i)};p.isDef(t)&&t.start();return{hasMeasurementStrategy:o,getScreenLocationInfo:function(e){return t.create(e)},isImmediate:function(){return!o()||r.isImmediate()},isMeasurable:function(){return!!o()&&i.isMeasurable()},isMediaType:function(e){return!!o()&&r.isMediaType(e)},supportsAdContainerGeometry:function(){return e.environment.supportsAdContainerGeometry()},start:function(){o()&&r.start()},requiresDelayedViewabilityEvent:function(){o()&&t.requiresDelayedViewabilityEvent()}}},Kt=function(e,t,n){"use strict";var r=I.getAggregator().request(F.MOBILE_APP);return{create:function(){var t=[];t=(t=t.concat(e.getOmidMeasurementStrategies())).concat(e.getMraidMeasurementStrategies());var n=new zt(t).resolve();n||I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"0"},U.OMID_APP_MEASUREMENT,{type:h.IMPRESSION_EVENT});var i=new Jt(n);return new qt(n,i,r.isMobileAppEnvironment())}}},Xt=function(t){"use strict";var n=I.getAggregator().request(F.MOBILE_APP);return{getOmidMeasurementStrategies:function(){var t=I.getAggregator().request(F.OMID_VERIFICATION_CLIENT),n=new Ct(t),r=[];if(n.accepts()){var i=new sn,o=new cn,s=new Vt,a=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),c=new on(t,new Y),u=[{environment:i,measurementStrategy:new an(t,new Y)},{environment:s,measurementStrategy:new un(new Un,xe.getWindow(),new Y)},{environment:o,measurementStrategy:new gn(new jn,xe.getWindow(),new Y)}],d=new zt(u).resolve(),g=d?d.measurementStrategy:{},f=new tn(new rn(new Er),new Er,a.isHtml),l=new yt(t,n,e.mode),E=new nn(c,g,new Y,f),p=new Mt(t,n,e.mode),m=new dn(c,g,new Yt(t,new Y),new Y,f);r.push({environment:l,measurementStrategy:E}),r.push({environment:p,measurementStrategy:m})}return r},getMraidMeasurementStrategies:function(){var e=[],t=n.isSafeToInjectMraid(),r=new fn(xe.getWindow(),t,n.isMobileAppEnvironment());if(r.accepts()){var i,o=I.getAggregator().request("context"),s=new $t(xe.getWindow(),o),a=new ln(xe.getWindow(),new Y);if(s.accepts()){var c=new Zt(xe.getWindow(),new Y);i={environment:s,measurementStrategy:new Qt(a,c,new Y)}}else{i={environment:r,measurementStrategy:new jt(a,new Y)}}e.push(i)}return e}}},zt=function(e){"use strict";return{resolve:function(){var t=p(e).findFirst((function(e,t){return t.environment.accepts()}));if(p.isDef(t))return t}}},Jt=function(e){"use strict";var t,n=!1,r={winDimensions:ve({scrX:0,scrY:0,width:0,height:0}),adDimensions:ve({scrX:0,scrY:0,width:0,height:0}),containerDimensions:ve({scrX:0,scrY:0,width:0,height:0}),method:h.NA,viewState:h.NA,percentInView:h.PIV_NA,reason:"",obstructed:h.NA,isHidden:h.NA,tabHidden:h.NA,posViewState:h.NA,adCompCount:1},i=function(e){return e?new ve({scrX:e.x,scrY:e.y,width:e.width,height:e.height}):ve({scrX:0,scrY:0,width:0,height:0})},o=function(e){t={winDimensions:i(e.windowDimensions),adDimensions:i(e.adDimensions),containerDimensions:i(e.containerDimensions),method:e.detectionMethod||h.NA,viewState:e.viewState||h.NA,percentInView:p.isDef(e.percentageInView)?e.percentageInView:h.PIV_NA,reason:e.outOfViewReason||"",obstructed:p.stringifyTriState(e.isObstructed),isHidden:h.NA,tabHidden:h.NA,posViewState:e.viewState||h.NA,adCompCount:1,shouldDelegateToDomBasedViewability:e.shouldDelegateToDomBasedViewability,sliceStatus:e.sliceStatus,isVideoPlaying:e.isVideoPlaying,isVideoPlayingInFullscreen:e.isVideoPlayingInFullscreen,isSoundOn:e.isSoundOn};var r=e.omidObstructions;p.isDef(r)&&""!==r&&(t.omidObstructions=r),e.isMeasurable&&(!0,n&&(n=!1,I.getAggregator().trigger(V.DELAYED_VIEWABILITY_READY)))};return{create:function(n){var i=r;return p.isDef(t)&&(e.environment.supportsAdContainerGeometry()?i=t:t.shouldDelegateToDomBasedViewability?(i=n).method=t.method:(0===t.percentInView||t.percentInView>=75)&&(i=t)),i},start:function(){var t;p.isDef(e)&&p.isDef(e.measurementStrategy)&&((t=e.measurementStrategy).addMeasurementChangedListener(o),t.start())},requiresDelayedViewabilityEvent:function(){n=!0}}},Qt=function(e,t,n){"use strict";var r,i,o,s,a="measurementChanged",c=!1,u=!1,d=!1,g=function(e){return e<50},f=function(){if(!p.isUndef(i)){var e,t,f=[];c?(u?(t=!1,e=100):(t=s,e=o),g(e)&&f.push(h.OUT_OF_VIEW_REASONS.GEOM)):(t=!1,e=0,f.push(h.OUT_OF_VIEW_REASONS.VIDEO)),d=!0,i.shouldDelegateToDomBasedViewability=t,i.percentageInView=e,i.viewState=function(e){return g(e)?h.OUT_OF_VIEW:h.IN_VIEW}(e),i.outOfViewReason=f.join("."),r=i,n.trigger(a,r)}},l=function(e){i=e,o=e.percentageInView,s=e.shouldDelegateToDomBasedViewability,f()},E=function(e){var t=e.eventType;"AdEnteredFullscreen"===t?u=!0:"AdExitedFullscreen"===t?u=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?c=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped".indexOf(t)&&(c=!1),f()};return{start:function(){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:h.MEDIA_TYPE.VIDEO_CODE},h.MEDIA_TYPE_CODE,{type:h.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(l),e.start(),t.addVideoPlaybackEventListener(E),t.start()},getStrategyName:function(){return h.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){n.on(a,e)},isMeasurable:function(){return d}}},$t=function(e,t){"use strict";return{accepts:function(){return t.isInMobiMraidVideo()},isImmediate:function(){return!1},supportsAdContainerGeometry:function(){return!1},start:function(){try{var t;e.inmobi.IASDocumentVideoBuffer.addVideoEventListener((function(e){"AdVideoStart"!==e.type||t||(t=!0,I.getAggregator().trigger(V.AD_IMPRESSION))}))}catch(e){}}}},Zt=function(e,t){"use strict";var n="inMobiMraidVideoPlaybackEvent",r=function(e){try{var r=e.type;t.trigger(n,{eventType:r})}catch(e){}};return{start:function(){try{e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(r)}catch(e){}},addVideoPlaybackEventListener:function(e){t.on(n,e)}}};const en=(e,t)=>{let n=[],r=0,i=0;if(e&&t&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.width&&"number"==typeof e.height){const o=e.x,s=e.x+e.width,a=e.y,c=e.y+e.height;for(;r<t.length;r++){const u=t[r];if(u&&"number"==typeof u.x&&"number"==typeof u.y&&"number"==typeof u.width&&"number"==typeof u.height){const t=u.x,r=u.x+u.width,d=u.y,g=u.y+u.height;if(t>=s||r<=o||d>=c||g<=a)continue;t<o&&(u.x=e.x,u.width=u.width-(o-t)),r>s&&(u.width=u.width-(r-s)),d<a&&(u.y=e.y,u.height=u.height-(a-d)),g>c&&(u.height=u.height-(g-c)),n[i]=u,i++}}}else t&&(n=t);return n};var tn=function(e,t,n){"use strict";var r=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},i=function(e,t,n){var i=r(t,e);return r(n,{x:0,y:0,width:i.width,height:i.height})},o=function(e,t){var n=Te.isOmidForWeb(),r=!Te.isOmidSandboxedEnvironment(),i=n&&r;return{x:i?t.x:e.x+t.x,y:i?t.y:e.y+t.y,width:t.width,height:t.height}},s=function(e,t){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}};function a(e,t,n){var r=s(t,n),o=i(e,t,r);return o.width*o.height}var c=function(e){return u(e)?h.IN_VIEW:h.OUT_OF_VIEW},u=function(e){return e>=50};return{calculateGeometricMeasurement:function(r,d){if(p.isDef(r)&&p.isDef(d)){var g,f,l=r.viewport,E=r.computedAdContainer,m=E.obstructions,I=r.omidObstructions,T=m&&m.length>0,A=r.originalAdContainer,D=d.adGeometry,_=d.adFound,v=r.detectionMethod,S=0,O={x:0,y:0,width:l.width,height:l.height},R=o(A,D),N=r.outOfViewReason,y=0,C=0,M=T||!1,w=D.width*D.height<=1;return n&&w&&(N=function(e,t){var n=e||"";return t||-1!==n.indexOf(h.OUT_OF_VIEW_REASONS.GEOM)||(n=h.OUT_OF_VIEW_REASONS.GEOM+(""!==n?"."+n:"")),n}(N,_=!1)),_&&r.percentageInView>0?(y=a(O,E,R),C=T?function(t,n,r,a){var c=s(n,r),u=i(t,n,c),d=o(n,u);return e.calculateObstructedArea(d,a)}(O,E,R,m):0,S=Math.round((y-C)/(R.width*R.height)*100),T&&0===C&&(M=!1),f=function(n,r,i,o){var s,c,u,d,g=0,f=t.getConfig(i).numberOfSlices,l=xe.floor(i.height/f)||1,E=[],p=o?e.getObstructionStatusBySlice(f):[];for(g=0;g<f;g++)d=i.y+l*g,g==f-1&&(l=i.y+i.height-d),c=a(n,r,s={x:i.x,y:d,width:i.width,height:l})/(s.width*s.height)==1,E.push(c);if(o)for(u=xe.min(p.length,f),g=0;g<u;g++)E[g]=E[g]&&!p[g];return E}(O,E,new ve(R).getRoundedGeometry(),M)):f=t.getConfig(D).defaultSliceArray,g={windowDimensions:O,containerDimensions:A,adDimensions:R,percentageInView:S,viewState:c(S),outOfViewReason:u(S)?"":N||h.OUT_OF_VIEW_REASONS.GEOM,detectionMethod:v,isObstructed:M,sliceStatus:f},p.isDef(I)&&""!==I&&(g.omidObstructions=I),g}}}},nn=function(e,t,n,r){"use strict";var i,o,s,a="geometryMeasurementChanged",c=function(){if(p.isDef(i)&&p.isDef(o)){var e=r.calculateGeometricMeasurement(i,o);e.isMeasurable=!0,s=!0,n.trigger(a,e)}},u=function(e){i=e,c()},d=function(e){o=e,c()};return{start:function(){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:h.MEDIA_TYPE.DISPLAY_CODE},h.MEDIA_TYPE_CODE,{type:h.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(u),e.start(),t.addAdGeometryMeasurementChangedListener(d),t.start()},addMeasurementChangedListener:function(e){n.on(a,e)},getStrategyName:function(){return h.MEASUREMENT_STRATEGY.DISPLAY},isMeasurable:function(){return s}}},rn=function(e){"use strict";var t,n=[],r=function(e,t){for(var n=o(e,t),r=n.x-e.x,i=n.y-e.y,s=r+n.width,a=i+n.height,c=Math.round(r);c<Math.round(s);c++)for(var u=Math.round(i);u<Math.round(a);u++)void 0!==e.matrix[c]&&void 0===e.matrix[c][u]&&(e.matrix[c][u]=1,e.obscuredPixelCount+=1);return e},i=function(e){for(var t=Math.round(e.width),n=Math.round(e.height),r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);return{matrix:r,obscuredPixelCount:0,x:Math.round(e.x),y:Math.round(e.y),width:t,height:n}},o=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},s=function(e,t,n){return e+(t-n)},a=function(e,t,n,r){return e==t||n===r-1},c=function(t){if(p.isUndef(t.matrix)||0===t.matrix.length)return[];for(var n=0,r=!1,i=t.matrix[0].length,o=t.matrix.length,c=e.getConfig({height:i}).numberOfSlices,u=xe.floor(i/c)||1,d=[],g=0;g<i;g++){r=!1;for(var f=0;f<o;f++)if(1===t.matrix[f][g]){r=!0;break}n++,r&&(g=s(g,u,n),n=u),a(n,u,g,i)&&(d.push(r),n=0,r=!1)}return d};return{calculateObstructedArea:function(e,o){var s,a=o&&o.length>0,u=a?i(e):{},d=0,g=0;if(a){for(;d<o.length;d++)s=o[d],u=r(u,s);g=u.obscuredPixelCount,t=c(u)}else t=n;return g},getObstructionStatusBySlice:function(){return t}}},on=function(t,n){"use strict";var r=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT);r.geometryChangeEvents=[];var i=null,o=!1,s=xe.getWindow(),a=s&&s.omid3p,c=!!(a&&p.isFunction(a.registerSessionObserver)&&p.isFunction(a.addEventListener))?a:t,d=new Ar,g=!1,f=!1,l=function(){var t=xe.getDoc().getElementById("iasbi"+e.asid);t&&t.hasAttribute("CreativeLoaded")?(r.delayingViewabilityEvents=!1,o=!1,i&&(E(i),i=null)):xe.setTimeout(l,50)},E=function(e){if(e&&"geometryChange"===e.type&&e.data&&e.data.adView){var t=e.data.adView;if(t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(t.onScreenGeometry.obstructions=en(t.geometry,t.onScreenGeometry.obstructions),0===t.onScreenGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),t.onScreenContainerGeometry&&t.onScreenContainerGeometry.obstructions&&t.onScreenContainerGeometry.obstructions.length>0&&(t.onScreenContainerGeometry.obstructions=en(t.geometry,t.onScreenContainerGeometry.obstructions),0===t.onScreenContainerGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),"audio"!==r.creativeType||e.internallyGenerated){var s=g||e.treatAsCached;s&&(r.cachedGeometryEventsReceived||(r.cachedFirstGeometricIndex=r.cachedEvents.length),r.cachedGeometryEventsReceived=!0,r.cachedEvents.push(e));var a=!!(t.measuringElement&&t.containerGeometry&&t.onScreenContainerGeometry),c=r.cachedStartEventIndex;if(!s&&r.unrecoveredPlayTime&&c>-1&&t.percentageInView>=50&&"audio"!==r.creativeType){var f=xe.now()-r.cachedEvents[c].timestamp,E=I.getAggregator().request(F.SCREEN_EVENTS);E&&E.setRecoveredTimeInSlTimes&&E.setRecoveredTimeInSlTimes(f)}if(r.geometryChangeEvents.length<10&&(r.geometryChangeEvents.push(e.timestamp-u.measurementConfig.birthdate+"."+t.percentageInView),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:r.geometryChangeEvents.join("_")},U.GEOMETRY_EVENTS_RECEIVED)),r.delayingViewabilityEvents)i=e,o||(o=!0,l());else{var T=[];t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(!a||t.onScreenContainerGeometry.obstructions&&0!==t.onScreenContainerGeometry.obstructions.length||(t.onScreenContainerGeometry.obstructions=t.onScreenGeometry.obstructions),t.reasons&&t.reasons.indexOf("obstructed")>-1&&t.percentageInView<100&&(t.onScreenGeometry.obstructions=t.onScreenGeometry.obstructions.slice(0,4),p(t.onScreenGeometry.obstructions).each((function(e,t){T.push(Math.round(t.x)+"."+Math.round(t.y)+"."+Math.round(t.width)+"."+Math.round(t.height))}))));var A=Te.isOmidForWeb()?Se.calcWinDims():{width:0,height:0},D=new ve(e.data.viewport||A),_=new ve(a?t.containerGeometry:t.geometry||{x:0,y:0,width:0,height:0}),v=new ve(a?t.onScreenContainerGeometry:t.onScreenGeometry||{x:0,y:0,width:0,height:0}),S={viewport:D.getRoundedGeometry(),originalAdContainer:_.getRoundedGeometry(),computedAdContainer:v.getRoundedGeometry(),percentageInView:t.percentageInView,detectionMethod:h.DETECTION_METHODS.OMID,outOfViewReason:m(t.reasons),omidObstructions:T.join("_")};void 0===r.geometryArrived&&d.checkForViewAttachmentBasedOnAdSessionType(r,e.data.adView)&&(r.geometryArrived=!0,I.getAggregator().trigger("omidrendgeoupdate")),n.trigger(h.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,S)}}}},m=function(e){var t={inactive:h.OUT_OF_VIEW_REASONS.FOCUS,viewport:h.OUT_OF_VIEW_REASONS.GEOM,clipped:h.OUT_OF_VIEW_REASONS.GEOM,obstructed:h.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:h.OUT_OF_VIEW_REASONS.FOCUS,notFound:h.OUT_OF_VIEW_REASONS.HIDDEN,hidden:h.OUT_OF_VIEW_REASONS.HIDDEN,noWindowFocus:h.OUT_OF_VIEW_REASONS.WINDOW},n=[];return e?(p(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};r.processCachedEvents=function(){if(!f){var e="video"===r.mediaType,t=r.supports&&r.supports.join().indexOf("clid")>-1,n="limited"===r.accessMode,i="full"===r.accessMode,o=n||i&&t,s=!e||r.cachedVideoEventsChecked,a=r.cachedGeometryEventsChecked;if(o&&a&&s&&r.cachedEvents.length>0){var c="o",u="o",d=0,g=0,l=0,E=!e,p=!1,m=xe.now();if(e){var h=r.cachedStartEventIndex,T=r.cachedFirstGeometricIndex,A=r.cachedEvents[T],D=r.cachedEvents[h];A&&D&&A.timestamp>D.timestamp&&(A.timestamp=D.timestamp)}for(var _=0;_<r.cachedEvents.length;_++){for(var v=m,S=-1,O=0;O<r.cachedEvents.length;O++)!r.cachedEvents[O].alreadyOrdered&&r.cachedEvents[O].timestamp<v&&(v=r.cachedEvents[O].timestamp,S=O);if(-1!==S){var R=r.cachedEvents[S];R.alreadyOrdered=!0,"geometryChange"===R.type&&R.data&&R.data.adView?(d=R.data.adView.percentageInView,p=!0):E="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish".indexOf(R.type)>-1,u=d&&d>=50&&E?"i":"o","o"===c&&"i"===u?g=R.timestamp:"i"===c&&"o"===u?l+=R.timestamp-g:"i"===c&&"i"===u&&(l+=R.timestamp-g,g=R.timestamp),c=u}}if(f=!0,"i"===c?l+=m-g:e&&!p&&r.cachedStartEventIndex>-1&&(r.unrecoveredPlayTime=!0),l>0){"audio"===r.creativeType&&(l=Math.min(l,m-A.timestamp)),r.recoveredTime=l;var N=I.getAggregator().request(F.SCREEN_EVENTS);N&&N.setRecoveredTimeInSlTimes&&(N.setRecoveredTimeInSlTimes(l),r.recoveredTime=-1)}}}};return{start:function(){g=!0,void 0!==r.impressionViewabilityMeasurement&&E(r.impressionViewabilityMeasurement),c.addEventListener("geometryChange",E),g=!1,r.cachedGeometryEventsChecked=!0,r.cachedGeometryEventsReceived&&r.processCachedEvents(),I.getAggregator().on(V.INTERNALLY_GENERATED_GEOMETRY_EVENT,E)},addAdContainerGeometryMeasurementChangedListener:function(e){n.on(h.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateOmidOutOfViewReasons:m}},sn=function(){"use strict";var e=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT);return{accepts:function(){return e&&(e.isNative||e.isLimitedSandbox)}}},an=function(t,n){"use strict";var r=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),i=null,o=!1,s=xe.getWindow(),a=s&&s.omid3p,c=!!(a&&p.isFunction(a.registerSessionObserver)&&p.isFunction(a.addEventListener))?a:t,u=new Ar,d=function(){var t=xe.getDoc().getElementById("iasbi"+e.asid);t&&t.hasAttribute("CreativeLoaded")?(r.delayingViewabilityEvents=!1,o=!1,i&&(g(i),i=null)):xe.setTimeout(d,50)},g=function(e){if(e&&"geometryChange"===e.type&&e.data&&e.data.adView&&("audio"!==r.creativeType||e.internallyGenerated)){var t=e.data.adView;if(t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(t.onScreenGeometry.obstructions=en(t.geometry,t.onScreenGeometry.obstructions),0===t.onScreenGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),t.onScreenContainerGeometry&&t.onScreenContainerGeometry.obstructions&&t.onScreenContainerGeometry.obstructions.length>0&&(t.onScreenContainerGeometry.obstructions=en(t.geometry,t.onScreenContainerGeometry.obstructions),0===t.onScreenContainerGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),r.delayingViewabilityEvents)i=e,o||(o=!0,d());else{var s=e.data.adView.geometry,a=e.data.adView.containerGeometry,c=!!s,g=e.data.adView.measuringElement&&!!a,f=new ve({x:c&&g?s.x-a.x:0,y:c&&g?s.y-a.y:0,width:c?s.width:0,height:c?s.height:0}).getRoundedGeometry();f,void 0===r.geometryArrived&&u.checkForViewAttachmentBasedOnAdSessionType(r,e.data.adView)&&(r.geometryArrived=!0,I.getAggregator().trigger("omidrendgeoupdate")),n.trigger(h.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:f,adFound:c})}}};return{start:function(){void 0!==r.impressionViewabilityMeasurement&&g(r.impressionViewabilityMeasurement),c.addEventListener("geometryChange",g),I.getAggregator().on(V.INTERNALLY_GENERATED_GEOMETRY_EVENT,g)},addAdGeometryMeasurementChangedListener:function(e){n.on(h.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},cn=function(){"use strict";var e=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT);return{accepts:function(){return e&&!e.isNative}}},un=function(e,t,n){"use strict";var r;var i=function(){var t,i,o,s=e.find(),a=!1;p.isDef(s)&&null!==s?(o=!0,t={x:(i=s.getBoundingClientRect()).x||i.left,y:i.y||i.top,width:i.width,height:i.height},s.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(a=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!p.isDef(r)||!1!==p(e).compareTo(r)}(t)||a)&&(r=t,n.trigger(h.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(h.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},dn=function(e,t,n,r,i){"use strict";var o,s,a,c,u,d="videoGeometryMeasurementChanged",g=!1,f=!1,l=function(){if(!(p.isUndef(s)||p.isUndef(a)||p.isUndef(c))){u=!0;var e=i.calculateGeometricMeasurement(s,a),t=g&&f,n=g&&e.percentageInView>=50,l={windowDimensions:e.windowDimensions,containerDimensions:e.containerDimensions,adDimensions:e.adDimensions,percentageInView:e.percentageInView,detectionMethod:e.detectionMethod,isMeasurable:!0,isObstructed:e.isObstructed,sliceStatus:e.sliceStatus,isVideoPlaying:g,isVideoPlayingInFullscreen:t,isSoundOn:!0},E=e.omidObstructions;p.isDef(E)&&""!==E&&(l.omidObstructions=E),t&&(l.percentageInView=100),t||n?l.viewState=h.IN_VIEW:(l.viewState=h.OUT_OF_VIEW,l.outOfViewReason=e.outOfViewReason||h.OUT_OF_VIEW_REASONS.VIDEO),o=l,r.trigger(d,o)}},E=function(e){s=e,l()},m=function(e){a=e,l()},T=function(e){c=e;var t=e.eventType;"AdEnteredFullscreen"===t?f=!0:"AdExitedFullscreen"===t?f=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?g=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped|AdError".indexOf(t)&&(g=!1),l()};return{start:function(){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:h.MEDIA_TYPE.VIDEO_CODE},h.MEDIA_TYPE_CODE,{type:h.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(E),e.start(),t.addAdGeometryMeasurementChangedListener(m),t.start(),n.addVideoPlaybackEventListener(T),n.start()},getStrategyName:function(){return h.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){r.on(d,e)},isMeasurable:function(){return u}}},gn=function(e,t,n){"use strict";var r;var i=function(){var t,i,o,s=e.find(),a=!1;p.isDef(s)?(o=!0,t={x:(i=s.getBoundingClientRect()).left,y:i.top,width:i.width,height:i.height},s.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(a=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!p.isDef(r)||!1!==p(e).compareTo(r)}(t)||a)&&(r=t,n.trigger(h.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(h.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},fn=function(e,t,n){"use strict";return{accepts:function(){var r=p(e.mraid).isObj();return n&&(r||t)},isImmediate:function(){return!0},supportsAdContainerGeometry:function(){return!1},start:function(){}}},ln=function(e,t){"use strict";var n="mraidScreenLocationChanged",r="mraid.js",i=!1,o=function(){var r,i,o;try{r=e.mraid.isViewable()?100:0;var s={x:0,y:0,width:0,height:0};o=100===r?[!0]:[!1],i={windowDimensions:s,adDimensions:s,containerDimensions:s,shouldDelegateToDomBasedViewability:!1,isMeasurable:!0,isObstructed:!1,isHidden:!1,percentageInView:r,detectionMethod:h.DETECTION_METHODS.MRAID,sliceStatus:o},t.trigger(n,i)}catch(e){}},s=function(){var t=e.mraid;!0,o(),t.addEventListener("viewableChange",o)},a=function(){var t=e.mraid;(function(){var t=e.mraid;return p(t).isObj()&&p.isFunction(t.isViewable)})()&&(i=!0,"loading"===t.getState()?t.addEventListener("ready",(function(){s()})):s())},c=function(){i||a()};return{start:function(){var t;t=!0,(p.isDef(e.mraid)||Se.containsScriptTagWithSrc(r))&&(t=!1),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:p.stringifyTriState(t)},U.MRAID_INJECTION_STATUS,{type:h.IMPRESSION_EVENT}),t?I.getAggregator().trigger(V.EXEC,r,c):a()},addScreenLocationChangedListener:function(e){t.on(n,e)}}},En=function(e,t,n){"use strict";var r={};return n&&p(n).map((function(n,i){var o,s;r[n]=(o=i,s=p.noop,t.bootstrapOn("useViewabilityNotification")&&(s=function(){e.skipAsFraudulent()||I.getAggregator().trigger(V.NOTIFY,o)}),s)})),{getCallbacks:function(){return r}}},pn=function(){"use strict";var t=new Dn({tiv:[1e4]}),n=p([h.IN_VIEW,h.PARTIAL_VIEW_PLUS]);return{timeInViewThresholds:t,type:h.DT_CODES.FULLY_INVIEW,rts:{},isInView:function(e){var t=xe.max(e.fullPercentInView||0,e.percentInView);return n.contains(e.viewState)&&100===t},applies:function(t,n){return t.on("abcAudit")&&925955==e.anId&&n.usesIASFullyInViewCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},mn=function(t,n){"use strict";var r,i,o,s=t.on("everySecond"),a=n.isVideo(),c=[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3],u=[1e3,5e3,15e3,3e4,45e3,6e4,9e4],d=[2e3,5e3,15e3],g=function(e,t){var n=t?"viewStateIgnoringRender":"viewState";return-1!==(h.IN_VIEW+"|"+h.PARTIAL_VIEW_PLUS).indexOf(e[n])};return s?(r=new Dn({tiv:c}),i=c[0]):a?(r=new Dn({tiv:d}),i=d[0]):(r=new Dn({tiv:u}),i=u[0]),(o={5e3:e._onInViewMRC5,15e3:e._onInViewMRC15})[i]=e._onInViewMRC,{timeInViewThresholds:r,type:h.DT_CODES.PING,rts:o,isInView:g,isInViewIgnoringRender:function(e){return g(e,!0)},applies:!0,minUnit:1e3,shouldIncludeSound:!1,sendOtherwiseInViewSignal:!0}},In=function(e,t){"use strict";var n,r=e.on("everySecond"),i=t.isVideo(),o=t.usesIASFullyInViewCustomMetric(),s=function(e){var t=xe.max(e.fullPercentInView||0,e.percentInView);return-1!==(h.IN_VIEW+"|"+h.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t};return n=new Dn(r?{tiv:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3]}:i?{tiv:[2e3,5e3,15e3]}:{tiv:[1e3,5e3,15e3]}),I.getAggregator().provide("isFullyInViewProvider",{isFullyInView:s}),{timeInViewThresholds:n,type:h.DT_CODES.FULLY_INVIEW,isInView:s,applies:function(){return o},minUnit:1e3,shouldIncludeSound:!1}},hn=function(t,n){"use strict";return{timeInViewThresholds:new Dn({tiv:[0]}),type:h.DT_CODES.FULLY_INVIEW,rts:{0:e._onInViewFull},isInView:function(e){var t=xe.max(e.fullPercentInView||0,e.percentInView);return-1!==(h.IN_VIEW+"|"+h.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t},applies:function(){return n.usesGroupMCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Tn=function(t,n){"use strict";var r,i,o,s,a,c,u=xe.getMaxNumber(),d=n.isVideo(),g=t.id,f=t.sound&&"on"===t.sound,l=!(t.soundExcl&&"groupm_native"===t.soundExcl&&e.groupm_native_publisher)&&f,E=function(e,n){if(!e.adDimensions)return!1;var r,i,o,s,a=n?"percentInViewIgnoringRender":"percentInView",c=e.adDimensions.area(),g=1===e.tabHidden,f=xe.max(e.fullPercentInView||0,e[a]);return r=p(t.thresholds).findFirst((function(e,t){if(i=t.lb||0,o=t.ub||u,c>=i&&c<=o)return!0})),s=!g&&f>=r.piv,function(e){return e.method==h.DETECTION_METHODS.AD_PLACEHOLDER}(e)&&function(e){return 0===e.tiv}(t)&&(s=!1),d&&(s=s&&e.isVideoPlaying,l&&(s=s&&e.isSoundOn)),s};return r=new Dn(t),i=t.qiv,o={},p.isDef(e.rts)&&p.isDef(e.rts[g])&&(a=r&&p.isFunction(r.getTimeThresholds)&&r.getTimeThresholds()[0],c=p.isDef(a)?p.isFunction(a.getTimeInViewForRts)&&a.getTimeInViewForRts():h.RTS_KEY_FOR_VQ,o[c]=e.rts[g]),s=t.minunit?1e3*t.minunit:1e3,{timeInViewThresholds:r,qivThreshold:i,type:h.DT_CODES.CUSTOM,rts:o,isInView:E,isInViewIgnoringRender:function(e){return E(e,!0)},metricId:g,minUnit:s,thresholdType:t.thresholdType,shouldIncludeSound:l,sendOtherwiseInViewSignal:!0}},An=function(e,t,n){"use strict";var r="groupmCM",i=t.isVideo()?"video":"display",o=t.isMobileApp()?"app":"web",s=t.isDeviceTypeGroupMobile()?"mobile":"desktop",a=p(e.customViewability).isArray()&&e.customViewability.length>0,c=n.on("customMetric"),u=n.on(r),d=function(e,t){var n,a,c,d;return n=p(t.mediaTypes).contains(i),a=p(t.distributionChannels).contains(o),c=!p.isDef(t.deviceGroups)||p(t.deviceGroups).contains(s),d=!Ke.contains(t.id,"fiv"),Ke.contains(t.id,r)&&(d=u),d&&n&&a&&c};return{resolve:function(){var t,n=[];return c&&a&&(t=p(e.customViewability).filter(d),p(t).each((function(e,t){n.push(t)}))),n}}},Dn=function(e){"use strict";var t=[];if(p(e.tiv).isArray())p(e.tiv).each((function(e,n){t.push(new vn(n))}));else if("string"==typeof e.tiv){var n=e.tiv.split("|"),r=new _n;t.push(new Sn(r,parseInt(n[1].replace("%")))),t.push(new vn(1e3*parseInt(n[0])))}else p.isDef(e.tiv)&&t.push(new vn(1e3*e.tiv));return{getTimeThresholds:function(){return t}}},_n=function(){"use strict";var e=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT).adDuration||-1,t=function(t){if(!n()){var r=p.isDef(t.ad_duration)?t.ad_duration:t.adRemainingTime;(function(e){return void 0!==e&&e>0})(r)&&(e=Math.ceil(r))}},n=function(){return e>0};return I.getAggregator().on({omidAdDuration:t,adVideoStart:t,adDurationChange:t}),{getAdDuration:function(){return e},isVideoDurationResolved:n}},vn=function(e){"use strict";var t,n=0;return e>0&&(n=e/1e3),t=1e3*n,{getTimeInViewInSeconds:function(){return n},getTimeInViewForRts:function(){return t}}},Sn=function(e,t){"use strict";var n=0,r=!1,i=function(e){n=0,t>0&&e>0&&(n=xe.ceil(e*(t/100)))};return i(15),{getTimeInViewInSeconds:function(){return!r&&e.isVideoDurationResolved()&&(r=!0,i(e.getAdDuration())),n},getTimeInViewForRts:function(){return 0}}},On=function(e,t,n,r){"use strict";var i=r?"isInViewIgnoringRender":"isInView",o=function(r){e[i](r)?(t.mark(),n.doEligibleJobs(t.getTotalTime())):t.stop()};return{start:function(){e.addMeasurementChangedListener(o)}}},Rn=function(e,t,n,r){"use strict";var i,o,s,a,c,u,d=function(e,t){return!t&&e},g=function(e,t,n,r){return!!r||!t&&(e||r)&&n},f=function(e){var d,f=0,E=1===e.tabHidden,m=e.isVideoPlaying,I=e.isSoundOn,h=e.isVideoPlayingInFullscreen;p(e.sliceStatus).each((function(e,t){s(t,E,m,h)?i[e].mark():i[e].stop(),a[e]=i[e].getTotalTime()})),l("slcVt",a),r&&(p(e.sliceStatus).each((function(e,t){!function(e,t,n,r,i){return g(e,t,n,r)&&i}(t,E,m,h,I)?o[e].stop():o[e].mark(),c[e]=o[e].getTotalTime()})),l("slcVtVol",c)),u=r&&t&&t.shouldIncludeSound?c:a,d=p(u).findFirst((function(e,t){return f=Math.max(f,t),t<=0})),p.isUndef(d)&&n.doEligibleJobs(f)},l=function(e,t){var n={};n[e]=t,I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:n},{minDt:!1})},E=function(e){p.isUndef(e.sliceStatus)||(i||function(e){!i&&e.sliceStatus&&(i=[],o=[],a=[],c=[],p(e.sliceStatus).each((function(e){i.push(new ie(1)),a.push(0),r&&(o.push(new ie(1)),c.push(0))})))}(e),f(e))};return{start:function(){s=r?g:d,e.addMeasurementChangedListener(E)}}},Nn=function(e,t,n){"use strict";return{isInView:e.isInView,isInViewIgnoringRender:e.isInViewIgnoringRender,addMeasurementChangedListener:function(e){t.addMeasurementChangedListener(e,n)}}},yn=function(e,t,n,r,i,o,s,a,c,u){"use strict";var d="measurementChanged",g=!1,f=Te.isVideo(),l=o.request(F.MOBILE_APP),E=B().applies(n,i),p=n.browserIs(h.BROWSERS.GECKO)||E,m=Te.xDomainIframe&&!p,I=new ne(10),T=function(){i.on("viewabilityready")&&!g&&(r.send(h.DT_CODES.VIEWABILITY_READY),o.trigger(V.MEASURABLE),g=!0)};o.on(V.DELAYED_VIEWABILITY_READY,(function(){A(),T()})),o.on(V.DELAYED_VIEWABILITY_READY_CALL_ONLY,T);var A=function(n){n=n||!1;try{var r,i;I.start(),t.hasMeasurementStrategy()?i=(l.isMobileAppEnvironment()||Te.isOmidNative())&&t.supportsAdContainerGeometry()?t.getScreenLocationInfo({},n):t.getScreenLocationInfo(a.collect(),n):(i=a.collect(),l.isMobileAppEnvironment()?(i.viewState=h.NA,i.method=h.NA,i.percentInView=h.NA):m&&(i.viewState=h.NA,i.percentInView=h.PIV_NA),f&&u.setVideoSpecificScreenEventFields(i)),r=c.registerLocation(i),n||e.trigger(d,i),I.stop();var g=xe.round(I.getTime()/I.getCount());return s.addItem({output:g},"lt",{type:h.DT_CODES.UNLOAD}),r}catch(e){o.trigger(V.ERROR,h.ERROR_CODES.CHECK_SCREEN_LOC)}};return{checkScreenLoc:A,stringifyPingTimes:function(){return i.on("everySecond")?"1-2-3-4-5-6-7-8-9-10-11-12-13-14-15":f?"2-5-15":"1-5-15"},isImmediatelyMeasurable:function(){var e=Te.xDomainIframe,r=e&&n.browserIs(h.BROWSERS.WEBKIT),i=e&&n.browserIs(h.BROWSERS.MSEDGE),o=!r&&!i&&!(e&&E);return l.isMobileAppEnvironment()?t.isMeasurable():o},requiresDelayedViewabilityEvent:function(){l.isMobileAppEnvironment()&&t.hasMeasurementStrategy()&&t.requiresDelayedViewabilityEvent()},addMeasurementChangedListener:function(t){e.on(d,t)}}},Cn={name:"viewabilityLoopLifecycle",dependencies:[F.VIEWABILITY,F.FEATURES,F.CONTEXT,F.BROWSER],creator:function(n,r,i,o){"use strict";var s,a=Mn(i),c=[new bn,new wn(a)],u=function(e){"sessionFinish"===e.type&&(I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:Te.getTagTime()},U.OMID_SESSION_FINISH),I.getAggregator().trigger(V.AD_SESSION_COMPLETE))},d=function(){var e,t=I.getAggregator().request(F.MOBILE_APP).isMobileAppEnvironment();I.getAggregator().request(F.IDS).impressionIsIdentifiable()&&(s=function(e,t){var n,r=t,i=function(t){n||(t&&e(),n=xe.setInterval(e,r))},o=function(t){n&&(t&&e(),xe.clearInterval(n),n=null)};return{start:i,stop:o,updateFrequency:function(e,t){r=e,n&&(o(),i(t))}}}(n.checkScreenLoc,a.getPollingFrequency()),(e=p(c).findFirst((function(e,t){return t.applies(o,r,i)?t:void 0})))?e.start(s):s.start(!0),Te.isOmid()?I.getAggregator().request(F.OMID_VERIFICATION_CLIENT).registerSessionObserver(u,"IAS"):g(t?"MOBILE_APP_TEST_EVENT_AD_SESSION_COMPLETE":"beforeunload"))},g=function(e){Ae.addEvent(t,e,(function(){I.getAggregator().trigger(V.AD_SESSION_COMPLETE)}),!1)},f=function(){i.isVideo()&&!i.isOmid()&&l(),I.getAggregator().trigger(V.UNLOAD),s&&s.stop(),I.getAggregator().trigger(V.END_AD_SESSION),I.getAggregator().trigger(V.STOP_AD_TALK)},l=function(){var t=new De(h.DT_CODES.VIDEO_EVENTS);I.getAggregator().trigger(V.SEND_DT,t.callType,t.enumerator,(function(){var t={id:e.videoId,msg:"unloadComplete",messageType:"misc"};xe.getWindow().postMessage(JSON.stringify(t),"*")}))};I.getAggregator().once(V.START_VIEWABILITY_LOOP,d),I.getAggregator().once(V.AD_SESSION_COMPLETE,f)},settings:{tier:h.TIERS.VIEWABILITY}},Mn=function(e){"use strict";return{getPollingFrequency:function(){return e.isVideo()?200:100},getOptimizedPollingFrequency:function(){return 1e3}}},wn=function(e){"use strict";var t,n,r,i,o,s=!0,a=function(c){if(r&&!o&&c<1)return o=!0,void xe.setTimeout((function(){a(c)}),1e3);i=c<1,!n&&i?(n=!0,t.updateFrequency(e.getOptimizedPollingFrequency(),s)):n&&!i&&(n=!1,t.updateFrequency(e.getPollingFrequency(),s))},c=function(e){a(e.percentInView)};return{applies:function(e,t,n){var i=t.on("viewabilityOptimization");return r=n.usesZeroPivCustomMetric(),i},start:function(e){(t=e).start(s),I.getAggregator().on(V.IO_PIV_CHANGE,a),I.getAggregator().on(V.NEW_SCREEN_EVENT,c)}}},bn=function(){"use strict";var e,t,n,r=!0,i=!1,o=function(s){return n&&!i&&s<1?(i=!0,void xe.setTimeout((function(){o(s)}),1e3)):(s<1?(e||t.stop(r),e=!0):e&&(e=!1,t.start(r)),e)},s=function(){t.start(r)};return{applies:function(e,t,r){n=r.usesZeroPivCustomMetric();var i=B();return t.on("viewabilityOptimization")&&i.applies(e,t,r)&&r.isDeviceTypeGroupMobile()},start:function(e){(t=e).start(r),I.getAggregator().on(V.IO_PIV_CHANGE,o),I.getAggregator().on(V.NODES_ADDED,s)}}},Pn=function(r,i,o,s,a,c){"use strict";var u,d,g,f,l,E,m,T,A,D,_=Se.getElementsWindow(i),v=(Se.getElementsDocument(i),I.getAggregator().provide(F.IFRAME_CALCULATOR_HELPER,nr(_)),Qn(i,s)),S=h.AD_IDENTIFIER+"-"+e.asid,O=!1,R=ve({}),N=Te.isDeviceTypeGroupMobile(),y=Te.usesGroupMCustomMetricMobilePassThru(),C=function(){return u||(u=v.calcDims(i,s,g),e.autotagSizeSet&&e.adWidth>1&&e.adHeight>1&&(u.set("width",e.adWidth),u.set("height",e.adHeight)),M()?w(u):o===h.DETECTION_METHODS.AD_PLACEHOLDER&&u.treatAsPlaceholder()),u},M=function(){return o===h.DETECTION_METHODS.VIDEO&&Te.embedded},w=function(e){var t=new ve(i).getRounded();try{e.set("width",t.width),e.set("height",t.height)}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.VIDEO_IN_IFRAME_DIMS_CALC)}},b=function(){return!1},P=function(){var e,n=x(),i=v.getClippedDims&&(M()||Te.isCeltra());return n?d=g.getPiv():p.isUndef(d)&&(e=!N&&(Te.friendly||p.isDef(t.mozInnerScreenX))&&a.on("offscreen"),T=C(),m=new ve(Se.calcWinDims()),E=new ve(e?Se.calcMonDims():{}),A=i?v.getClippedDims():R,d=r.calcPercentInView(T,m,E,A)),d},L=function(){return r.calcInitialViewState(P())},U=function(){return i!==t&&C().isHidden()},x=function(){var e=Te.xDomainIframe&&O,t=N&&O&&g.isReady();return e||t};return function(){var e=xe.getWindow(),t=xe.getDoc(),n=i===e,s=t.body,a=I.getAggregator(),c=new B,u=a.request(F.BROWSER),d=a.request(F.FEATURES),E=a.request(F.CONTEXT),p=!Te.xDomainIframe,m=n&&s?t.body:i;if(D=Te.friendlyIframe?e.frameElement:m,Ae.addEvent(m,"click",(function(e){I.getAggregator().trigger(V.AD_COMPONENT_CLICKED,e)})),Ae.addEvent(window,"blur",(function(e){I.getAggregator().trigger(V.BLUR,e)})),Ae.addEvent(m,"touchend",(function(e){I.getAggregator().trigger(V.AD_COMPONENT_TOUCHED,e)})),Ae.addEvent(m,"mouseover",(function(e){I.getAggregator().trigger(V.AD_COMPONENT_MOUSED_OVER,e)})),Ae.addEvent(m,"mouseout",(function(e){I.getAggregator().trigger(V.AD_COMPONENT_MOUSED_OUT,e)})),c.applies(u,d,E)){if((g=At(i,p)).start(),O=!0,y&&o!==h.DETECTION_METHODS.AD_PLACEHOLDER){var T=new lr(C().getRounded()),A=new hr,_=new Tr(g.getObservedNode(),A);f=new pr(T.getSlices(),_)}}else y&&(l=new mr(r))}(),{mark:function(){Se.setAttributeOf(D,S,"")},cleanup:function(){Se.removeAttributeOf(D,S)},isNode:function(e){return i===e},isHidden:U,isObstructed:b,getDims:C,getPercentInView:P,getLocationState:L,getOnPageViewability:function(){return U()?h.OUT_OF_VIEW:L()},getDetectionMethod:function(){return o},getContainerDims:function(){return v.allowsOptimization?u:ve(s)},refresh:function(){u=void 0,d=void 0,E=void 0,m=void 0,T=void 0,A=void 0,c&&function(){var e,r;if(!Te.isDomless()&&(r=i.parentNode)){for(;i!==t&&r&&r!==n&&!e;)e=r===s,r=r.parentNode;e||(s=i.parentNode)}}()},getAdNode:function(){return i},getSliceStatus:function(){var e;return f&&f.isReadyToMeasure()?e=f.getSliceStatus():Te.friendly&&l&&p.isDef(T)&&(e=l.getSliceStatus(T,m,E,A)),e}}},Vn=function(e,t){"use strict";var n,r=[],i=p([]),o=function(){return r[0]&&r[0].getDetectionMethod()===h.DETECTION_METHODS.AD_PLACEHOLDER},s=function(s,a,c,u){var d,g=o()||0===r.length,f=Pn(e,s,a,c,t,u);o()&&(d=r.shift(),i=p(r),d.cleanup(),n=void 0),r.push(f),i=p(r),g&&f.mark(),g&&a!==h.DETECTION_METHODS.AD_PLACEHOLDER&&I.getAggregator().trigger(V.PRIMARY_AD_FOUND,f)},a=function(){if(n)return n;var e,t=!1,r=0,o=0;return i.each((function(n,i){var s,a=i.getDims();a.hasValidDims()&&(e=i.getPercentInView(),t=e!==h.NA,s=a.area(),r+=s,o+=e/100*s)})),n={totalArea:r,totalInView:o,hasMeasurement:t}},c=function(e){var t=I.getAggregator().request(F.AD_RENDER_STATUS);return!e&&!t},u=function(e){var t,n=a();return t=n.hasMeasurement?xe.round(n.totalInView/n.totalArea*100):h.PIV_NA,(isNaN(t)||c(e))&&(t=0),t},d=function(n){var r=t.bootstrapOn(U.MOB_OR_TAB),i=a().totalArea>=h.MRC_LARGE_AD_SIZE&&t.on("largeAd")&&!r&&!Te.isVideo();return e.calcInitialViewState(u(n),i)},g=function(e){var t=-1;return i.each((function(n,r){r.isNode(e)&&(t=n)})),t},f=function(e){return function(){return r[0]&&r[0][e]()}};return I.getAggregator().on(V.AD_COMPONENT_ADDED,(function(e){p(e).each((function(e,t){-1===g(t)&&s(t,h.DETECTION_METHODS.MUTATION)}))})),I.getAggregator().on(V.AD_COMPONENT_REMOVED,(function(e){p(e).each((function(e,t){var n=g(t);n>-1&&r.splice(n,1)}))})),{getDims:f("getDims"),isObstructed:f("isObstructed"),getDetectionMethod:f("getDetectionMethod"),getContainerDims:f("getContainerDims"),getViewState:d,getViewStateIgnoringRender:function(){return d(!0)},getPercentInView:u,getPercentInViewIgnoringRender:function(){return u(!0)},isHidden:f("isHidden"),isUsingPlaceholder:o,hasAd:function(){return!!r.length},refresh:function(){n=void 0,i.each((function(e,t){t.refresh()}))},addAdComponent:s,clearCollection:function(){i.each((function(e,t){t.cleanup()})),r=[],i=p([]),n=void 0},getOutOfViewReasons:function(e){var t,i=[],o=r[0],s=h.OUT_OF_VIEW_REASONS;return o&&(t=n||d(),c(e)?i.push(s.RENDER):t!==h.OUT_OF_VIEW&&t!==h.PARTIAL_VIEW_MINUS||i.push(s.GEOM),o.isHidden()&&i.push(s.HIDDEN),o.isObstructed()&&i.push(s.OBSTRUCTION)),i},getComponentCount:function(){return r.length},getComponents:function(){return r},getSliceStatus:f("getSliceStatus")}},Ln=function(){"use strict";var e,t,n,r=function(e){e?e&&n&&(xe.execAtEndOfThread((function(){I.getAggregator().trigger(V.DELAYED_VIEWABILITY_READY_CALL_ONLY)})),n=!1):n=!0};return{detectionMethod:function(){return t&&t.detectionMethod},isApplicable:function(e){return e.isBustedIframe()},find:function(){t=t||kn();var n=Se.crossQuerySelector(kn().getCssSelector(),!0);return e=n?n.parentNode:e,r(n),n},getAdContainer:function(){return e},allowForAdContainerChange:!0}},Fn=function(t,n){"use strict";var r,i=t||e.contextNode.parentNode,o=Se.findChildWithLargestContent(i,n);return Se.getNodeArea(o)>1&&!o[h.IAS_DETECTOR]&&(r=o),r},Un=function(){"use strict";var e=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT);return{usePlaceholder:!0,detectionMethod:h.DETECTION_METHODS.OMID,isApplicable:function(){return Te.isOmidForWeb()&&!Te.isOmidNative()},find:function(){return e.element||e.queuedOutputItems.push({code:"oea",value:!0}),e.element},getAdContainer:function(){return e.element&&e.element.parentNode},allowForAdContainerChange:!0}},xn=function(){"use strict";return{detectionMethod:h.DETECTION_METHODS.IFRAME,find:function(){return t},isApplicable:function(){return Te.embedded},getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},Wn=function(){"use strict";var e,t=xe.getDoc().scripts,n=function(){return e||(e=p(t).findFirst((function(e,t){return Ke.contains(t.src,"servedby.flashtalking")}))),e};return{detectionMethod:h.DETECTION_METHODS.BUSTED_IFRAME_FLASHTALKING,isApplicable:function(e,t){return t.on("bustediframe")&&e.embedded&&void 0!==n()},getCssSelector:function(){var t,r=function(){var t,r=e||n();return r&&r.src&&(t=r.src.match(/;(\d+);/)[1]),t}(),i="#ftdiv"+r,o="#ftframe"+r;try{t=p([i,o]).findFirst((function(e,t){return Se.crossQuerySelector(t,true)}))}catch(e){}return t}}},Bn=function(){"use strict";var e="_tpi";return{isApplicable:function(t,n){var r;try{r=Se.getFrameId()}catch(e){}return n.on("yieldmo")&&r&&Ke.contains(r,e)&&Se.crossQuerySelector("[data-href*='ads.yieldmo.com']",!0)},getCssSelector:function(){return"[id='"+Se.getFrameId().replace(e,"")+"']"},detectionMethod:h.DETECTION_METHODS.BUSTED_IFRAME_YIELDMO}},Gn=function(){"use strict";var e,t,n=xe.getDoc(),r=function(){var t,r,i="ebDiv";return e||(r=(t=Se.querySelector(n,"div[id*='ebDiv']"))&&t.id,e=r&&r.split(i)[1]),e},i=function(){var e=Se.crossQuerySelector("iframe[id*='ebAd'][id$='"+r()+"']",!0);return e&&e.id},o=function(){var e,n;return t||(e=i()?i():(n=Se.crossQuerySelector("iframe[id*='ebBannerIFrame_'][id$='"+r()+"']",!0))&&n.id,t=e&&"#"+e),t};return{detectionMethod:h.DETECTION_METHODS.BUSTED_IFRAME_SIZMEK,isApplicable:function(e,t){var n,i,s=xe.getWindow(),a=e.friendlyIframe&&xe.getWindow().frameElement,c=a&&ve(a).isOneByOne(),u=(n=["bs.serving-sys.com/BurstingPipe/adServer","secure-ds.serving-sys.com/BurstingCachedScripts"],i=xe.getDoc().scripts,p(i).findFirst((function(e,t){return p(n).findFirst((function(e,n){return Ke.contains(t.src,n)}))}))),d=s.EBG&&s.EBG.ads&&!p(s.EBG.ads).isEmpty();return t.on("sizmek")&&u&&d&&c&&r()&&o()},getCssSelector:o}},kn=function(){"use strict";var e,t=I.getAggregator().request(F.FEATURES);return e||(e=[Gn(),Bn(),Wn()]),p(e).findFirst((function(e,n){return n.isApplicable(Te,t)}))},Hn=function(){"use strict";var e,t=function(){xe.execAtEndOfThread((function(){I.getAggregator().trigger(V.DELAYED_VIEWABILITY_READY_CALL_ONLY)}))};return{usePlaceholder:!1,detectionMethod:h.DETECTION_METHODS.VENDOR_CELTRA,isApplicable:function(e,t){return t.on("celtra")&&e.isCeltra()},find:function(){var n,r=Yn().find();return r&&r.celtra&&r.celtra.loaded&&(n=r.celtra.viewabilityObservee,e=Se.getElementsWindow(n).frameElement||n.parentNode,t()),n},getAdContainer:function(){return e},allowForAdContainerChange:!1}},Yn=function(){"use strict";var t,n="celtra-ad-v3",r="celtra-ad-v4",i=function(){var i,o=e.contextNode.parentNode;return o&&(Ke.contains(o.className,n)||Ke.contains(o.className,r))?t=o:(i=o&&(Se.querySelector(o,".celtra-ad-v3")||Se.querySelector(o,".celtra-ad-v4")))&&(t=i),t};return{find:i,isApplicable:function(){return void 0!==i()}}},jn=function(){"use strict";var t=I.getAggregator().request(F.MOBILE_APP);return{usePlaceholder:!0,detectionMethod:h.DETECTION_METHODS.AD_HUNT,isApplicable:t.isMobileAppEnvironment,find:function(){return(e=Se.findChildWithLargestContent(xe.getDoc().body))&&e.hasValidSizeForMobileApp&&!e[h.IAS_DETECTOR]?e:void 0;var e},getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}};const qn=new class{constructor(){this.cachedIsFoundOnPage=!1}getDocument(){let e;try{e=xe.getDoc()}catch(e){}return e}get isIE11(){const e=this.getDocument();return e&&e.documentMode}hasBrowserSupport(){let e=!1;const t=this.getDocument(),n=!Te.isDomless(),r=!(this.isIE11||!t||"function"!=typeof t.body.attachShadow);return n&&r&&(e=!0),e}isFoundOnPage(e){const t=xe.getDoc(),n=e||t.body;let r=!1;if(this.cachedIsFoundOnPage)r=!0;else if(this.hasBrowserSupport())if(n.shadowRoot)r=!0,this.cachedIsFoundOnPage=!0;else{const e=n.querySelectorAll("*");for(let t=0;t<e.length;t++){const n=e[t];if(n&&n.shadowRoot){r=!0,this.cachedIsFoundOnPage=!0;break}}}else r=!1;return r}querySelector({customRootElement:e,selector:t}){const n=xe.getDoc(),r=e||n.body;let i;const o=e=>{const n=t&&t.replace("#","");if(!i)for(let t=0;t<e.length;t++){const r=e[t];r&&r.id===n&&(i=r),r&&r.shadowRoot&&o(r.shadowRoot.querySelectorAll("*"))}};return r.shadowRoot&&o(r.shadowRoot.querySelectorAll("*")),o(r.querySelectorAll("*")),i}};var Kn=function(){"use strict";var t,n=function(e){var t=p.isFunction(e.contextNode.getAttribute)&&e.contextNode.getAttribute("data-ias-container");return t&&"#"+t||e._cl_adpath},r=function(){var t=I.getAggregator().request(F.FEATURES),n=e&&4===e.integration;return!t.on("forceKeepGoogleAdNode")||!n};return{getAdSelectorId:n,detectionMethod:h.DETECTION_METHODS.SPECIFIED_AD,isApplicable:function(){return Te.isSpecifiedAd()},find:function(){var i=n(e),o=Se.crossQuerySelector(i),s=Te.isPageOnShadowDomWhitelist(),a=function(e){return r()&&Se.getNodeArea(e)<1}(o);return o?(t=Se.getParent(o),a&&(t=o,o=Se.findElementsWithSize(o))):s&&qn.isFoundOnPage()&&(o=qn.querySelector({selector:i}),t=Se.getParent(o)),o},getAdContainer:function(){return t},allowForAdContainerChange:!0,shouldValidateAdNode:r}},Xn=function(){"use strict";var t;return{detectionMethod:h.DETECTION_METHODS.SPECIFIED_AD_COMPOUND,isApplicable:function(){return Te.isCompoundAd()},find:function(){var n,r,i=[];return(n=e._cl_adpath,/\[(.*)\]/.exec(n)[1].split(",")).forEach((function(e){(r=Se.crossQuerySelector(e))&&(t=Se.getParent(r),Se.getNodeArea(r)<1&&(t=r,r=Se.findElementsWithSize(r))),i.push(r)})),i},getAdContainer:function(){return t},allowForAdContainerChange:!0}},zn=function(){"use strict";return{usePlaceholder:!0,detectionMethod:h.DETECTION_METHODS.AD_HUNT,isApplicable:function(){return!0},find:Fn,getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},Jn=function(){"use strict";return{detectionMethod:h.DETECTION_METHODS.VIDEO,find:I.getAggregator().request(F.VIDEO).findAdNode,isApplicable:Te.isVideo,getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},Qn=function(e,t){"use strict";var n,r,i=[er(),Zn(),$n()];return r=p(i).findFirst((function(n,r){return r.isApplicable(e,t)})),(n=tr()).isApplicable(t)&&(n.setBaseStrategy(r),r=n),r},$n=function(){"use strict";return{calcDims:function(e,t){var n,r,i=new ve(e);return Se.isClippable(e,t)&&(n=Se.getClippedDimensions(e,t),r=i.getRounded(),i.set("height",n.height<r.height?n.height:r.height||1),i.set("width",n.width<r.width?n.width:r.width||1)),i},allowsOptimization:!1,isApplicable:function(e){var t=(Te.isSpecifiedAd()||Te.isBustedIframe())&&Se.nodeIsInWindow(e,xe.getTop()),n=!Se.elementIsEmbedded(e);return t||n}}},Zn=function(){"use strict";var e=I.getAggregator().request(F.IFRAME_CALCULATOR_HELPER);return{calcDims:e.calcDims,getClippedDims:e.getClippedDims,allowsOptimization:!0,isApplicable:function(e){return!(Te.isSpecifiedAd()||Te.isBustedIframe())&&Se.elementIsEmbedded(e)}}},er=function(){"use strict";var e=I.getAggregator().request(F.IFRAME_CALCULATOR_HELPER);return{calcDims:function(t){var n=e.calcDims(),r=new ve(t).getRounded();return n.set("height",r.height),n.set("width",r.width),n},getClippedDims:e.getClippedDims,allowsOptimization:!1,isApplicable:function(e,t){var n=(Te.isSpecifiedAd()||Te.isBustedIframe())&&Te.embedded&&!Se.nodeIsInWindow(t,xe.getTop()),r=Te.isCeltra()&&Se.elementIsEmbedded(e);return n||r}}},tr=function(){"use strict";var e;return{calcDims:function(t,n,r){var i=p.isDef(r)?r.getAdNodeDimensions():void 0;return e&&p.isUndef(i)&&(i=e.calcDims(t,n)),i},isApplicable:function(e){var t=B(),n=I.getAggregator(),r=n.request(F.BROWSER),i=n.request(F.FEATURES),o=n.request(F.CONTEXT);return o.isDeviceTypeGroupMobile()&&t.applies(r,i,o)},allowsOptimization:!1,setBaseStrategy:function(t){e=t}}},nr=function(e){"use strict";e=e||xe.getWindow();var t=function(n,r){n=n||e,r=r||{top:0,left:0,width:xe.getMaxNumber(),height:xe.getMaxNumber()};for(var i,o=n.parent.frames,s=!1,a=0,c=o.length;a<c;a++)if(o[a]==n){i=o[a],s=!0;break}if(s){var u=Se.getRect(i.frameElement);r.left+=u.left,r.top+=u.top;try{r.width=xe.min(r.width,u.width),r.height=xe.min(r.height,u.height)}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.GET_AD_DIMENSIONS)}n!==xe.getTop()&&t(n.parent,r)}return r},n=function(){var n,r,i,o,s,a,c,u,d,g,f,l={};try{g=xe.getMaxNumber(),f=xe.getMaxNumber(),Te.friendly?(a=(o=t()).left,c=o.top,g=o.width,f=o.height,u=(s=Se.browserWindowPosition()).scrX+a,d=s.scrY+c):p.isDef(e.mozInnerScreenX)&&(u=xe.round(e.mozInnerScreenX),d=xe.round(e.mozInnerScreenY)),l={scrX:u,scrY:d,iFrameClippingWidth:g,iFrameClippingHeight:f},p.isDef(e.innerWidth)?(r=e.innerWidth,i=e.innerHeight):e.frameElement&&p.isDef(e.frameElement.clientWidth)&&(r=e.frameElement.clientWidth,i=e.frameElement.clientHeight),n={width:r,height:i},l.height=n.height,l.width=n.width}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.GET_AD_DIMENSIONS)}return l};return{calcDims:function(){return new ve(n())},getClippedDims:function(){var e=n();return new ve({scrX:e.scrX,scrY:e.scrY,width:e.iFrameClippingWidth,height:e.iFrameClippingHeight})}}},rr=function(){"use strict";return{createInstance:function(e,t,n){return Te.isDomless()?new or:new ir(e,t,n)}}},ir=function(r,i,o){"use strict";var s,a,c=I.getAggregator().request(F.BROWSER),u=e&&e.contextNode&&e.contextNode.parentNode?e.contextNode.parentNode:null,d=Vn(i,o),g=function(){var e,t,n,r;s=s||function(e,t){var n=[Xn(),Kn()],r=[Un(),jn(),Jn(),Ln(),Hn(),xn(),zn()],i=n.concat(r);return p(i).findFirst((function(n,r){return r.isApplicable(e,t)}))}(Te,o),e=s.find(),Te.friendlyIframe&&Te.isBlockingSizmekTag()&&T(e),!e&&s.usePlaceholder?(f(),E()):e&&(n=p(e).isArray()?e:[e],t=s.getAdContainer(),r=s.allowForAdContainerChange,p(n).each((function(e,n){d.addAdComponent(n,p.resolve(s.detectionMethod),t,r)})))},f=function(){var t;d.hasAd()||(t=Se.getPlaceholderSpan(),u.insertBefore(t,e.contextNode.nextSibling),d.addAdComponent(t,h.DETECTION_METHODS.AD_PLACEHOLDER,Se.getParent(t)))},l=function(e,t){var n=!1;p(e).each((function(e,t){t.addedNodes&&t.addedNodes.length>0&&(n=!0)})),n&&(I.getAggregator().trigger(V.NODES_ADDED),t.disconnect())},E=function(){Te.isDeviceTypeGroupMobile()&&c.hasMutationObserver()&&xe.getMutationObserver(l).observe(u,{childList:!0})},m=function(e,t){var n,r=!1;p(e).each((function(e,t){switch(t.type){case"childList":p(t.addedNodes).each((function(e,t){t.nodeName&&"script"===t.nodeName.toLowerCase()&&(r=!0)}));break;case"attributes":t.target.height*t.target.width<=1&&(r=!0)}})),r&&((n=Gn()).isApplicable(Te,o)&&(t.disconnect(),s=Ln(),d.clearCollection(),I.getAggregator().trigger(V.NODES_ADDED)),setTimeout((function(){n.isApplicable(Te,o)&&(t.disconnect(),s=Ln(),d.clearCollection(),I.getAggregator().trigger(V.NODES_ADDED))}),0))},T=function(e){var t,n;if(!a&&c.hasMutationObserver()&&Se.isWindow(e))try{a=xe.getMutationObserver(m),t=e&&e.frameElement,n=e&&e.document&&e.document.body,a.observe(t,{attributes:!0,attributeFilter:["height","width"]}),a.observe(n,{childList:!0,subtree:!0})}catch(e){}};return function(e){var r=!1;if(!p.isUndef(t.MutationObserver)){var i=new t.MutationObserver((function(e){xe.execAtEndOfThread((function(){r&&p(e).each((function(e,t){t.addedNodes.length&&I.getAggregator().trigger(V.AD_COMPONENT_ADDED,t.addedNodes),t.removedNodes.length&&I.getAggregator().trigger(V.AD_COMPONENT_REMOVED,t.removedNodes)}))}))})),o=function(){r=!0,xe.setTimeout((function(){r=!1}),40)};I.getAggregator().on(V.AD_COMPONENT_CLICKED,o),I.getAggregator().on(V.AD_COMPONENT_TOUCHED,o),I.getAggregator().on(V.AD_COMPONENT_MOUSED_OVER,o),I.getAggregator().on(V.AD_COMPONENT_CLICKED,Ht.adComponent.trackClick),I.getAggregator().on(V.AD_COMPONENT_MOUSED_OVER,Ht.adComponent.trackMouseOver),I.getAggregator().on(V.AD_COMPONENT_MOUSED_OUT,Ht.adComponent.trackMouseOut),I.getAggregator().on(V.AD_COMPONENT_TOUCHED,Ht.mobile.trackTouch),I.getAggregator().on(V.BLUR,Ht.adComponent.trackBlur),Ae.addEvent(t,L.BEFORE_UNLOAD,Ht.finalizeAllCollectedData,!1),Ae.whenReady((function(){try{i.observe(n.body,{attributes:!0,childList:!0,characterData:!0})}catch(t){e.add(h.ERROR_CODES.AC_WATCHER)}}),xe.getDoc())}}(r),{find:function(){return d.isUsingPlaceholder()||!d.hasAd()?g():d.refresh(),d},getDetectionMethod:function(){}}},or=function(){"use strict";var e=function(){return null};return{find:e,getDetectionMethod:e}},sr=function(e){"use strict";var t=new dr,n=new gr,r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=function(){var e,t=["FBAN","FBAV","Twitter","Instagram","Flipboard","Snapchat","LinkedInApp","Pinterest"],n=!1;for(e=0;e<t.length;e++)if(r.indexOf(t[e].toLowerCase())>-1){n=!0,I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:t[e].substring(0,2)},U.MAPP1_EXCLUSION_LIST_MATCH,{type:h.IMPRESSION_EVENT});break}return n};return function(){var r="",o=I.getAggregator().request(F.OMID_AD_SESSION_CONTEXT),s=Te.isDomless()||o&&"app"===o.environment,a=o&&"web"===o.environment,c=e.bootstrapOn(U.MOB_OR_TAB),u=e.bootstrapOn(U.MOB_APP_WEBVIEW),d=e.bootstrapOn(U.MOB_APP),g=c&&u||d;try{s||!a&&g&&!i()?(r=t.detect(),t.hasDetectedMobileApp()&&("s_serv"!==r&&"u_cars"!==r||(fr[fr.length-1].detectionRules.userAgent[0]="/"),n.detect(),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"1"},U.MOBILE_APP_ENVIRONMENT,{type:h.IMPRESSION_EVENT}),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:r},U.MATCHED_MOBILE_APP_DETECTION_RULE,{type:h.IMPRESSION_EVENT}))):a&&I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:"a_oweb"},U.MATCHED_MOBILE_APP_DETECTION_RULE,{type:h.IMPRESSION_EVENT})}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.MOBILE_APP)}}(),{excludedByUserAgent:i,isMobileAppEnvironment:function(){return t.hasDetectedMobileApp()},isSafeToInjectMraid:function(){return n.isSafeToInjectMraid()}}};const ar={url:{STRINGIFIED_METHOD:"u",detect:function(r){"use strict";if(Te.isDomless())return!1;const i=xe.getWindow().location.href,o=[i];try{o.push(top.location.href)}catch(e){}try{o.push(parent.location.href)}catch(e){}if(Te.embedded){try{o.push(parent.document.referrer)}catch(e){}try{o.push(n.referrer)}catch(e){}}try{"jsi"!==e.mode&&o.push(t.location.href)}catch(e){}try{o.push(e.jsref)}catch(e){}return o.sort((function(e,t){return e.length>t.length?1:e.length<t.length?-1:0})),!!p(r).findFirst((function(e,t){let n,r,s=!1;const a="mobfox"===t?o:[i];for(r=0;r<a.length;r++){n=a[r];const e="string"==typeof t?[t]:t;if(p(e).isArray()&&e)for(let t=0;t<e.length&&(s=n.indexOf(e[t])>-1,!1!==s);t++);if(s)break}return s}))}},userAgent:{STRINGIFIED_METHOD:"a",detect:function(e){"use strict";return!Te.isDomless()&&!!p(e).findFirst((function(e,t){let n,r=!1;const i=xe.getWindow();return p.isDef(i.navigator)&&p.isDef(i.navigator.userAgent)&&(n=i.navigator.userAgent,r=n&&-1!==n.indexOf(t)),r}))}},javascript:{STRINGIFIED_METHOD:"j",detect:function(e){"use strict";return!!p(e).findFirst((function(e,t){let n=!1;return n=p.isDef(Ke.stringToProp(t)),n}))}},scriptSrc:{STRINGIFIED_METHOD:"s",detect:function(e){"use strict";return!Te.isDomless()&&!!p(e).findFirst((function(e,t){return Se.containsScriptTagWithSrc((function(e){let n=!1;return n=p.isDef(e)&&-1!==e.indexOf(t),n}))}))}}},cr=function(){"use strict";const e=function(e,t){let n;const r=ar[e];return r.detect(t)&&(n=r.STRINGIFIED_METHOD),n};return{process:function(t){return p(t).map(e).join("")}}};var ur=[{STRINGIFIED_APPDET:"omid",detectionRules:{javascript:["omidSupported"]}},{STRINGIFIED_APPDET:"file",detectionRules:{url:["file:"],scriptSrc:["file:"]}},{STRINGIFIED_APPDET:"cont",detectionRules:{url:["content:"]}},{STRINGIFIED_APPDET:"appl",detectionRules:{url:["applewebdata:"]}},{STRINGIFIED_APPDET:"adma",detectionRules:{javascript:["ADMARVEL"]}},{STRINGIFIED_APPDET:"admb",detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_APPDET:"imbi",detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_APPDET:"mopb",detectionRules:{url:["ads.mopub.com"],javascript:["mopubFinishLoad"]}},{STRINGIFIED_APPDET:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_APPDET:"sads",detectionRules:{javascript:["mraid.sasSendMessage"]}},{STRINGIFIED_APPDET:"ogry",detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_APPDET:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_APPDET:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_APPDET:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_APPDET:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_APPDET:"aers",detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_APPDET:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_APPDET:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_APPDET:"cars",safeToInjectMraid:!0,detectionRules:{url:[["carsales",".android"],["carsales",".ios"]]}},{STRINGIFIED_APPDET:"mrai",detectionRules:{javascript:["mraid"]}}],dr=function(){"use strict";var t,n=function(e,t){var n,r=cr().process(t.detectionRules);return r&&(n=r+"_"+t.STRINGIFIED_APPDET),n};return{detect:function(){return""===(t=(t=p(ur).map(n)).length>0?t[0]:"")&&e.hasOwnProperty("serverSideAppDetection")&&0!==e.serverSideAppDetection.length&&(t="s_serv"),t},hasDetectedMobileApp:function(){return void 0!==t&&""!==t}}},gr=function(){"use strict";var e=[],t=[],n=function(t,n){var r,i=cr().process(n.detectionRules);return i&&(e.push(n.STRINGIFIED_SDK+"*"+i),r=n),r};return{detect:function(){return(t=p(fr).map(n)).length>0&&I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:function(){return e.join(".")}},U.APP_SDKS_DETECTED,{type:h.IMPRESSION_EVENT}),t.length>0},isSafeToInjectMraid:function(){return 1===t.length&&p.isDef(t[0].safeToInjectMraid)&&t[0].safeToInjectMraid}}},fr=[{STRINGIFIED_SDK:"adma",safeToInjectMraid:!0,detectionRules:{javascript:["ADMARVEL"],url:["AdMarvel"]}},{STRINGIFIED_SDK:"admb",safeToInjectMraid:!0,detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_SDK:"imbi",safeToInjectMraid:!0,detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_SDK:"mmed",detectionRules:{url:["mmsdk"],scriptSrc:["mmsyscache"]}},{STRINGIFIED_SDK:"mopb",safeToInjectMraid:!0,detectionRules:{javascript:["mopubFinishLoad"],url:["ads.mopub.com"]}},{STRINGIFIED_SDK:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_SDK:"ambe",safeToInjectMraid:!0,detectionRules:{url:["amobee"]}},{STRINGIFIED_SDK:"smat",safeToInjectMraid:!0,detectionRules:{javascript:["smaato_bridge"]}},{STRINGIFIED_SDK:"afrm",safeToInjectMraid:!0,detectionRules:{javascript:["Adform"]}},{STRINGIFIED_SDK:"vrve",safeToInjectMraid:!0,detectionRules:{javascript:["vrvsdk"]}},{STRINGIFIED_SDK:"sads",detectionRules:{javascript:["mraid.sasSendMessage"],url:["smartadserver.com"]}},{STRINGIFIED_SDK:"ogry",safeToInjectMraid:!0,detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_SDK:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_SDK:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_SDK:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_SDK:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_SDK:"aers",safeToInjectMraid:!0,detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_SDK:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_SDK:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_SDK:"mrad",safeToInjectMraid:!0,detectionRules:{userAgent:["unmatchabledetectionstring"]}}],lr=function(e){"use strict";var t=[],n=function(e,t,n){return new Ir(0,e,n,n+t)};return function(){if(e.height<10)t.push({geometry:new Ir(0,e.width,0,e.height),percentageInViewContribution:100,isInView:!1});else for(var r,i=Math.floor(e.height),o=i%10,s=(i-o)/10,a=0;a<10;a++){var c=a<o?s+1:s,u={geometry:n(e.width,c,r||0),percentageInViewContribution:10,isInView:!1};t.push(u),r=u.geometry.value().bottomY}}(),{getSlices:function(){return t}}},Er=function(){"use strict";var e,t=h.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID.length,n=h.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID,r=[];return{getConfig:function(i){if(e)return e;i.height<t&&(t=1,n=[100]);for(var o=0;o<t;o++)r.push(!1);return e={numberOfSlices:t,defaultSliceArray:r,percentInViewSliceArray:n}}}},pr=function(e,t){"use strict";var n={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]},r=function(e,t){var n,r=0,i=function(e,t){var n=[],r=e.geometry.value();return p(t).each((function(t,i){if(e.geometry.doesIntersect(i)){var o=i.value(),s=Math.max(r.leftX,o.leftX),a=Math.min(r.rightX,o.rightX),c=Math.max(r.topY,o.topY),u=Math.min(r.bottomY,o.bottomY);n.push(new Ir(s,a,c,u))}})),n}(e,t);return p(i).each((function(e,t){n=t.value(),r+=n.area})),r},i=function(t){p(e).each((function(e,n){n.isInView=r(n,t)>=n.geometry.value().area}))};return t.addListener(i),{getPercentInView:function(){var t=function(){var t=0;return n.mbs=[],p(e).each((function(e,r){n.mbs.push(r.isInView),r.isInView&&(t+=r.percentageInViewContribution)})),t}();return n.mbrd=1,t!==n.mbp&&n.mbivs.push([Te.getTagTime(),t]),n.mbp=t,t},removePixels:function(){void 0!==t&&t.stop()},getPixelStateForDebug:function(){return n.mbm=1,n.mbpr=[],n.mbir=[],p(e).each((function(e,t){n.mbpr.push(h.NA),n.mbir.push(!1)})),n},isReadyToMeasure:function(){return!0},getSliceStatus:function(){var t=[];return p(e).each((function(e,n){t.push(n.isInView)})),t}}},mr=function(e){"use strict";var t=Er();return{getSliceStatus:function(n,r,i,o){var s,a=[],c=n.getRounded(),u=c.height,d=c.scrY,g=new ve({scrX:c.scrX,width:c.width}),f=t.getConfig(c).numberOfSlices;g.set("height",xe.floor(u/f));for(var l=0;l<f;l++)g.set("scrY",xe.ceil(d+u/f*l)),s=100===e.calcPercentInView(g,r,i,o),a.push(s);return a}}},Ir=function(e,t,n,r){"use strict";var i=Math.ceil(e),o=Math.ceil(t),s=Math.ceil(n),a=Math.ceil(r),c=o-i,u=a-s,d=c*u,g=function(){return{leftX:i,rightX:o,topY:s,bottomY:a,width:c,height:u,area:d}};return{value:g,doesIntersect:function(e){var t=g(),n=e.value();return n.leftX<t.rightX&&n.rightX>t.leftX&&n.topY<t.bottomY&&n.bottomY>t.topY}}},hr=function(){"use strict";return{createInstance:function(e,t){return new IntersectionObserver(e,t)}}},Tr=function(e,t){"use strict";var n,r=[],i=[],o=function(e,t){-1===e.indexOf(t)&&e.push(t)},s=function(e){var t,n=function(){var e=[];return p(i).each((function(t,n){var r=n.value();o(e,r.topY),o(e,r.bottomY)})),e=e.sort((function(e,t){return e-t}))}();i=[];for(var r=0;n.length>r&&(t=r,n.length!==t+1);r++){var s=n[r],a=n[r+1];i.push(new Ir(0,e,s,a))}},a=function(e,t){i.push(e),s(t),p(r).each((function(e,t){t(i)}))},c=function(){n.unobserve(e),n.disconnect()};return(n=t.createInstance((function(e){var t,n,r,i,o,s,u=e.pop(),d=u.boundingClientRect,g=d.width,f=u.intersectionRatio,l=u.intersectionRect,E=(t=d,r=(n=l).left-t.left,i=r+n.width,o=n.top-t.top,s=o+n.height,new Ir(r,i,o,s));a(E,g),1===f&&c()}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).observe(e),{addListener:function(e){r.push(e)}}},Ar=function(){"use strict";var e=function(e){var t=!1;return Dr.forEach((function(n){e===n.PARTNER_NAME&&(t=!0)})),t},t=function(t,r){return t.omidNativeInfo&&t.omidNativeInfo.partnerName&&e(t.omidNativeInfo.partnerName)?r&&n(r.onScreenContainerGeometry):r&&n(r.onScreenGeometry)},n=function(e){return e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("width")&&e.hasOwnProperty("height")};return{detect:e,checkAdViewGeometryBasedOnWhitelist:t,checkGeometryObject:n,checkForViewAttachmentBasedOnAdSessionType:function(e,n){if(n&&n.reasons&&n.reasons.indexOf("notFound")<0&&e.adSessionType&&(e.adSessionType.indexOf("native")>-1||e.adSessionType.indexOf("javascript")>-1||e.adSessionType.indexOf("html")>-1&&t(e,n)))return!0}}},Dr=[{PARTNER_NAME:"IAB"},{PARTNER_NAME:"IAS"},{PARTNER_NAME:"com.integralads.omid.iassdk"}],_r=function(){"use strict";return{listenForResult:function(){I.getAggregator().on(V.VIDEO_BLOCK_RESULT,(function(t){var n=I.getAggregator().request(F.AD_NODE),r=!1,i="blockAd"+e.videoId;"failed"===t.action&&(r=!0),n&&p.isDef(n.blockAd)?n.blockAd(r):n&&p.isDef(n[i])&&n[i](r)}))}}};const vr=function(){"use strict";const e=[];return{registerEvent:(t,n)=>{const r=function(e,t){var n;const r=I.getAggregator().request("videoTranslator").translate(e.messageType),i=(e=>{const t=e.eventData||{},n=p({}).mixin(t);return n.ext_passthrough&&delete n.ext_passthrough,n})(e),o=(e=>{let t;const n=e.eventData&&e.eventData.ext_passthrough,r=(e,t)=>{const n={};return n[`x_${e}`]=t,n};return n&&(t=p(n).mapToObj(r)),t})(e),s=null===(n=u.measurementConfig)||void 0===n?void 0:n.birthdate,a={t:e.time-s,tp:r,sl:t};p(a).mixin(i),p(a).mixin(o);const c=p({indicatesPlaying:()=>-1!=="showAd|adImpression|adVideoStart|resumeAd".indexOf(r),indicatesNotPlaying:()=>-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(r),indicatesFullscreen:()=>{const e=xe.getWindow();return!("resizeAd"!==r&&"initAd"!==r||"fullscreen"!==i.viewMode&&i.width!==e.screen.width)},indicatesNormalSize:()=>"resizeAd"===r&&"normal"===i.viewMode,indicatesQuartile:()=>-1!=="adVideoFirstQuartile|adVideoMidpoint|adVideoThirdQuartile|adVideoComplete".indexOf(r),indicatesCompletion:()=>-1!=="adStopped|adVideoComplete|adSkipped|adError".indexOf(r),getVolume:e=>e.getVolumeFromContext(i),updateScreenLoc:e=>{a.sl=e,c.sl=e},trigger:()=>{"adImpression"===r?I.getAggregator().persistentTrigger(r,i,o):I.getAggregator().trigger(r,i,o)},toString:()=>"{"+p(a).toParams()+"}"}).mixin(a);return c}(t,n);return e.push(r),r},toString:()=>"{"+p({vEventCount:e.length,vEvents:"["+e.join(",")+"]"}).toParams()+"}",isEmpty:()=>0===e.length}};var Sr=function(){"use strict";var e,t,n,r=function(r){n=p.isDef(r)?0===r:n,t&&n&&e.addState({isFullyInView:function(){return!1}})},i=function(){e&&e.hasAlwaysBeen(!0)&&I.getAggregator().trigger(V.SEND_DT,h.DT_CODES.QUARTILE_FULLY_INVIEW)},o=function(){t=!0,r()},s=function(e){var t=(new Rr).getVolumeFromContext(e);r(t)};return{isApplicable:function(e){return e.usesGroupMCustomMetric()},start:function(n){I.getAggregator().on({adVideoStart:o,adImpression:o,volumeChanged:s,adVideoMidpoint:i}),e=n.createViewabilityTracker("mpt",(function(e){var n=I.getAggregator().request("isFullyInViewProvider");return!t||n&&n.isFullyInView(e)}))}}},Or=function(){"use strict";var e={AdPaused:"pauseAd",AdVolumeChange:"volumeChanged",AdPlaying:"resumeAd"};return{translate:function(t){var n=t.charAt(0).toLowerCase()+t.slice(1);return t in e&&(n=e[t]),n}}};const Rr=function(){"use strict";return{getVolumeFromContext:e=>{let t,n=-1;return p.isDef(e)&&(p.isDef(e.volume)?n=e.volume:p.isDef(e.adVolume)&&(n=e.adVolume)),-1!==n&&(t=n),t}}};var Nr=function(t,n,r){"use strict";var i,o,s,a="IASid"+t,c="getIasVidBridgeVersion"+t,u=[],d=h.OUT_OF_VIEW,g=!1,f=!1,l=!1,E=!0,m=new vr,T=Sr(),A=new _r,D=new Rr,_=new Le,v=function(e){var t;return g=!0,t=S(e),u.push(t),s&&y(),t},S=function(e){var n,i,o={};try{o=JSON.parse(unescape(e&&e.data?e.data:e))}catch(e){o={}}return o.id==t&&((n=m.registerEvent(o,r.getCurrentLoc())).indicatesPlaying()?(f=!0,d=!!l&&h.IN_VIEW):n.indicatesNotPlaying()?(f=!1,d=h.OUT_OF_VIEW):n.indicatesFullscreen()?(l=!0,d=f?h.IN_VIEW:h.OUT_OF_VIEW):n.indicatesNormalSize()&&(l=!1,d=!f&&h.OUT_OF_VIEW),(i=parseFloat(n.getVolume(D)))>0?E=!0:0===i&&(E=!1)),n},O=function(){i||(p(["*[data-integralas-vid-"+t+"]",".integral-vid-"+t,"ias-ad","object","embed"]).findFirst((function(e,t){var n=xe.getDoc().querySelectorAll(t);return i=function(e){return p(p(e).toArray()).findFirst((function(e,t){return p.isFunction(t[a])}))}(n),i})),!i&&n.on("novidnodeerr")&&Math.random()<.1&&__IntegralASDiagnosticCall("novidnode",{message:"node not found*10"},e));return i},R=function(){var n=O();return n&&!g&&function(n){var r,i,o=Fe().wrapToGlobal(v);try{i=n[c]||n.getIasVidBridgeVersion,r=p.isFunction(i)&&"2"===i.call(n)?unescape(n[a].call(n,t,o)):unescape(n[a].call(n,t)),g=!0,function(e){p.isStr(e)&&(I.getAggregator().provide("vc",(function(){return e})),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:e},U.VIDEO_CHANNEL,{type:h.IMPRESSION_EVENT}))}(r||"n")}catch(t){__IntegralASDiagnosticCall("handshakefailure",t,e)}}(n),n},N=function(e){var t=D.getVolumeFromContext(e);E=!!p.isDef(t)&&t>0},y=function(){_.init(),p(u).each((function(e,t){t&&(p.isUndef(t.sl)&&t.updateScreenLoc(r.getCurrentLoc()),t.trigger(),t.indicatesCompletion()&&I.getAggregator().trigger(V.AD_SESSION_COMPLETE),t.indicatesQuartile()&&(t.tp!==V.AD_VIDEO_COMPLETE&&I.getAggregator().trigger(V.SEND_DT,h.DT_CODES.VIDEO_EVENTS),I.getAggregator().trigger(V.VIDEO_QUARTILE_EVENT,t)))})),u=[],s=!0},C=function(){return l&&f};return Ae.addEvent(xe.getWindow(),"message",(function(e){v(e)})),I.getAggregator().on({volumeChanged:N}),I.getAggregator().provide({videoEventsString:m,videoVersion:function(){var e,t=R();try{e=t.getVersion()}catch(t){e=-1,I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.NO_VIDEO_AD_INTERFACE)}return e},videoTranslator:function(){return o=o||new Or},adNode:R}),R(),A.listenForResult(),T.isApplicable(Te)&&T.start(r),{findAdNode:R,getViewStateOverride:function(){return d},isHandshakeComplete:function(){return g},triggerInitializationEvents:y,setVideoSpecificScreenEventFields:function(e){var t=e.viewState===h.NA;if(e.isVideoPlaying=!0,e.isSoundOn=E,e.isVideoPlayingInFullscreen=!1,d){if(d===h.OUT_OF_VIEW){var n=e.reason?e.reason.split("."):[];n[n.length]=h.OUT_OF_VIEW_REASONS.VIDEO,e.reason=n.join(".")}e.viewState=t?e.viewState:d,e.isVideoPlaying=d===h.IN_VIEW}C()&&(e.percentInView=100,e.isVideoPlayingInFullscreen=!0)}}},yr=function(){"use strict";var e=h.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.COUNT;return new Pr(h.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.TYPE,e)},Cr=function(){"use strict";var e,t,n={},r=0,i=function(n){(n||e)&&(r+=5,t.onTick(r,(function(){e?i():I.getAggregator().trigger("sendDt",h.DT_CODES.PERFORMANCE)})),e=!1)},o=function(){t=new re,r=0,i(!0),t.start()},s=function(r,i,s,a){var c=n[r];a?(p.isDef(c[i])||(c[i]=[]),c[i].push(s)):c[i]=s,t&&t.isActive()||o(),e=!0},a=function(n,r,i){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:r},n,i),t&&t.isActive()||o(),e=!0},c=function(t){p(n).each((function(r,i){!function(t,r){var i=n[t],o={type:r,oneTime:!0,minDt:!0,asION:!0};p(i).isEmpty()||(I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:i},t,o),n[t]={}),e=!1}(r,t)}))};return{start:function(){I.getAggregator().on("preSendDt",(function(e){c(e),t&&t.kill()})),I.getAggregator().on("addThrottledProp",s),I.getAggregator().on("addThrottledOutputItem",a)},addFieldTypes:function(e){p(e).each((function(e,t){n[t]={}}))}}},Mr=function(){"use strict";var e={},t=function(t){return!e[t]&&(e[t]=new ne(1,u.measurementConfig.birthdate)),e[t]},n=function(e){t(e).start()},r=function(e){var n=t(e);n.stop(),I.getAggregator().trigger("addThrottledProp","im",e,n.getTime())};return{start:function(){I.getAggregator().on({markTime:n,measureTime:r})},isApplicable:function(e){return e.on("pIntervals")}}},wr=function(){"use strict";var e=h.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.COUNT;return new Pr(h.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.TYPE,e)},br=function(e){"use strict";var t={},n=e instanceof Array&&e.length>0;return n&&(p(e).each((function(e,n){var r;t[(r=n).getType()]=r})),I.getAggregator().on(V.PERF_CHECKPOINT,(function(e){var n=t[e.type];if(n)try{n.addPoint(e),n.isFinished()&&I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.IM,"pci",n.toString())}catch(e){}}))),I.getAggregator().provide("perfActive",(function(){return n})),{isActive:n}},Pr=function(e,t){"use strict";var n=0,r=[],i=function(){var e,t={};return r.sort((function(e,t){return e.timestamp-t.timestamp})),p(r).each((function(r,i){e&&(t[i.code]=i.timestamp-e),i.timestamp,r===n&&(e=i.timestamp)})),t};return{addPoint:function(e){r.push(e)},toString:function(){return p(i()).toION()},getType:function(){return e},setBaseOrdinal:function(e){n=e},isFinished:function(){return r.length===t}}},Vr=function(){"use strict";function e(){}return e.build=function(){var e,t=[];t.push((e=h.PERF_TIMELINE_TRACKER_CONFIG.RENDER.COUNT,new Pr(h.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,e)));var n,r=(n=I.getAggregator().request("vc"))?{jv3:Lr,av3:Lr,jvw:wr,avw:yr}[n]:void 0;return r&&t.push(r()),t},e}(),Lr=function(){"use strict";var e=h.PERF_TIMELINE_TRACKER_CONFIG.VANS.COUNT;return new Pr(h.PERF_TIMELINE_TRACKER_CONFIG.VANS.TYPE,e)},Fr={IDS:{BLOCK_TIME:"pBlk",ON_LOAD:"pLoad",IN_BROWSER_DELAY:"pWait"},recordBlockingTime:function(){"use strict";I.getAggregator().trigger(V.MEASURE_TIME,Fr.IDS.BLOCK_TIME)},setupOnLoadTracking:function(){"use strict";Ae.addEvent(t,"load",(function(){I.getAggregator().trigger(V.MEASURE_TIME,Fr.IDS.ON_LOAD)}))},setupBrowserDelayTracking:function(){"use strict";var e=new re;e.onTick({4:function(){I.getAggregator().trigger(V.MARK_TIME,Fr.IDS.IN_BROWSER_DELAY)},5:function(){I.getAggregator().trigger(V.MEASURE_TIME,Fr.IDS.IN_BROWSER_DELAY)}}),e.start()}},Ur={isFrameworkAvailable:function(e,t){var n,r,i=xe.getTop(),o=xe.getWindow();try{n=i[e]}catch(e){for(;!r;){try{o.frames[t]&&(r=o.frames[t].parent)}catch(e){}if(o===i)break;o=o.parent}}return n||r},getMessageHandler:function(e,t){var n=Ur.getCallId(),r=function(i){try{i&&i.data&&i.data[e]&&i.data[e].callId===n&&i.data[e].returnValue&&(t(i.data[e].returnValue),Ae.removeEvent(xe.getWindow(),"message",r))}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.GDPR)}};return r},getCallId:function(){return"ias_"+e.asid},send:function(e,t){I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.ENVIRONMENT,e,t)}},xr={name:"CCPAConsentDetector",dependencies:[],creator:function(){"use strict";var e;function t(e){e&&Ur.send("ccd",p(e).toION())}e=Ur.isFrameworkAvailable("__uspapi","__uspapiLocator"),Ur.send("cca",!!e),e&&function(e){var n,r;p.isFunction(e)?e("getUSPData",1,t):(n={__uspapiCall:{command:"getUSPData",version:1,callId:Ur.getCallId()}},r=Ur.getMessageHandler("__uspapiReturn",t),Ae.addEvent(xe.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:h.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}},Wr={name:"GDPRConsentDetector",dependencies:[],creator:function(){"use strict";var e,t=278;function n(e){var t=p.isDef(e)&&p.isDef(e.vendorConsents)&&p.isDef(e.vendorConsents[278])?e.vendorConsents[278]:void 0,n={appl:p.stringifyTriState(e.gdprApplies),cnst:p.stringifyTriState(t),glbl:p.stringifyTriState(e.hasGlobalScope),mtdt:encodeURIComponent(e.metadata)},r=e&&e.tcString;I.getAggregator().provide("tcString",(function(){return r})),Ur.send("gcd",p(n).toION())}e=Ur.isFrameworkAvailable("__cmp","__cmpLocator"),Ur.send("gca",!!e),e&&function(e){var r,i;p.isFunction(e)?e("getVendorConsents",[t],n):(r={__cmpCall:{command:"getVendorConsents",parameter:[t],callId:Ur.getCallId()}},i=Ur.getMessageHandler("__cmpReturn",n),Ae.addEvent(xe.getWindow(),"message",i),e.postMessage(r,"*"))}(e)},settings:{tier:h.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}};const Br={name:"GDPRV2ConsentDetector",dependencies:[],creator:function(){const e=e=>{const t=p.isDef(e)&&p.isDef(e.vendor)&&p.isDef(e.vendor.consents)&&p.isDef(e.vendor.consents[278])?e.vendor.consents[278]:void 0,n={appl:p.stringifyTriState(e.gdprApplies),cnst:p.stringifyTriState(t)};Ur.send("gcd2",p(n).toION())};(()=>{const t=Ur.isFrameworkAvailable("__tcfapi","__tcfapiLocator");Ur.send("gca2",!!t),t&&(t=>{let n,r;if(p.isFunction(t))try{t("addEventListener",2,e)}catch(n){try{t("getTCData",2,e)}catch(e){}}else n={__tcfapiCall:{command:"addEventListener",callId:Ur.getCallId(),version:2}},r=Ur.getMessageHandler("__tcfapiReturn",e),Ae.addEvent(xe.getWindow(),"message",r),t.postMessage(n,"*")})(t)})()},settings:{tier:h.TIERS.ENVIRONMENT,applies:(e,t,n)=>t.hasPostMessage()&&!n.isDomless()}};var Gr={name:"postMessageDetector",dependencies:[],creator:function(){"use strict";var t,n=!1,r="pmdetector"+e.asid,i=function(e){(e&&e.data)===r&&(n=!0)};t=xe.getWindow(),Ae.addEvent(t,"message",i),t.postMessage(r,"*"),xe.execAtEndOfThread((function(){I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.IM,"pom",p.stringifyTriState(n)),Ae.removeEvent(t,"message",i)}))},settings:{tier:h.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return e.on("pmdetect")&&t.hasPostMessage()}}},kr={name:"safeFrameDetector",dependencies:[],creator:function(){"use strict";I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.IM,U.SAFEFRAME,p.stringifyTriState(Te.isSafeFrame()))},settings:{tier:h.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return e.on("sfdetect")}}},Hr=function(t,n,r,i,o,s,a){"use strict";var c="adsafe_jsinfo=",u=function(e,t){return isNaN(e)||e<0||""===e?t:e},d=function(e){return"&"===e.slice(-1)?"":"&"},g=function(g){var f=i.baseUrl,l=u(e.sp_imp_maxLength,2e3);if(Te.integratedBlockingApplies(f)&&(f=function(t){var n=I.getAggregator().request("mobileApp"),r=n&&n.isMobileAppEnvironment&&n.isMobileAppEnvironment(),i=t+"adContainerId="+e.contextNode.getAttribute("data-ias-container")+"&cbFunctionName="+e.contextNode.getAttribute(h.CALLBACK_IDENTIFIER.toString());i=r?i.replace("monitoring","blocking"):i.replace("skeleton.js",e.integration+".js");var o=e.protocol+":"+e.staticServer+e.integration+"a.js",s=e.protocol+":"+e.staticServer+e.integration+".js";return i+"&true_pb="+encodeURIComponent(e.passback)+(r?"&redirectUrl="+encodeURIComponent(s):"")+(r?"&passback=":"&adsafe_pb=")+encodeURIComponent(o)+"&"}(f)),f=f.replace(h.UNIQUE_ID_TOKEN,e.asid),f+=function(r,i,o){var s,a=u(e.sp_imp_jsInfo_minLength,0),d="";try{(s=i-r-a)>0&&(d+=Xr(o,s,c.length,n.on("partialUrls")).join("&"))}catch(e){t.add(h.ERROR_CODES.IMPRESSION_URLS)}return d}(f.length,l,g),f+=d(f),f+=function(e,i){var u="";try{u+=jr(i-e,c,t,n,r,o,s,a,i)}catch(e){t.add(h.ERROR_CODES.JSINFO),u+="adsafe_jsinfo=e:"+t.toString()}return u}(f.length,l),i.macroUrl&&(f+=d(f),f+=i.macroUrl),e.staticFwjsMacros&&(f+=d(f),f+=e.staticFwjsMacros),Te.isAMZN()&&-1===f.indexOf("gdpr_consent")){var E=I.getAggregator().request("tcString");p.isDef(E)&&(f+=d(f),f+="gdpr_consent="+E)}return f};return{send:function(t){try{var n=g(t);e.impUrl=n,i.sendImpression(n),I.getAggregator().trigger("impressionsent"),function(){if(e.rts&&e.rts.tracked){var t=e.rts.tracked;I.getAggregator().trigger("notify",t)}}()}catch(t){__IntegralASDiagnosticCall("impsend",t,e)}}}},Yr=function(){try{var n,r,i,o,s,a,c=e.perf;I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:Te.getTagTime()},U.STATIC_IMPRESSION_RFW_CALL_RESPONSE_TIME);c.markEnd("ec"),n=c.getEnd("ec"),r=t.performance&&"function"==typeof t.performance.getEntriesByName&&t.performance.getEntriesByName(e.impUrl)[0],i=function(t){var n=c.getStart("bd"),r=c.getStart(N);return e.jsDoSplit?Math.round(t-n):Math.round(t-r)}(n),o=function(e){return Math.round(e&&e.duration)}(r),s=function(e,t){var n=t&&t.responseEnd;return Math.round(e-n)}(n,r),p.isNumeric(i)&&p.isNumeric(o)&&p.isNumeric(s)&&(a={ttecl:i,ecd:o,tsecr:s},I.getAggregator().trigger("addThrottledProp",h.DT_SLOT.IM,"imprf",p(a).toION()))}catch(e){I.getAggregator().trigger("error",h.ERROR_CODES.IMPRESSION_PERFORMANCE)}},jr=function(t,n,r,i,o,s,a,c,u){"use strict";var d,g,f,l,E;return function(r){var i=p.encodeInvalidUrlChars(r.primary.join(","),e.encodeInvalidUrlChars),s=n,a=0,c=function(e){return s.length+e.length+5<=t},u=function(e){if(e)return","+e};return c(i)?(s+=u(i),o.impressionIsIdentifiable(!0),p(r.secondary).each((function(t,n){var r=p.encodeInvalidUrlChars(n,e.encodeInvalidUrlChars);c(r)?s+=u(r):a+=1}))):a+=r.primary.length,s+=",ov:"+a}((l={viewState:h.NA},E=l,Te.isDomless()?E=c.checkScreenLoc(!0)||l:i.on("impFailSafe")?xe.getDoc().body&&(E=c.checkScreenLoc(!0)||l):p.isDef(xe.getDoc().body)&&(E=c.checkScreenLoc(!0)),c.isImmediatelyMeasurable()||c.requiresDelayedViewabilityEvent(),d=qr((f=E).viewState,o,i),g=Kr(f,r,i,o,s,a,c,u),I.getAggregator().trigger("eligiblerender"),{primary:d,secondary:g}))},qr=function(t,n,r){"use strict";var i=I.getAggregator().request("mPage");return["id:"+e.asid,"c:"+n.getCacheBustId(),"sl:"+t,"em:"+Te.embedded,"fr:"+Te.friendly,"thd:"+p.stringifyTriState(i.supportsVisAPI())]},Kr=function(t,n,r,i,o,s,a,c){"use strict";const{measurementConfig:d}=u;var g,f="NotFound",l=[];l.push("mn:"+e.mn),l.push("rg:"+e.region),e.iasProxyPartnerDomain&&l.push("ipp:"+encodeURIComponent(e.iasProxyPartnerDomain)),l.push("pt:"+function(){var e=a.stringifyPingTimes();return t.viewState!==h.NA&&(e+=t.details),e}()),l.push("mu:"+c),l.push(p(s.params()).toParams()),r.on("mrcAudit")&&!Te.isDomless()&&l.push("dvs:"+xe.getDoc().visibilityState),o.iterate((function(e,t){var n=!t.props||p.isUndef(t.props.type),r=!t.props||t.props.type===h.IMPRESSION_EVENT;(n||r)&&l.push(e+":"+t.output())})),n.toString()&&l.push("e:"+n.toString()),l.push(r.output()),l.push("tt:"+e.mode),l.push("et:"+(xe.now()-d.birthdate)),e.perf.mark("si"),r.on("swapids")?l.push("oid:"+e.oid):l.push("uid:"+i.unq),l.push("v:19.8.477"),l.push("sp:"+(e.isSplitMode?1:0)),l.push("st:"+(d.staticMode?1:0)),l.push("fwm:"+("true"===e.fwMonitoring?1:0)),r.on("resolution")&&(l.push("wr:"+p(Se.windowSize()).toArray().join(".")),l.push("sr:"+p(Se.screenSize()).toArray().join(".")));var E=/iasProxyPartnerId=([\d]+)/g.exec(e.scriptUrl),m=E&&E[1],I=e.proxyPartnerId||m||"";return I&&l.push("ppi:"+I),g=function(){var t,n="ias_xpc",r=String(e.scriptUrl).toLowerCase(),i=r.indexOf(n);if(i>-1){var o=r.substring(i+n.length+1),s=o.indexOf("&");t=s>-1?o.substring(0,s):o}else t=f;return t||""}(),f!==g&&l.push("x_xpc:"+g),l},Xr=function(e,t,n,r){"use strict";var i,o,s="adsafe_url=",a="&adsafe_type=",c=[],u=function(e){return-1!==e.key.indexOf("q")||-1!==e.key.indexOf("g")},d=function(e){var i,o,u,d=e.val,g=e.key,f=(o=g,u=s.length+a.length+c.join("&").length+o.length+n,t-u);r&&f<d.length&&f>0&&(d=d.substr(0,f)),(d.length||""===e.val||""===e.type)&&function(e){var n=c.join("&").length;return e.length+n<=t}(i=s+d+a+g)&&c.push(i)};return e&&e.length&&(i=p(e).map((function(e,t){if(u(t))return t})),o=p(e).map((function(e,t){if(!u(t))return t})),p(i.concat(o)).each((function(e,t){d(t)}))),c},zr=function(){"use strict";return{isApplicable:function(e){var t=xe.getWindow();return!(!t.navigator||!t.navigator.plugins)},start:function(e){var t,n,r,i=xe.getWindow(),o=Zr(i.navigator.plugins),s=o.hash();n=s.join("."),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:n},U.PLUGIN_LIST,{type:h.IMPRESSION_EVENT}),s.length&&(t=o.decode(s),r=t.join("."),I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,{output:r},U.PLUGIN_DECODED,{type:h.DT_CODES.ADTALK}))}}},Jr=function(e,t){"use strict";return{start:function(){try{var n=Qr(),r=n.getMethodName(e),i=new oe(t.getEnabledScriptUrl(e));new ei((o=xe.getDoc()).body||o.head||o.documentElement,i).getWindow()[r]=n.getMethod(t)}catch(e){I.getAggregator().trigger(V.ERROR,h.ERROR_CODES.FEATURE_SCRIPT)}var o}}},Qr=function(){"use strict";var t=function(t,n,r){t===e.asid&&(r.unshift(n),I.getAggregator().trigger.apply(null,r))};return{getMethod:function(n){return function(r){var i={asid:e.asid,constant:h,features:n,context:Te,dtBaseURL:e.dtBaseURL,spg:ti};"function"==typeof r&&r(t,i)}},getMethodName:function(e){return"register_"+e}}},$r=function(){"use strict";return{start:function(e,t){p(e).each((function(e,n){t.getEnabledScriptUrl(n)&&Jr(n,t).start()}))}}},Zr=function(e){"use strict";var t=function(e){return e.filename.replace(/\.plugin$/,"")};return{hash:function(){for(var n,r,i,o=0,s=e.length,a=[];o<s;o++)r=t(e[o]),i=Ke.hashCode(r),n=p.toBase(i,62).slice(-4),a.push(n);return a},decode:function(n){var r,i;return r=xe.floor(xe.random()*n.length),i=encodeURIComponent(t(e[r])),[n[r],i]}}},ei=function(t,n){"use strict";var r,i=function(){return"about:blank"};return function(n){var o;(r=Se.createHiddenIframe()).setAttribute("src",i()),r.setAttribute("class","_ntnrjf7826-hj"),(t||e.contextNode.parentNode).appendChild(r),o=function(e){return e.contentWindow.document}(r);var s=["<head></head>",'<body onload="',"var d = document;","var s = d.createElement('script');","d.getElementsByTagName('head')[0].","appendChild(s).src","='"+n+"'\">"].join("");o.open().write(s),o.close()}(n),{getWindow:function(){return r.contentWindow}}},ti=function(t){"use strict";var n=new X;n.listen((function(n){return n&&n.scaInfoOriginatorASID&&n.scaInfoOriginatorASID!==e.asid&&n.cache&&t.allExpectedKeysPresent(n.cache)}),(function(e,r){n.stop(),xe.setTimeout((function(){t.isDtCallAlreadySent()||(I.getAggregator().trigger(V.ADD_THROTTLED_PROP,h.DT_SLOT.FF,"spg",r.scaInfoOriginatorASID),p(r.cache).each((function(e,n){t.addToCache(e,n)})))}),xe.round(1e3*xe.random()))})),I.getAggregator().on("addToSpg",(function(e,n){t.addToCache(n,e),t.isFull()&&(t.sendToOtherTags(),xe.setTimeout(t.sendToOtherTags,1300),xe.setTimeout(t.sendToOtherTags,3200))}))},ni={name:"spg",dependencies:["spgCache"],creator:ti,settings:{tier:h.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){"use strict";return e.on("spg")}}},ri={name:"spgCache",dependencies:[],creator:function(){"use strict";var t=["asp","ch","fsc","mvn","no","sd"],n={},r=!1,i=function(){return o(n)},o=function(e){return p(e).keys().sort().toString()===t.toString()},s=function(){r||(r=!0,p(n).each((function(e,t){I.getAggregator().trigger(V.ADD_OUTPUT_ITEM,t,e,{type:h.DT_CODES.SCA,minDt:!0,sendOnce:!0})})),I.getAggregator().trigger(V.SEND_MIN_DT,h.DT_CODES.SCA))};return{allExpectedKeysPresent:o,isDtCallAlreadySent:function(){return r},addToCache:function(e,t){t&&t.output&&!i()&&(n[e]=t),i()&&s()},isFull:i,sendToOtherTags:function(){(new z).send({scaInfoOriginatorASID:e.asid,cache:n})}}},settings:{}},ii=function(){for(var e=[Wr,xr,Br,ot,it,Ze,et,Je,nt,tt,Qe,Gr,kr,ae,_t,Cn,ri,ni],t=0;t<e.length;t+=1)I(e[t].name,e[t].dependencies,e[t].creator,e[t].settings)};const oi=new RegExp("^(ft|ftias)_?.*_(\\d+)$"),si="?iasend?",ai=({aggregator:e,ftInstance:t,macros:n})=>{try{const r=(({ftInstance:e,macros:t})=>{const n=Object.keys(t),r=n.map((e=>`${e}=${t[e]}`)).join("&")+si;let i=e.replaceMacros(r);const o=i.indexOf(si);return o>0&&(i=i.substring(0,o)),i.split("&").reduce(((e,t)=>{const r=t.split("="),i=r?r[0]:void 0,o=r?r[1]:void 0;return i&&n.includes(i)&&i&&o&&(e[i]=o),e}),{})})({ftInstance:t,macros:n});for(const[t,n]of Object.entries(r)){const r="string"==typeof n?n:"number"==typeof n?n.toString():n;e.trigger(V.ADD_OUTPUT_ITEM,{output:r},t,{type:h.DT_CODES.ADSERVER_MACROS,standalone:!0})}Object.keys(r).length>0&&e.trigger(V.SEND_DT,h.DT_CODES.ADSERVER_MACROS)}catch(e){}},ci=({checkInterval:e,collectorTimeout:t,aggregator:n,macros:r,contextNode:i,scopedWindow:o})=>{const s=xe.setInterval((()=>{const e=(({contextNode:e,scopedWindow:t})=>{var n;const r=null===(n=null==e?void 0:e.getAttribute(h.CALLBACK_IDENTIFIER.toString()))||void 0===n?void 0:n.match(oi);if(!r||r.length<3)return;const i=r[2],o=t?t[`ft${i}`]:null;return o&&"function"==typeof o.replaceMacros?o:void 0})({contextNode:i,scopedWindow:o});e&&(xe.clearInterval(s),ai({aggregator:n,ftInstance:e,macros:r}))}),e);xe.setTimeout((()=>{xe.clearInterval(s)}),t)};class ui{constructor({macros:e,collectorTimeout:t,checkInterval:n,aggregator:r,scopedWindow:i}){this.macros={},this.collectorTimeout=5e3,this.checkInterval=500,this.aggregator=I.getAggregator(),this.collectorTimeout=null!=t?t:this.collectorTimeout,this.checkInterval=null!=n?n:this.checkInterval,this.aggregator=r||this.aggregator,this.scopedWindow=i||("undefined"!=typeof window?window:void 0),this.macros=e||this.macros}applies({contextNode:e,features:t}){var n;const r=null!=this.scopedWindow,i=null!=t&&1==t.on("ftPostRedirectMacros"),o=null!=e&&null!=e.getAttribute(h.CALLBACK_IDENTIFIER.toString())&&oi.test(null!==(n=null==e?void 0:e.getAttribute(h.CALLBACK_IDENTIFIER.toString()))&&void 0!==n?n:"");return!!(r&&i&&o)}start({contextNode:e}){this.aggregator.on(V.IMPRESSION_SENT,(()=>{ci({checkInterval:this.checkInterval,collectorTimeout:this.collectorTimeout,aggregator:this.aggregator,macros:this.macros,contextNode:e,scopedWindow:this.scopedWindow})}))}}class di{constructor({contextNode:e,features:t,bootstrapper:n,macroCollector:r}){this.contextNode=e,this.features=t,this.macroCollectors=r||[new ui({macros:n.ftMacros})]}start(){for(const e of this.macroCollectors)e.applies({contextNode:this.contextNode,features:this.features})&&e.start({contextNode:this.contextNode})}}try{!function(){"use strict";var t,n,r,i,a,d,g;try{(()=>{var t;let n;const r=new s({defaultBootstrapperConfig:e});if(u.addModel(r),r.set("mainBirthdate",r.birthdate?(new Date).getTime()-r.birthdate:-1),!Te.isDomless()&&void 0!==e.contextNode){const t=e.contextNode;n=new c({scriptTagElement:t}),u.addModel(n)}const i=new o;u.addModel(i),null===(t=u.jsConfigRequest)||void 0===t||t.buildRequestUrlFromParameters({contextNode:n})})()}catch(e){}e.perf.markStart(T),ii(),I.startSystem();var f=I.getAggregator();i={},a={},f.provide({[F.OMID_AD_SESSION_CONTEXT]:i}),f.provide({[F.OMID_AS_VERIFICATION_PARAMS]:a}),u.measurementConfig.isResolved&&f.provide(F.FEATURES,Ce()),t=Oe(),n=Fe(),r=(new Ee).createInstance(t,n),f.provide({[F.ERRORS]:t,[F.JSONP]:n,[F.COMMUNICATION]:r}),d=__IASOmidVerificationClient,f.provide({[F.OMID_VERIFICATION_CLIENT]:d}),g=[{environment:Ct(d),adSessionReadyStrategy:bt(d)},{environment:Pt(),adSessionReadyStrategy:Lt()}],new wt(g).resolve().adSessionReadyStrategy.start(),e.perf.markEnd(T)}()}catch(t){__IntegralASDiagnosticCall("initialize",t,e)}};