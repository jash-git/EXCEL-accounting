!function(){"use strict";function o(){}function t(o){this.env=o}function e(o){this.env=o}function i(o){this.env=o}function n(o){this.env=o}o.prototype.logMode=!1,o.prototype.get=function(o,t){var e=this,i=new XMLHttpRequest;i.addEventListener("progress",(function(o){if(e.logMode&&console.log("in progress"),o.lengthComputable){var t=o.loaded/o.total*100;e.logMode&&console.log("loaded:"+t+"%")}})),i.addEventListener("load",(function(o){e.logMode&&console.log(i.responseText),t(i.responseText)})),i.addEventListener("error",(function(o){e.logMode&&(console.log("failed"),console.log(o))})),i.addEventListener("abort",(function(o){e.logMode&&console.log("aborted")})),i.open("GET",o),i.send()},t.prototype.env="dev",t.prototype.version="1.0.0",t.prototype.logMode=!1,t.prototype.info=function(){this.logMode&&console.log("DV360xx version "+this.version+", env:"+this.env)},t.prototype.send=function(o,t,e){this.logMode&&(console.log("RTS trigger DV360 pixel"),console.log(o,t,e)),Math.random();var i="https://ad.doubleclick.net/ddm/activity/src="+o+";type="+t+";cat="+e+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?",n=new Image;return n.src=i,n.width=1,n.height=1,document.body.append(n),!0},e.prototype.env="dev",e.prototype.version="v1.0.0",e.prototype.logMode=!1,e.prototype.ready=!1,e.prototype.info=function(){this.logMode&&console.log("Facebookxx version "+this.version+", env:"+this.env)},e.prototype.init=function(){this.logMode&&console.log("Facebookxx initialize")},e.prototype.send=function(o,t,e){this.logMode&&(console.log("RTS trigger Facebook pixel"),console.log(o,t,e)),this.ready||(fbq("init",o),this.ready=!0);var i={};return i[t]=e,fbq("trackCustom","viewAd",i),!0},i.prototype.env="dev",i.prototype.version="1.0.0",i.prototype.logMode=!1,i.prototype.info=function(){this.logMode&&console.log("YahooDSPxx version "+this.version+", env:"+this.env)},i.prototype.send=function(o,t,e){this.logMode&&(console.log("RTS trigger YahooDSP pixel"),console.log(o,t,e));var i="https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp="+o+"&he={INSERT_MACRO_HERE}&"+t+"="+e,n=new Image;return n.src=i,n.width=1,n.height=1,document.body.append(n),!0},n.apiUrls={dev:"https://d-adsv.svc.litv.tv:8443/rts",staging:"https://dev-adsv.svc.litv.tv:8443/rts",production:"https://adsv.svc.litv.tv/rts"},n.parseParams=function(){for(var o={},t=location.search.replace("?","").split("&"),e=0;e<t.length;e++){var i=t[e].split("=");i.length<2||""!=i[1]&&(o[i[0]]=i[1])}return o},n.prototype.env="dev",n.prototype.apiUrl="",n.prototype.modules={},n.prototype.puid="",n.prototype.list=[],n.prototype.logMode=!1,n.prototype.version="1.0.0",n.prototype.info=function(){this.logMode&&console.log("RTS version "+this.version+", env:"+this.env)},n.prototype.init=function(o){this.logMode&&console.log("RTS init "+o),this.env=o,void 0!==n.apiUrls[o]&&(this.apiUrl=n.apiUrls[o]),this.initModule(),this.initPUID(),this.loadRTdata()},n.prototype.initModule=function(){this.ajax=new o,this.ajax.logMode=this.logMode,this.modules.dv360=new t(this.env),this.modules.dv360.logMode=this.logMode,this.modules.facebook=function(o){var t=new e(o);return t.init(),t}(this.env),this.modules.facebook.logMode=this.logMode,this.modules.yahoodsp=function(o){return new i(o)}(this.env),this.modules.yahoodsp.logMode=this.logMode,this.logMode&&console.log(this.modules)},n.prototype.initPUID=function(){var o="";null!=(o="function"!=typeof URLSearchParams?new URLSearchParams(window.location.search).get("puid"):n.parseParams().puid)&&(this.puid=o)},n.prototype.loadRTdata=function(){var o=this;if(""==this.apiUrl)return!1;var t=this.apiUrl;""!=this.puid&&(t=t+"?puid="+this.puid),this.ajax.get(t,(function(t){o.list=JSON.parse(t),o.logMode&&console.log(o.list),o.executeModule()}))},n.prototype.executeModule=function(){for(var o=this.list.length,t=0;t<o;t++){var e=this.list[t],i=e.platform.toLowerCase();if(void 0!==this.modules[i]){var n=this.modules[i].send(e.pixel_id,e.event,e.event_value);this.logMode&&console.log(n)}}},function(o){if(void 0!==window.RTS)return!1;var t=new n(o);t.init(o),window.RTS=t}("production")}();