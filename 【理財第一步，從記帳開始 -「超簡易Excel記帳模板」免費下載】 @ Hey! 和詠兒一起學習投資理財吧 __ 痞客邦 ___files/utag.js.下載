(()=>{"use strict";function e(e,t,n,r){void 0===r&&(r="");var i="";if(n){var o=new Date;o.setTime(o.getTime()+1e3*n),i="; expires="+o.toUTCString()}var a=r;""===r&&(a=function(){var e=window.location.hostname.split("."),t="."+e[e.length-2]+"."+e[e.length-1];return["net","com","org","edu","idv"].includes(e[e.length-2])&&(t="."+e[e.length-3]+t),t}());var c=e+"="+t+i+"; domain="+a+"; path=/";document.cookie=c}function t(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}var n;!function(e){e.Utag="utag",e.Tag="tag"}(n||(n={})),function(){var r,i,o={type:n.Utag,emome:!0},a=null!==(r=o.facade)&&void 0!==r?r:"hitag";window[a]=null!==(i=window[a])&&void 0!==i?i:function(r,i){var o,a,c,l,s,d=new URL(null!==(a=null===(o=document.currentScript)||void 0===o?void 0:o.getAttribute("src"))&&void 0!==a?a:"//"+r,window.location.href),u=d.host,f=d.search,h=new URLSearchParams(f);i.domain?r=i.domain:h.has("cn")&&(r=u);var g,v=null!==(c=i.baseName)&&void 0!==c?c:"_ht",p="__htid",m=null!==(l=i.dnt)&&void 0!==l&&l,w=(g=window.location.hostname,void 0!==[".safeframe.googlesyndication.com"].find((function(e){return-1!==g.indexOf(e)}))),x=Math.random(),y=v+"_em_wy",I=[],S=[],b=null!==(s=t("uuid"))&&void 0!==s?s:t(p),k=v+"_hi";function C(){if(!0===w)return!0;if(m){var e=localStorage.getItem(m);return null===e&&(localStorage.setItem(m,"false"),e=localStorage.getItem(m)),"false"!==e}return!1}function U(e,o){!0!==C()&&function(e,t,r,i,o){if(void 0===o&&(o=""),void 0!==r)(new Image).src="//wy."+e+"/pixel?bd="+i+"&wy="+r+o;else{var a=new Image;t===n.Utag?a.src="//"+i.substr(0,36)+"."+e+"/pixel?bd="+i+o:a.src="//"+e+"/pixel?bd="+i+o}}(r,i.type,t(y),e,o)}function R(n){if(!0!==C()&&!("holmesmind"===window.location.hostname.split(".")[1]&&x>1)){var o=v+"_em";if(void 0===t(o)&&i.emome&&!S.includes(n)){S.push(n),e(o,"1",600);var a=new XMLHttpRequest;a.open("GET","//"+r+"/emome2?u="+n,!0),a.withCredentials=!0,a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var t=JSON.parse(a.responseText);null===t.data||e(y,t.data,t["cache-sec"]),e(o,"1",t["cache-sec"])}},a.send()}}}b&&void 0===t(k)&&(b=void 0,e(k,"1",86400));var T=[];if(!b&&!C()){var _=new XMLHttpRequest;_.open("GET","//"+r+"/",!0),_.withCredentials=!0,_.onreadystatechange=function(){if(4===_.readyState&&200===_.status&&(64===(b=_.responseText).length||36===b.length?(e(p,b,31536e3),R(b)):37===b.length&&"!"===b[b.length-1]&&(b=b.substr(0,b.length-1),(void 0===t(p)||"string"==typeof(b=t(p)))&&e(p,b,31536e3),R(b)),64===b.length||36===b.length))for(;0<T.length;){var n=T.shift();void 0!==n&&n(b)}},_.send()}return{cmdHp:10,fire:function(e,t){if(!0!==C()){var n="",r="";e&&("string"==typeof e?(n="&t="+encodeURIComponent(e),r=encodeURIComponent(e)):Object.prototype.hasOwnProperty.call(e,"partnerId")&&(n="&t="+encodeURIComponent(e.partnerId),r=encodeURIComponent(e.partnerId),Object.prototype.hasOwnProperty.call(e,"referrer")&&"string"==typeof e.referrer&&(n=n+"&referrer="+encodeURIComponent(e.referrer)))),"50ef57"===r&&x>1||(b?(U(b,n),R(b),t&&t(b)):T.push((function(e){U(e,n),t&&t(e)})))}},cm:function(t,n){if(!0!==C()){var i="//"+r+"/cm?c="+t+"&cid="+n;if(b&&(i+="&mp="+b),!I.includes(i)){if("50ef57"===t&&x>1)return;I.push(i),e(v+"_"+t,"1",86400);var o=new XMLHttpRequest;o.open("GET",i,!0),o.withCredentials=!0,o.send()}}},track:function(e){var t;t="string"==typeof e?e:e.toString(),this.fire(JSON.stringify({tid:t}),(function(e){var n=new URLSearchParams(window.location.search),r=n.get("trackid")||n.get("trackerId");n.delete("trackid"),n.delete("trackerId"),n.set("u",e),"event"!==t&&((new Image).src="//tracker.ssp.hinet.net/i/"+t+"?"+n.toString()),null!==r&&((new Image).src="//tracker.ssp.hinet.net/i/"+r+"?"+n.toString())}))},shot:function(e){if(!0!==C()){var t,n=function(){for(var e=/utag\.js\?id=([\w]+)/,t=0;t<document.scripts.length;++t){var n=e.exec(document.scripts[t].src);if(null!==n)return n[1]}return null}(),r=null!==(t=/\?.*(capc=[\w]+)/.exec(window.location.href))?t[1]:null;null!==n&&this.fire(n,(function(t){(new Image).src="//tracker.ssp.hinet.net/b?id="+n+"&event="+e.event+"&oid="+(((new Date).getTime()/1e3|0).toString(16)+"xxxxxxxxxxxxxxxx".replace(/[x]/g,(function(e){return(16*Math.random()|0).toString(16)})).toLowerCase())+"&u="+t+(null!==r?"&"+r:"")}))}},call:function(e,t){switch(t=null!=t?t:[],e){case"fire":this[e].apply(this,t);break;case"cm":this[e](t[0],t[1]);break;case"track":case"shot":this[e](t[0])}}}}("t.ssp.hinet.net",o);var c=window[a];!function(e){for(var t,n,r,i=document.getElementsByTagName("hitag"),o=0;o<i.length;o+=1){var a=i[o],c=null!==(n=null===(t=a.dataset)||void 0===t?void 0:t.tag)&&void 0!==n?n:"";""!==c?e.fire(c):e.fire(),null===(r=a.parentNode)||void 0===r||r.removeChild(a)}}(c),function(e){var t=window.setInterval((function(){var n,r="__hitagCmdQueue";window[r]=null!==(n=window[r])&&void 0!==n?n:[];for(var i=window[r],o=e;0<i.length;){var a=i.shift();"string"==typeof a[0]&&o.call(a[0],Array.prototype.slice.call(a,1))}0>o.cmdHp&&window.clearInterval(t)}),500)}(c)}()})();